<div class="app-container flex flex-col homepage-container">
  {{>nav}}
  <main class="app__main flex w-full">
    <div class="medicals__sidenav max-w-[70px] mt-[100px]">
      <ul class="medicals__sidenav__list flex flex-col justify-center">
        <li class="medicals__sidenav__item medicals__sidenav__item">
          {{#if userLogin}}
          <a href="" id="schedule-user" class="medicals__sidenav__link"><i
              class="fa-solid fa-calendar-days medicals__sidenav__icon"
            title="Lịch cá nhân"></i></a>

            {{else}}
            <a href="" id="schedule-doctor" class="medicals__sidenav__link"><i
              class="fa-solid fa-calendar-days medicals__sidenav__icon"
            title="Lịch cá nhân"></i></a>
            {{/if}}
        </li>
        <li class="medicals__sidenav__item medicals__sidenav__item">
          <a href="#" class="medicals__sidenav__link"><i
              class="medicals__sidenav__icon  fa-solid fa-user-doctor"
            ></i></a>
        </li>
        <li class="medicals__sidenav__item medicals__sidenav__item">
          <a href="#" class="medicals__sidenav__link"><i
              class="medicals__sidenav__icon fa-brands fa-rocketchat"
            ></i></a>
        </li>
        <li class="medicals__sidenav__item medicals__sidenav__item">
          <a href="#" class="medicals__sidenav__link"><i
              class="medicals__sidenav__icon medicals__sidenav__icon--active fa-solid fa-gear"
            ></i></a>
        </li>
      </ul>
    </div>
    <div class="app-section overflow-y-scroll">
      <h2 class="app-section__header">Trang cá nhân</h2>
      <div class="app-section__content">
        <form id="profile-edit-form" class="" method="post" action="/user/changeAccount" enctype="multipart/form-data">
          <input  name="id" type="text" value="{{account.id}}" hidden >
          <div class="is-row flex items-center justify-center">
            <a href="#" id="fileSelect" for="avatar-input-file" class="cursor-pointer">
              <div class="relative">
                <img id="profile-avatar" class="w-36 h-36 rounded-full" src="../uploads/{{account.image}}" alt="">
                <span class="bottom-0 right-0 absolute  w-3.5 h-3.5 border-2 border-white ">
                  <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 13a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>
                </span>
              </div>
            </a>
            <input id="fileElem" type="file" name="image" accept="image/*" hidden>
            <div class="file-path-wrapper">
            <input class="file-path validate hidden" type="text" value="{{account.image}}" name="img_old">
            </div>
            <input type="file" id="fileElem" multiple accept="image/*" style="display:none">
            </div>
          </div>
          <div class="is-row">
            <div class="medicals__input-field is-half ">
              <label for="first-name-edit" class="block mb-2 text-sm font-medium text-gray-900">Tên</label>
              <div class="relative">
                <input type="text" id="first-name-edit" name="firstName" class="medicals__input bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 " placeholder="Emma" value="{{account.firstName}}">
              </div>
            </div>
            <div class="medicals__input-field is-half ">
              <label for="last-name-edit" class="block mb-2 text-sm font-medium text-gray-900">Họ</label>
              <div class="relative">
                <input type="text" id="last-name-edit" name="lastName" class="medicals__input bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 " placeholder="Watson" value="{{account.lastName}}">
              </div>
            </div>
          </div>
          <div class="is-row">
            <div class="medicals__input-field is-half">
              <label for="email-adress-edit" class="block mb-2 text-sm font-medium text-gray-900">Email</label>
              <div class="relative">
                <div class="flex absolute inset-y-0 left-0 items-center pl-3 pointer-events-none">
                  <svg class="w-5 h-5 text-gray-500" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"></path><path d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"></path></svg>
                </div>
                <input type="email" id="email-adress-edit" name="email" class="medicals__input bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full pl-10 p-2.5" placeholder="name@flowbite.com" value="{{account.email}}" disabled>
              </div>
            </div>
            <div class="medicals__input-field is-half">
              <label for="phoneno-edit" class="block mb-2 text-sm font-medium text-gray-900">Số điện thoại</label>
              <div class="relative">
                <div class="flex absolute inset-y-0 left-0 items-center pl-3 pointer-events-none">
                  <svg class="w-5 h-5 text-gray-500" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path></svg>
                </div>
                <input type="number" id="phoneno-edit" name="phoneNumber" class="medicals__input bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full pl-10 p-2.5" placeholder="0123456789" value="{{account.phoneNumber}}">
              </div>
            </div>

          </div>
            <div class="is-row">
            <div class="medicals__input-field is-full ">
              <label for="gender-edit" class="block mb-2 text-sm font-medium text-gray-900">Giới Tính</label>
              <div class="relative">
                  <div class="flex items-center mb-4">
                    <input id="gender-edit" type="radio" name="gender" value="0" class="w-4 h-4 border-gray-300  dark:bg-gray-700 dark:border-gray-600" {{gender account.gender 0}}>
                    <label for="gender-edit" class="block ml-2 text-sm font-medium text-gray-900 dark:text-gray-900">
                          Nam
                    </label>
                  </div>
                  <div class="flex items-center mb-4">
                    <input id="gender-edit" type="radio" name="gender" value="1" class="w-4 h-4 border-gray-300  dark:bg-gray-700 dark:border-gray-600" {{gender account.gender 1}}>
                    <label for="gender-edit" class="block ml-2 text-sm font-medium text-gray-900 dark:text-gray-900">
                            Nữ
                    </label>
                  </div>
              </div>
            </div>
          </div>
          <div class="is-row">
            <div class="medicals__input-field is-full ">
              <label for="address-name-edit" class="block mb-2 text-sm font-medium text-gray-900">Địa chỉ</label>
              <div class="relative">
                <input type="text" id="address-name-edit" name="address" class="medicals__input bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 " placeholder="123 X Y" value="{{account.address}}">
              </div>
            </div>
          </div>
          <div class="is-row flex justify-end">
            <button class="btn--primary mr-4 block text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5   py-2.5 text-center" type="button" data-modal-toggle="update-profile-confirm-modal">
              Cập nhật
            </button>
            <a href="/user" class="btn--secondary mr-4 block bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5   py-2.5 text-center" type="button" >
              Hủy bỏ
            </a>
        
            {{!-- <a href="#update-profile-confirm-modal" class="btn--primary" rel="modal:open">Cập nhật</a>
            <a href="#" id="cancel-update-profile" class="btn--primary ml-3">Hủy bỏ</a> --}}
          </div>
          <div id="update-profile-confirm-modal" tabindex="-1" aria-hidden="true" class="hidden overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 w-full md:inset-0 h-modal md:h-full">
            <div class="relative p-4 w-full max-w-2xl h-full md:h-auto">
                <!-- Modal content -->
                <div class="relative bg-white rounded-lg shadow ">
                    <!-- Modal header -->
                    <div class="flex justify-between items-start p-5 rounded-t border-b ">
                        <h3 class="text-xl font-semibold text-gray-900 lg:text-2xl ">
                            Bạn có muốn cập nhật thông tin cá nhân chứ?
                        </h3>
                        <button type="button" class="text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center " data-modal-toggle="update-profile-confirm-modal">
                            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg>  
                        </button>
                    </div>
                    <!-- Modal body -->
                    <div class="p-6 space-y-6">
                        <p class="text-base leading-relaxed text-gray-500 ">
                          Bằng việc chọn "Xác nhận", mọi thông tin thay đổi sẽ được lưu vào dữ liệu. Bạn có chắc chắn với các thông tin trên?
                        </p>
                    </div>
                    <!-- Modal footer -->
                    <div class="flex items-center p-6 space-x-2 rounded-b border-t border-gray-200 dark:border-gray-600">
                        <button form="profile-edit-form" data-modal-toggle="update-profile-confirm-modal" type="submit" class="btn--primary text-white  hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center">Xác nhận</button>
                        <button data-modal-toggle="update-profile-confirm-modal" type="button" class="text-gray-500 bg-white hover:bg-gray-100 focus:ring-4 focus:outline-none focus:ring-blue-300 rounded-lg border border-gray-200 text-sm font-medium px-5 py-2.5 hover:text-gray-900 focus:z-10">Hủy bỏ</button>
                    </div>
                </div>
            </div>
          </div>
          {{!-- <div id="update-profile-confirm-modal" class="modal overflow-hidden">
            <p>Bạn có muốn xóa </p>
            <button id="submit-update-profile-form" type="submit" class="btn--primary" form="profile-edit-form">Xác Nhận Thay Đổi</button>
          </div> --}}
          
        </form>

        </div>
        
      </div>
    </div>
  </main>
</div>

{{!-- <h1>Edit Profile</h1>
<br />
<h1>Xu Của bạn : {{account.balance}} Xu</h1>
<br />
<a href='' class='btn btn-primary'> Nạp Xu</a>
<br />
<a href='/auth/forgotAccount' class='btn btn-primary'>Thay Đổi Mật Khẩu</a>
<div class='container'>
  <div class='row'>
    <form class='col s12' method='post' action='/user/changeAccount' enctype='multipart/form-data'>
      <input name='id' type='text' value='{{account.id}}' hidden />
      <div class='row'>
        <div class='input-field col s6'>
          <input
            id='first_name'
            name='firstName'
            type='text'
            value='{{account.firstName}}'
            class='validate'
          />
          <label for='first_name'>Họ</label>
        </div>
        <div class='input-field col s6'>
          <input
            id='last_name'
            name='lastName'
            value='{{account.lastName}}'
            type='text'
            class='validate'
          />
          <label for='last_name'>Tên</label>
        </div>
      </div>
      <div class='row'>
        <div class='input-field col s12'>
          <input disabled value='{{account.email}}' type='email' class='validate' />
          <label for='disabled'>Địa chỉ Email</label>
        </div>
      </div>
      <div class='row'>
        <div class='input-field col s12'>
          <input
            id='phoneNumber'
            name='phoneNumber'
            type='number'
            class='validate'
            value='{{account.phoneNumber}}'
          />
          <label for='phoneNumber'>Số điện thoại</label>
        </div>
      </div>
      <div class='row'>
        <div class='input-field col s12'>
          <input
            id='address'
            name='address'
            type='text'
            class='validate'
            value='{{account.address}}'
          />
          <label for='address'>Địa Chỉ</label>
        </div>
      </div>
      <div class='row'>
        <img src='../uploads/{{account.image}}' alt='' width='50px' />
        <div class='file-field input-field col s5 m6'>
          <div class='btn btn-active'>
            <span>Change avatar</span>
            <input type='file' name='image' />
          </div>
          <div class='file-path-wrapper'>
            <input
              class='file-path validate'
              type='text'
              value='{{account.image}}'
              name='img_old'
            />
          </div>
        </div>
      </div>

      <button
        onclick="return confirm('Bạn có chắc là bạn muốn thay đổi thông tin cá nhân của mình ?')"
        type='submit'
        class=''
      > Xác Nhận Thay Đổi</button>
    </form>
  </div>
</div> --}}
<script src='../script/uploadFile.js'></script>
<script>
  $('#profile-edit-form').on('submit', function (e) {
    $('#update-profile-confirm-modal').hide(); 
  })

</script>

<script src = "../script/handleLinkSchedule.js"></script>