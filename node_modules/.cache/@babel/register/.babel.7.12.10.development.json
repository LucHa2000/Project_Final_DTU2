{"{\"sourceRoot\":\"/Users/mac/Desktop/Final_Project_DTU/src/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/mac/Desktop/Final_Project_DTU\",\"filename\":\"/Users/mac/Desktop/Final_Project_DTU/src/app.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/mac/Desktop/Final_Project_DTU\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar _socketServer = require(\"../src/public/script/socketServer\");\n\nvar express = require(\"express\");\n\nvar path = require(\"path\");\n\nvar morgan = require(\"morgan\");\n\nvar session = require(\"express-session\");\n\nvar app = express();\n\nvar flash = require(\"connect-flash\"); //flash session\n\n\nvar cookieParser = require(\"cookie-parser\");\n\nvar exphbs = require(\"express-handlebars\"); //const flash = require(\"req-flash\");\n\n\napp.use(flash());\n\nvar bodyParser = require(\"body-parser\");\n\nvar route = require(\"./routes\");\n\nvar server = require(\"http\").Server(app);\n\nvar moment = require(\"moment\");\n\nvar io = require(\"socket.io\")(server);\n\nvar nodemailer = require(\"nodemailer\");\n\nrequire(\"dotenv\").config(); //parsing middleware\n//parse application/s-www-form-urlencoded\n\n\napp.use(express[\"static\"](path.join(__dirname, \"public\")));\napp.use(bodyParser.json());\napp.use(express.urlencoded({\n  extended: true\n}));\napp.use(cookieParser(\"SecretStringForCookies\")); // use cookie\n\napp.use(session({\n  secret: \"SecretStringForSession\",\n  resave: true,\n  saveUninitialized: true,\n  cookie: {\n    maxAge: 180 * 60 * 1000,\n    secure: false\n  }\n}));\napp.use(flash());\napp.use(morgan(\"combined\")); //parse application/json\n\napp.use(express.json()); //template Engine\n\napp.engine(\"hbs\", exphbs({\n  extname: \".hbs\",\n  //config hbs\n  helpers: require(\"./helpers/hbs\")\n}));\napp.set(\"view engine\", \"hbs\");\napp.set(\"views\", path.join(__dirname, \"resources/views\")); //socket io in server\n\nvar port = process.env.PORT || 3000;\nserver.listen(port, function () {\n  console.log(\" Server run at http://localhost:\".concat(port));\n});\n(0, _socketServer.socketServer)(io);\n(0, _socketServer.serverNotification)(io);\nroute(app);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInBhdGgiLCJtb3JnYW4iLCJzZXNzaW9uIiwiYXBwIiwiZmxhc2giLCJjb29raWVQYXJzZXIiLCJleHBoYnMiLCJ1c2UiLCJib2R5UGFyc2VyIiwicm91dGUiLCJzZXJ2ZXIiLCJTZXJ2ZXIiLCJtb21lbnQiLCJpbyIsIm5vZGVtYWlsZXIiLCJjb25maWciLCJqb2luIiwiX19kaXJuYW1lIiwianNvbiIsInVybGVuY29kZWQiLCJleHRlbmRlZCIsInNlY3JldCIsInJlc2F2ZSIsInNhdmVVbmluaXRpYWxpemVkIiwiY29va2llIiwibWF4QWdlIiwic2VjdXJlIiwiZW5naW5lIiwiZXh0bmFtZSIsImhlbHBlcnMiLCJzZXQiLCJwb3J0IiwicHJvY2VzcyIsImVudiIsIlBPUlQiLCJsaXN0ZW4iLCJjb25zb2xlIiwibG9nIl0sIm1hcHBpbmdzIjoiOztBQWtCQTs7QUFsQkEsSUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBRCxDQUF2Qjs7QUFDQSxJQUFNQyxJQUFJLEdBQUdELE9BQU8sQ0FBQyxNQUFELENBQXBCOztBQUNBLElBQU1FLE1BQU0sR0FBR0YsT0FBTyxDQUFDLFFBQUQsQ0FBdEI7O0FBQ0EsSUFBTUcsT0FBTyxHQUFHSCxPQUFPLENBQUMsaUJBQUQsQ0FBdkI7O0FBQ0EsSUFBTUksR0FBRyxHQUFHTCxPQUFPLEVBQW5COztBQUNBLElBQU1NLEtBQUssR0FBR0wsT0FBTyxDQUFDLGVBQUQsQ0FBckIsQyxDQUF3Qzs7O0FBQ3hDLElBQU1NLFlBQVksR0FBR04sT0FBTyxDQUFDLGVBQUQsQ0FBNUI7O0FBQ0EsSUFBTU8sTUFBTSxHQUFHUCxPQUFPLENBQUMsb0JBQUQsQ0FBdEIsQyxDQUNBOzs7QUFDQUksR0FBRyxDQUFDSSxHQUFKLENBQVFILEtBQUssRUFBYjs7QUFFQSxJQUFNSSxVQUFVLEdBQUdULE9BQU8sQ0FBQyxhQUFELENBQTFCOztBQUNBLElBQU1VLEtBQUssR0FBR1YsT0FBTyxDQUFDLFVBQUQsQ0FBckI7O0FBQ0EsSUFBTVcsTUFBTSxHQUFHWCxPQUFPLENBQUMsTUFBRCxDQUFQLENBQWdCWSxNQUFoQixDQUF1QlIsR0FBdkIsQ0FBZjs7QUFDQSxJQUFNUyxNQUFNLEdBQUdiLE9BQU8sQ0FBQyxRQUFELENBQXRCOztBQUNBLElBQUljLEVBQUUsR0FBR2QsT0FBTyxDQUFDLFdBQUQsQ0FBUCxDQUFxQlcsTUFBckIsQ0FBVDs7QUFDQSxJQUFNSSxVQUFVLEdBQUdmLE9BQU8sQ0FBQyxZQUFELENBQTFCOztBQU1BQSxPQUFPLENBQUMsUUFBRCxDQUFQLENBQWtCZ0IsTUFBbEIsRyxDQUNBO0FBQ0E7OztBQUNBWixHQUFHLENBQUNJLEdBQUosQ0FBUVQsT0FBTyxVQUFQLENBQWVFLElBQUksQ0FBQ2dCLElBQUwsQ0FBVUMsU0FBVixFQUFxQixRQUFyQixDQUFmLENBQVI7QUFDQWQsR0FBRyxDQUFDSSxHQUFKLENBQVFDLFVBQVUsQ0FBQ1UsSUFBWCxFQUFSO0FBQ0FmLEdBQUcsQ0FBQ0ksR0FBSixDQUNFVCxPQUFPLENBQUNxQixVQUFSLENBQW1CO0FBQ2pCQyxFQUFBQSxRQUFRLEVBQUU7QUFETyxDQUFuQixDQURGO0FBS0FqQixHQUFHLENBQUNJLEdBQUosQ0FBUUYsWUFBWSxDQUFDLHdCQUFELENBQXBCLEUsQ0FBaUQ7O0FBQ2pERixHQUFHLENBQUNJLEdBQUosQ0FDRUwsT0FBTyxDQUFDO0FBQ05tQixFQUFBQSxNQUFNLEVBQUUsd0JBREY7QUFFTkMsRUFBQUEsTUFBTSxFQUFFLElBRkY7QUFHTkMsRUFBQUEsaUJBQWlCLEVBQUUsSUFIYjtBQUlOQyxFQUFBQSxNQUFNLEVBQUU7QUFDTkMsSUFBQUEsTUFBTSxFQUFFLE1BQU0sRUFBTixHQUFXLElBRGI7QUFFTkMsSUFBQUEsTUFBTSxFQUFFO0FBRkY7QUFKRixDQUFELENBRFQ7QUFXQXZCLEdBQUcsQ0FBQ0ksR0FBSixDQUFRSCxLQUFLLEVBQWI7QUFDQUQsR0FBRyxDQUFDSSxHQUFKLENBQVFOLE1BQU0sQ0FBQyxVQUFELENBQWQsRSxDQUNBOztBQUNBRSxHQUFHLENBQUNJLEdBQUosQ0FBUVQsT0FBTyxDQUFDb0IsSUFBUixFQUFSLEUsQ0FDQTs7QUFDQWYsR0FBRyxDQUFDd0IsTUFBSixDQUNFLEtBREYsRUFFRXJCLE1BQU0sQ0FBQztBQUNMc0IsRUFBQUEsT0FBTyxFQUFFLE1BREo7QUFDWTtBQUNqQkMsRUFBQUEsT0FBTyxFQUFFOUIsT0FBTyxDQUFDLGVBQUQ7QUFGWCxDQUFELENBRlI7QUFPQUksR0FBRyxDQUFDMkIsR0FBSixDQUFRLGFBQVIsRUFBdUIsS0FBdkI7QUFDQTNCLEdBQUcsQ0FBQzJCLEdBQUosQ0FBUSxPQUFSLEVBQWlCOUIsSUFBSSxDQUFDZ0IsSUFBTCxDQUFVQyxTQUFWLEVBQXFCLGlCQUFyQixDQUFqQixFLENBQ0E7O0FBRUEsSUFBTWMsSUFBSSxHQUFHQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsSUFBWixJQUFvQixJQUFqQztBQUNBeEIsTUFBTSxDQUFDeUIsTUFBUCxDQUFjSixJQUFkLEVBQW9CLFlBQU07QUFDeEJLLEVBQUFBLE9BQU8sQ0FBQ0MsR0FBUiwyQ0FBK0NOLElBQS9DO0FBQ0QsQ0FGRDtBQUdBLGdDQUFhbEIsRUFBYjtBQUVBLHNDQUFtQkEsRUFBbkI7QUFFQUosS0FBSyxDQUFDTixHQUFELENBQUwiLCJzb3VyY2VSb290IjoiL1VzZXJzL21hYy9EZXNrdG9wL0ZpbmFsX1Byb2plY3RfRFRVL3NyYy8iLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBleHByZXNzID0gcmVxdWlyZShcImV4cHJlc3NcIik7XHJcbmNvbnN0IHBhdGggPSByZXF1aXJlKFwicGF0aFwiKTtcclxuY29uc3QgbW9yZ2FuID0gcmVxdWlyZShcIm1vcmdhblwiKTtcclxuY29uc3Qgc2Vzc2lvbiA9IHJlcXVpcmUoXCJleHByZXNzLXNlc3Npb25cIik7XHJcbmNvbnN0IGFwcCA9IGV4cHJlc3MoKTtcclxuY29uc3QgZmxhc2ggPSByZXF1aXJlKFwiY29ubmVjdC1mbGFzaFwiKTsgLy9mbGFzaCBzZXNzaW9uXHJcbmNvbnN0IGNvb2tpZVBhcnNlciA9IHJlcXVpcmUoXCJjb29raWUtcGFyc2VyXCIpO1xyXG5jb25zdCBleHBoYnMgPSByZXF1aXJlKFwiZXhwcmVzcy1oYW5kbGViYXJzXCIpO1xyXG4vL2NvbnN0IGZsYXNoID0gcmVxdWlyZShcInJlcS1mbGFzaFwiKTtcclxuYXBwLnVzZShmbGFzaCgpKTtcclxuXHJcbmNvbnN0IGJvZHlQYXJzZXIgPSByZXF1aXJlKFwiYm9keS1wYXJzZXJcIik7XHJcbmNvbnN0IHJvdXRlID0gcmVxdWlyZShcIi4vcm91dGVzXCIpO1xyXG5jb25zdCBzZXJ2ZXIgPSByZXF1aXJlKFwiaHR0cFwiKS5TZXJ2ZXIoYXBwKTtcclxuY29uc3QgbW9tZW50ID0gcmVxdWlyZShcIm1vbWVudFwiKTtcclxudmFyIGlvID0gcmVxdWlyZShcInNvY2tldC5pb1wiKShzZXJ2ZXIpO1xyXG5jb25zdCBub2RlbWFpbGVyID0gcmVxdWlyZShcIm5vZGVtYWlsZXJcIik7XHJcblxyXG5pbXBvcnQge1xyXG4gIHNlcnZlck5vdGlmaWNhdGlvbixcclxuICBzb2NrZXRTZXJ2ZXIsXHJcbn0gZnJvbSBcIi4uL3NyYy9wdWJsaWMvc2NyaXB0L3NvY2tldFNlcnZlclwiO1xyXG5yZXF1aXJlKFwiZG90ZW52XCIpLmNvbmZpZygpO1xyXG4vL3BhcnNpbmcgbWlkZGxld2FyZVxyXG4vL3BhcnNlIGFwcGxpY2F0aW9uL3Mtd3d3LWZvcm0tdXJsZW5jb2RlZFxyXG5hcHAudXNlKGV4cHJlc3Muc3RhdGljKHBhdGguam9pbihfX2Rpcm5hbWUsIFwicHVibGljXCIpKSk7XHJcbmFwcC51c2UoYm9keVBhcnNlci5qc29uKCkpO1xyXG5hcHAudXNlKFxyXG4gIGV4cHJlc3MudXJsZW5jb2RlZCh7XHJcbiAgICBleHRlbmRlZDogdHJ1ZSxcclxuICB9KVxyXG4pO1xyXG5hcHAudXNlKGNvb2tpZVBhcnNlcihcIlNlY3JldFN0cmluZ0ZvckNvb2tpZXNcIikpOyAvLyB1c2UgY29va2llXHJcbmFwcC51c2UoXHJcbiAgc2Vzc2lvbih7XHJcbiAgICBzZWNyZXQ6IFwiU2VjcmV0U3RyaW5nRm9yU2Vzc2lvblwiLFxyXG4gICAgcmVzYXZlOiB0cnVlLFxyXG4gICAgc2F2ZVVuaW5pdGlhbGl6ZWQ6IHRydWUsXHJcbiAgICBjb29raWU6IHtcclxuICAgICAgbWF4QWdlOiAxODAgKiA2MCAqIDEwMDAsXHJcbiAgICAgIHNlY3VyZTogZmFsc2UsXHJcbiAgICB9LFxyXG4gIH0pXHJcbik7XHJcbmFwcC51c2UoZmxhc2goKSk7XHJcbmFwcC51c2UobW9yZ2FuKFwiY29tYmluZWRcIikpO1xyXG4vL3BhcnNlIGFwcGxpY2F0aW9uL2pzb25cclxuYXBwLnVzZShleHByZXNzLmpzb24oKSk7XHJcbi8vdGVtcGxhdGUgRW5naW5lXHJcbmFwcC5lbmdpbmUoXHJcbiAgXCJoYnNcIixcclxuICBleHBoYnMoe1xyXG4gICAgZXh0bmFtZTogXCIuaGJzXCIsIC8vY29uZmlnIGhic1xyXG4gICAgaGVscGVyczogcmVxdWlyZShcIi4vaGVscGVycy9oYnNcIiksXHJcbiAgfSlcclxuKTtcclxuYXBwLnNldChcInZpZXcgZW5naW5lXCIsIFwiaGJzXCIpO1xyXG5hcHAuc2V0KFwidmlld3NcIiwgcGF0aC5qb2luKF9fZGlybmFtZSwgXCJyZXNvdXJjZXMvdmlld3NcIikpO1xyXG4vL3NvY2tldCBpbyBpbiBzZXJ2ZXJcclxuXHJcbmNvbnN0IHBvcnQgPSBwcm9jZXNzLmVudi5QT1JUIHx8IDMwMDA7XHJcbnNlcnZlci5saXN0ZW4ocG9ydCwgKCkgPT4ge1xyXG4gIGNvbnNvbGUubG9nKGAgU2VydmVyIHJ1biBhdCBodHRwOi8vbG9jYWxob3N0OiR7cG9ydH1gKTtcclxufSk7XHJcbnNvY2tldFNlcnZlcihpbyk7XHJcblxyXG5zZXJ2ZXJOb3RpZmljYXRpb24oaW8pO1xyXG5cclxucm91dGUoYXBwKTtcclxuIl19","map":{"version":3,"sources":["app.js"],"names":["express","require","path","morgan","session","app","flash","cookieParser","exphbs","use","bodyParser","route","server","Server","moment","io","nodemailer","config","join","__dirname","json","urlencoded","extended","secret","resave","saveUninitialized","cookie","maxAge","secure","engine","extname","helpers","set","port","process","env","PORT","listen","console","log"],"mappings":";;AAkBA;;AAlBA,IAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,IAAMC,IAAI,GAAGD,OAAO,CAAC,MAAD,CAApB;;AACA,IAAME,MAAM,GAAGF,OAAO,CAAC,QAAD,CAAtB;;AACA,IAAMG,OAAO,GAAGH,OAAO,CAAC,iBAAD,CAAvB;;AACA,IAAMI,GAAG,GAAGL,OAAO,EAAnB;;AACA,IAAMM,KAAK,GAAGL,OAAO,CAAC,eAAD,CAArB,C,CAAwC;;;AACxC,IAAMM,YAAY,GAAGN,OAAO,CAAC,eAAD,CAA5B;;AACA,IAAMO,MAAM,GAAGP,OAAO,CAAC,oBAAD,CAAtB,C,CACA;;;AACAI,GAAG,CAACI,GAAJ,CAAQH,KAAK,EAAb;;AAEA,IAAMI,UAAU,GAAGT,OAAO,CAAC,aAAD,CAA1B;;AACA,IAAMU,KAAK,GAAGV,OAAO,CAAC,UAAD,CAArB;;AACA,IAAMW,MAAM,GAAGX,OAAO,CAAC,MAAD,CAAP,CAAgBY,MAAhB,CAAuBR,GAAvB,CAAf;;AACA,IAAMS,MAAM,GAAGb,OAAO,CAAC,QAAD,CAAtB;;AACA,IAAIc,EAAE,GAAGd,OAAO,CAAC,WAAD,CAAP,CAAqBW,MAArB,CAAT;;AACA,IAAMI,UAAU,GAAGf,OAAO,CAAC,YAAD,CAA1B;;AAMAA,OAAO,CAAC,QAAD,CAAP,CAAkBgB,MAAlB,G,CACA;AACA;;;AACAZ,GAAG,CAACI,GAAJ,CAAQT,OAAO,UAAP,CAAeE,IAAI,CAACgB,IAAL,CAAUC,SAAV,EAAqB,QAArB,CAAf,CAAR;AACAd,GAAG,CAACI,GAAJ,CAAQC,UAAU,CAACU,IAAX,EAAR;AACAf,GAAG,CAACI,GAAJ,CACET,OAAO,CAACqB,UAAR,CAAmB;AACjBC,EAAAA,QAAQ,EAAE;AADO,CAAnB,CADF;AAKAjB,GAAG,CAACI,GAAJ,CAAQF,YAAY,CAAC,wBAAD,CAApB,E,CAAiD;;AACjDF,GAAG,CAACI,GAAJ,CACEL,OAAO,CAAC;AACNmB,EAAAA,MAAM,EAAE,wBADF;AAENC,EAAAA,MAAM,EAAE,IAFF;AAGNC,EAAAA,iBAAiB,EAAE,IAHb;AAINC,EAAAA,MAAM,EAAE;AACNC,IAAAA,MAAM,EAAE,MAAM,EAAN,GAAW,IADb;AAENC,IAAAA,MAAM,EAAE;AAFF;AAJF,CAAD,CADT;AAWAvB,GAAG,CAACI,GAAJ,CAAQH,KAAK,EAAb;AACAD,GAAG,CAACI,GAAJ,CAAQN,MAAM,CAAC,UAAD,CAAd,E,CACA;;AACAE,GAAG,CAACI,GAAJ,CAAQT,OAAO,CAACoB,IAAR,EAAR,E,CACA;;AACAf,GAAG,CAACwB,MAAJ,CACE,KADF,EAEErB,MAAM,CAAC;AACLsB,EAAAA,OAAO,EAAE,MADJ;AACY;AACjBC,EAAAA,OAAO,EAAE9B,OAAO,CAAC,eAAD;AAFX,CAAD,CAFR;AAOAI,GAAG,CAAC2B,GAAJ,CAAQ,aAAR,EAAuB,KAAvB;AACA3B,GAAG,CAAC2B,GAAJ,CAAQ,OAAR,EAAiB9B,IAAI,CAACgB,IAAL,CAAUC,SAAV,EAAqB,iBAArB,CAAjB,E,CACA;;AAEA,IAAMc,IAAI,GAAGC,OAAO,CAACC,GAAR,CAAYC,IAAZ,IAAoB,IAAjC;AACAxB,MAAM,CAACyB,MAAP,CAAcJ,IAAd,EAAoB,YAAM;AACxBK,EAAAA,OAAO,CAACC,GAAR,2CAA+CN,IAA/C;AACD,CAFD;AAGA,gCAAalB,EAAb;AAEA,sCAAmBA,EAAnB;AAEAJ,KAAK,CAACN,GAAD,CAAL","sourceRoot":"/Users/mac/Desktop/Final_Project_DTU/src/","sourcesContent":["const express = require(\"express\");\r\nconst path = require(\"path\");\r\nconst morgan = require(\"morgan\");\r\nconst session = require(\"express-session\");\r\nconst app = express();\r\nconst flash = require(\"connect-flash\"); //flash session\r\nconst cookieParser = require(\"cookie-parser\");\r\nconst exphbs = require(\"express-handlebars\");\r\n//const flash = require(\"req-flash\");\r\napp.use(flash());\r\n\r\nconst bodyParser = require(\"body-parser\");\r\nconst route = require(\"./routes\");\r\nconst server = require(\"http\").Server(app);\r\nconst moment = require(\"moment\");\r\nvar io = require(\"socket.io\")(server);\r\nconst nodemailer = require(\"nodemailer\");\r\n\r\nimport {\r\n  serverNotification,\r\n  socketServer,\r\n} from \"../src/public/script/socketServer\";\r\nrequire(\"dotenv\").config();\r\n//parsing middleware\r\n//parse application/s-www-form-urlencoded\r\napp.use(express.static(path.join(__dirname, \"public\")));\r\napp.use(bodyParser.json());\r\napp.use(\r\n  express.urlencoded({\r\n    extended: true,\r\n  })\r\n);\r\napp.use(cookieParser(\"SecretStringForCookies\")); // use cookie\r\napp.use(\r\n  session({\r\n    secret: \"SecretStringForSession\",\r\n    resave: true,\r\n    saveUninitialized: true,\r\n    cookie: {\r\n      maxAge: 180 * 60 * 1000,\r\n      secure: false,\r\n    },\r\n  })\r\n);\r\napp.use(flash());\r\napp.use(morgan(\"combined\"));\r\n//parse application/json\r\napp.use(express.json());\r\n//template Engine\r\napp.engine(\r\n  \"hbs\",\r\n  exphbs({\r\n    extname: \".hbs\", //config hbs\r\n    helpers: require(\"./helpers/hbs\"),\r\n  })\r\n);\r\napp.set(\"view engine\", \"hbs\");\r\napp.set(\"views\", path.join(__dirname, \"resources/views\"));\r\n//socket io in server\r\n\r\nconst port = process.env.PORT || 3000;\r\nserver.listen(port, () => {\r\n  console.log(` Server run at http://localhost:${port}`);\r\n});\r\nsocketServer(io);\r\n\r\nserverNotification(io);\r\n\r\nroute(app);\r\n"]}},"mtime":1651628686000},"{\"sourceRoot\":\"/Users/mac/Desktop/Final_Project_DTU/src/public/script/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/mac/Desktop/Final_Project_DTU\",\"filename\":\"/Users/mac/Desktop/Final_Project_DTU/src/public/script/socketServer.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/mac/Desktop/Final_Project_DTU\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nvar arrayUser = [];\nvar usersId = [];\nvar info;\nvar notificationInbox;\n\nfunction socketServer(io) {\n  //check connect\n  io.on(\"connection\", function (socket) {\n    //userConnect\n    console.log(\"have a connect ID :\" + socket.id); //disconnect\n\n    socket.on(\"disconnect\", function (data) {\n      //arrayUserGroup.splice(arrayUserGroup.indexOf(userMember), 1);\n      //io.sockets.emit(\"member-out-group\", arrayUserGroup);\n      console.log(\"disconnect .....\" + socket.id);\n    }); //listening create room\n\n    socket.on(\"create-room\", function (data) {\n      socket.join(data); //socket.room = data;\n      //push room to array rooms\n\n      var rooms = [];\n\n      var _iterator = _createForOfIteratorHelper(socket.adapter.rooms.keys()),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var e = _step.value;\n          rooms.push(e);\n        } //send rooms to everyone\n\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      io.sockets.emit(\"server-send-rooms\", rooms); //send room when switch , just emit user send request switch room\n\n      socket.emit(\"server-send-room-socket\", data);\n    });\n    socket.on(\"user-chat\", function (data) {\n      io.sockets[\"in\"](data.room).emit(\"server-send-chat\", data);\n    });\n  });\n}\n\nvar bookingNotification = function bookingNotification(data) {\n  // let notification = {\n  //   receiver: data.receiver,\n  //   content: \"Bạn có một thông báo mới !\",\n  //   sender: userID,\n  //   type: data.type,\n  // };\n  return data;\n};\n\nfunction serverNotification(io, notification, notificationInboxFromServer) {\n  info = notification;\n  notificationInbox = notificationInboxFromServer;\n  console.log(\"insocket service\");\n  console.log(notificationInbox);\n  io.on(\"connection\", function (socket) {\n    //userConnect\n    console.log(\"have a connect ID :\" + socket.id); //send notification\n\n    socket.on(\"accountLogin\", function (data) {\n      arrayUser.push(data);\n      socket.username = data;\n      usersId[data] = socket.id;\n      socket.emit(\"Server-success-regsiter\", data);\n    });\n\n    if (info) {\n      //send notification doctor\n      var doctorSocketId = usersId[info.doctorID];\n      io.to(doctorSocketId).emit(\"new-notification\", info.content);\n      info = \"\";\n    }\n\n    if (notificationInbox) {\n      console.log(\"in send notification\");\n      console.log(notificationInbox); //send notification doctor\n\n      var _doctorSocketId = usersId[notificationInbox.userID];\n      io.to(_doctorSocketId).emit(\"new-notification-inbox\", notificationInbox.content);\n      notificationInbox = \"\";\n    }\n  });\n}\n\nmodule.exports = {\n  socketServer: socketServer,\n  serverNotification: serverNotification,\n  bookingNotification: bookingNotification\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNvY2tldFNlcnZlci5qcyJdLCJuYW1lcyI6WyJhcnJheVVzZXIiLCJ1c2Vyc0lkIiwiaW5mbyIsIm5vdGlmaWNhdGlvbkluYm94Iiwic29ja2V0U2VydmVyIiwiaW8iLCJvbiIsInNvY2tldCIsImNvbnNvbGUiLCJsb2ciLCJpZCIsImRhdGEiLCJqb2luIiwicm9vbXMiLCJhZGFwdGVyIiwia2V5cyIsImUiLCJwdXNoIiwic29ja2V0cyIsImVtaXQiLCJyb29tIiwiYm9va2luZ05vdGlmaWNhdGlvbiIsInNlcnZlck5vdGlmaWNhdGlvbiIsIm5vdGlmaWNhdGlvbiIsIm5vdGlmaWNhdGlvbkluYm94RnJvbVNlcnZlciIsInVzZXJuYW1lIiwiZG9jdG9yU29ja2V0SWQiLCJkb2N0b3JJRCIsInRvIiwiY29udGVudCIsInVzZXJJRCIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUEsSUFBTUEsU0FBUyxHQUFHLEVBQWxCO0FBQ0EsSUFBTUMsT0FBTyxHQUFHLEVBQWhCO0FBQ0EsSUFBSUMsSUFBSjtBQUNBLElBQUlDLGlCQUFKOztBQUNBLFNBQVNDLFlBQVQsQ0FBc0JDLEVBQXRCLEVBQTBCO0FBQ3hCO0FBQ0FBLEVBQUFBLEVBQUUsQ0FBQ0MsRUFBSCxDQUFNLFlBQU4sRUFBb0IsVUFBQ0MsTUFBRCxFQUFZO0FBQzlCO0FBQ0FDLElBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLHdCQUF3QkYsTUFBTSxDQUFDRyxFQUEzQyxFQUY4QixDQUk5Qjs7QUFDQUgsSUFBQUEsTUFBTSxDQUFDRCxFQUFQLENBQVUsWUFBVixFQUF3QixVQUFDSyxJQUFELEVBQVU7QUFDaEM7QUFDQTtBQUNBSCxNQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxxQkFBcUJGLE1BQU0sQ0FBQ0csRUFBeEM7QUFDRCxLQUpELEVBTDhCLENBVzlCOztBQUNBSCxJQUFBQSxNQUFNLENBQUNELEVBQVAsQ0FBVSxhQUFWLEVBQXlCLFVBQUNLLElBQUQsRUFBVTtB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TUFBQUEsaUJBQWlCLEdBQUcsRUFBcEI7QUFDRDtBQUNGLEdBOUJEO0FBK0JEOztBQUVENEIsTUFBTSxDQUFDQyxPQUFQLEdBQWlCO0FBQ2Y1QixFQUFBQSxZQUFZLEVBQUVBLFlBREM7QUFFZmtCLEVBQUFBLGtCQUFrQixFQUFsQkEsa0JBRmU7QUFHZkQsRUFBQUEsbUJBQW1CLEVBQW5CQTtBQUhlLENBQWpCIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9tYWMvRGVza3RvcC9GaW5hbF9Qcm9qZWN0X0RUVS9zcmMvcHVibGljL3NjcmlwdC8iLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBhcnJheVVzZXIgPSBbXTtcclxuY29uc3QgdXNlcnNJZCA9IFtdO1xyXG5sZXQgaW5mbztcclxubGV0IG5vdGlmaWNhdGlvbkluYm94O1xyXG5mdW5jdGlvbiBzb2NrZXRTZXJ2ZXIoaW8pIHtcclxuICAvL2NoZWNrIGNvbm5lY3RcclxuICBpby5vbihcImNvbm5lY3Rpb25cIiwgKHNvY2tldCkgPT4ge1xyXG4gICAgLy91c2VyQ29ubmVjdFxyXG4gICAgY29uc29sZS5sb2coXCJoYXZlIGEgY29ubmVjdCBJRCA6XCIgKyBzb2NrZXQuaWQpO1xyXG5cclxuICAgIC8vZGlzY29ubmVjdFxyXG4gICAgc29ja2V0Lm9uKFwiZGlzY29ubmVjdFwiLCAoZGF0YSkgPT4ge1xyXG4gICAgICAvL2FycmF5VXNlckdyb3VwLnNwbGljZShhcnJheVVzZXJHcm91cC5pbmRleE9mKHVzZXJNZW1iZXIpLCAxKTtcclxuICAgICAgLy9pby5zb2NrZXRzLmVtaXQoXCJtZW1iZXItb3V0LWdyb3VwXCIsIGFycmF5VXNlckdyb3VwKTtcclxuICAgICAgY29uc29sZS5sb2coXCJkaXNjb25uZWN0IC4uLi4uXCIgKyBzb2NrZXQuaWQpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy9saXN0ZW5pbmcgY3JlYXRlIHJvb21cclxuICAgIHNvY2tldC5vbihcImNyZWF0ZS1yb29tXCIsIChkYXRhKSA9PiB7XHJcbiAgICAgIHNvY2tldC5qb2luKGRhdGEpO1xyXG4gICAgICAvL3NvY2tldC5yb29tID0gZGF0YTtcclxuICAgICAgLy9wdXNoIHJvb20gdG8gYXJyYXkgcm9vbXNcclxuICAgICAgbGV0IHJvb21zID0gW107XHJcblxyXG4gICAgICBmb3IgKGxldCBlIG9mIHNvY2tldC5hZGFwdGVyLnJvb21zLmtleXMoKSkge1xyXG4gICAgICAgIHJvb21zLnB1c2goZSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vc2VuZCByb29tcyB0byBldmVyeW9uZVxyXG4gICAgICBpby5zb2NrZXRzLmVtaXQoXCJzZXJ2ZXItc2VuZC1yb29tc1wiLCByb29tcyk7XHJcbiAgICAgIC8vc2VuZCByb29tIHdoZW4gc3dpdGNoICwganVzdCBlbWl0IHVzZXIgc2VuZCByZXF1ZXN0IHN3aXRjaCByb29tXHJcbiAgICAgIHNvY2tldC5lbWl0KFwic2VydmVyLXNlbmQtcm9vbS1zb2NrZXRcIiwgZGF0YSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBzb2NrZXQub24oXCJ1c2VyLWNoYXRcIiwgKGRhdGEpID0+IHtcclxuICAgICAgaW8uc29ja2V0cy5pbihkYXRhLnJvb20pLmVtaXQoXCJzZXJ2ZXItc2VuZC1jaGF0XCIsIGRhdGEpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcbn1cclxuXHJcbmxldCBib29raW5nTm90aWZpY2F0aW9uID0gKGRhdGEpID0+IHtcclxuICAvLyBsZXQgbm90aWZpY2F0aW9uID0ge1xyXG4gIC8vICAgcmVjZWl2ZXI6IGRhdGEucmVjZWl2ZXIsXHJcbiAgLy8gICBjb250ZW50OiBcIkLhuqFuIGPDsyBt4buZdCB0aMO0bmcgYsOhbyBt4bubaSAhXCIsXHJcbiAgLy8gICBzZW5kZXI6IHVzZXJJRCxcclxuICAvLyAgIHR5cGU6IGRhdGEudHlwZSxcclxuICAvLyB9O1xyXG4gIHJldHVybiBkYXRhO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gc2VydmVyTm90aWZpY2F0aW9uKGlvLCBub3RpZmljYXRpb24sIG5vdGlmaWNhdGlvbkluYm94RnJvbVNlcnZlcikge1xyXG4gIGluZm8gPSBub3RpZmljYXRpb247XHJcbiAgbm90aWZpY2F0aW9uSW5ib3ggPSBub3RpZmljYXRpb25JbmJveEZyb21TZXJ2ZXI7XHJcbiAgY29uc29sZS5sb2coXCJpbnNvY2tldCBzZXJ2aWNlXCIpO1xyXG4gIGNvbnNvbGUubG9nKG5vdGlmaWNhdGlvbkluYm94KTtcclxuXHJcbiAgaW8ub24oXCJjb25uZWN0aW9uXCIsIChzb2NrZXQpID0+IHtcclxuICAgIC8vdXNlckNvbm5lY3RcclxuICAgIGNvbnNvbGUubG9nKFwiaGF2ZSBhIGNvbm5lY3QgSUQgOlwiICsgc29ja2V0LmlkKTtcclxuXHJcbiAgICAvL3NlbmQgbm90aWZpY2F0aW9uXHJcbiAgICBzb2NrZXQub24oXCJhY2NvdW50TG9naW5cIiwgKGRhdGEpID0+IHtcclxuICAgICAgYXJyYXlVc2VyLnB1c2goZGF0YSk7XHJcbiAgICAgIHNvY2tldC51c2VybmFtZSA9IGRhdGE7XHJcbiAgICAgIHVzZXJzSWRbZGF0YV0gPSBzb2NrZXQuaWQ7XHJcbiAgICAgIHNvY2tldC5lbWl0KFwiU2VydmVyLXN1Y2Nlc3MtcmVnc2l0ZXJcIiwgZGF0YSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpZiAoaW5mbykge1xyXG4gICAgICAvL3NlbmQgbm90aWZpY2F0aW9uIGRvY3RvclxyXG4gICAgICBsZXQgZG9jdG9yU29ja2V0SWQgPSB1c2Vyc0lkW2luZm8uZG9jdG9ySURdO1xyXG4gICAgICBpby50byhkb2N0b3JTb2NrZXRJZCkuZW1pdChcIm5ldy1ub3RpZmljYXRpb25cIiwgaW5mby5jb250ZW50KTtcclxuICAgICAgaW5mbyA9IFwiXCI7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKG5vdGlmaWNhdGlvbkluYm94KSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwiaW4gc2VuZCBub3RpZmljYXRpb25cIik7XHJcbiAgICAgIGNvbnNvbGUubG9nKG5vdGlmaWNhdGlvbkluYm94KTtcclxuICAgICAgLy9zZW5kIG5vdGlmaWNhdGlvbiBkb2N0b3JcclxuICAgICAgbGV0IGRvY3RvclNvY2tldElkID0gdXNlcnNJZFtub3RpZmljYXRpb25JbmJveC51c2VySURdO1xyXG4gICAgICBpby50byhkb2N0b3JTb2NrZXRJZCkuZW1pdChcclxuICAgICAgICBcIm5ldy1ub3RpZmljYXRpb24taW5ib3hcIixcclxuICAgICAgICBub3RpZmljYXRpb25JbmJveC5jb250ZW50XHJcbiAgICAgICk7XHJcbiAgICAgIG5vdGlmaWNhdGlvbkluYm94ID0gXCJcIjtcclxuICAgIH1cclxuICB9KTtcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgc29ja2V0U2VydmVyOiBzb2NrZXRTZXJ2ZXIsXHJcbiAgc2VydmVyTm90aWZpY2F0aW9uLFxyXG4gIGJvb2tpbmdOb3RpZmljYXRpb24sXHJcbn07XHJcbiJdfQ==","map":{"version":3,"sources":["socketServer.js"],"names":["arrayUser","usersId","info","notificationInbox","socketServer","io","on","socket","console","log","id","data","join","rooms","adapter","keys","e","push","sockets","emit","room","bookingNotification","serverNotification","notification","notificationInboxFromServer","username","doctorSocketId","doctorID","to","content","userID","module","exports"],"mappings":"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","sourceRoot":"/Users/mac/Desktop/Final_Project_DTU/src/public/script/","sourcesContent":["const arrayUser = [];\r\nconst usersId = [];\r\nlet info;\r\nlet notificationInbox;\r\nfunction socketServer(io) {\r\n  //check connect\r\n  io.on(\"connection\", (socket) => {\r\n    //userConnect\r\n    console.log(\"have a connect ID :\" + socket.id);\r\n\r\n    //disconnect\r\n    socket.on(\"disconnect\", (data) => {\r\n      //arrayUserGroup.splice(arrayUserGroup.indexOf(userMember), 1);\r\n      //io.sockets.emit(\"member-out-group\", arrayUserGroup);\r\n      console.log(\"disconnect .....\" + socket.id);\r\n    });\r\n\r\n    //listening create room\r\n    socket.on(\"create-room\", (data) => {\r\n      socket.join(data);\r\n      //socket.room = data;\r\n      //push room to array rooms\r\n      let rooms = [];\r\n\r\n      for (let e of socket.adapter.rooms.keys()) {\r\n        rooms.push(e);\r\n      }\r\n\r\n      //send rooms to everyone\r\n      io.sockets.emit(\"server-send-rooms\", rooms);\r\n      //send room when switch , just emit user send request switch room\r\n      socket.emit(\"server-send-room-socket\", data);\r\n    });\r\n\r\n    socket.on(\"user-chat\", (data) => {\r\n      io.sockets.in(data.room).emit(\"server-send-chat\", data);\r\n    });\r\n  });\r\n}\r\n\r\nlet bookingNotification = (data) => {\r\n  // let notification = {\r\n  //   receiver: data.receiver,\r\n  //   content: \"Bạn có một thông báo mới !\",\r\n  //   sender: userID,\r\n  //   type: data.type,\r\n  // };\r\n  return data;\r\n};\r\n\r\nfunction serverNotification(io, notification, notificationInboxFromServer) {\r\n  info = notification;\r\n  notificationInbox = notificationInboxFromServer;\r\n  console.log(\"insocket service\");\r\n  console.log(notificationInbox);\r\n\r\n  io.on(\"connection\", (socket) => {\r\n    //userConnect\r\n    console.log(\"have a connect ID :\" + socket.id);\r\n\r\n    //send notification\r\n    socket.on(\"accountLogin\", (data) => {\r\n      arrayUser.push(data);\r\n      socket.username = data;\r\n      usersId[data] = socket.id;\r\n      socket.emit(\"Server-success-regsiter\", data);\r\n    });\r\n\r\n    if (info) {\r\n      //send notification doctor\r\n      let doctorSocketId = usersId[info.doctorID];\r\n      io.to(doctorSocketId).emit(\"new-notification\", info.content);\r\n      info = \"\";\r\n    }\r\n\r\n    if (notificationInbox) {\r\n      console.log(\"in send notification\");\r\n      console.log(notificationInbox);\r\n      //send notification doctor\r\n      let doctorSocketId = usersId[notificationInbox.userID];\r\n      io.to(doctorSocketId).emit(\r\n        \"new-notification-inbox\",\r\n        notificationInbox.content\r\n      );\r\n      notificationInbox = \"\";\r\n    }\r\n  });\r\n}\r\n\r\nmodule.exports = {\r\n  socketServer: socketServer,\r\n  serverNotification,\r\n  bookingNotification,\r\n};\r\n"]}},"mtime":1651628686000},"{\"sourceRoot\":\"/Users/mac/Desktop/Final_Project_DTU/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/mac/Desktop/Final_Project_DTU\",\"filename\":\"/Users/mac/Desktop/Final_Project_DTU/src/routes/index.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/mac/Desktop/Final_Project_DTU\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar authMiddlewares = require('../app/middlewares/AuthMiddlewares');\n\nvar siteRouter = require('./site');\n\nvar authRouter = require('./auth');\n\nvar adminRouter = require('./admin');\n\nvar doctorRouter = require('./doctor');\n\nvar callVideoRouter = require('./callVideo');\n\nvar inboxRouter = require('./inbox');\n\nvar paymentRouter = require('./payment');\n\nvar userRouter = require('./user');\n\nvar accountRouter = require('./account');\n\nvar bookingRouter = require('./booking');\n\nvar jobRouter = require('./job');\n\nvar scheduleRouter = require('./schedule');\n\nvar clinicRouter = require('./clinic');\n\nfunction router(app) {\n  app.use('/admin', authMiddlewares.checkAccount, authMiddlewares.checkRoleAdmin, authMiddlewares.addInfoAuthencation, adminRouter);\n  app.use('/account', authMiddlewares.checkAccount, authMiddlewares.checkRoleAdmin, accountRouter);\n  app.use('/clinic', authMiddlewares.checkAccount, authMiddlewares.checkRoleAdmin, clinicRouter);\n  app.use('/doctor', authMiddlewares.checkAccount, authMiddlewares.checkRoleDoctor, authMiddlewares.addInfoAuthencation, doctorRouter);\n  app.use('/payment', authMiddlewares.checkAccount, authMiddlewares.checkRoleUser, paymentRouter);\n  app.use('/callVideo', authMiddlewares.checkAccount, authMiddlewares.addInfoAuthencation, callVideoRouter);\n  app.use('/inbox', authMiddlewares.checkAccount, authMiddlewares.addInfoAuthencation, inboxRouter);\n  app.use('/auth', authRouter);\n  app.use('/user', authMiddlewares.checkAccount, authMiddlewares.checkRoleUser, authMiddlewares.addInfoAuthencation, userRouter);\n  app.use('/booking', authMiddlewares.checkAccount, authMiddlewares.checkRoleUser, authMiddlewares.addInfoAuthencation, bookingRouter);\n  app.use('/schedule', authMiddlewares.checkAccount, authMiddlewares.checkRoleUser, authMiddlewares.addInfoAuthencation, scheduleRouter);\n  app.use('/job', authMiddlewares.checkAccount, authMiddlewares.checkRoleDoctor, authMiddlewares.addInfoAuthencation, jobRouter);\n  app.use('/', authMiddlewares.addInfoAuthencation, siteRouter);\n}\n\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImF1dGhNaWRkbGV3YXJlcyIsInJlcXVpcmUiLCJzaXRlUm91dGVyIiwiYXV0aFJvdXRlciIsImFkbWluUm91dGVyIiwiZG9jdG9yUm91dGVyIiwiY2FsbFZpZGVvUm91dGVyIiwiaW5ib3hSb3V0ZXIiLCJwYXltZW50Um91dGVyIiwidXNlclJvdXRlciIsImFjY291bnRSb3V0ZXIiLCJib29raW5nUm91dGVyIiwiam9iUm91dGVyIiwic2NoZWR1bGVSb3V0ZXIiLCJjbGluaWNSb3V0ZXIiLCJyb3V0ZXIiLCJhcHAiLCJ1c2UiLCJjaGVja0FjY291bnQiLCJjaGVja1JvbGVBZG1pbiIsImFkZEluZm9BdXRoZW5jYXRpb24iLCJjaGVja1JvbGVEb2N0b3IiLCJjaGVja1JvbGVVc2VyIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFNQSxlQUFlLEdBQUdDLE9BQU8sQ0FBQyxvQ0FBRCxDQUEvQjs7QUFDQSxJQUFNQyxVQUFVLEdBQUdELE9BQU8sQ0FBQyxRQUFELENBQTFCOztBQUNBLElBQU1FLFVBQVUsR0FBR0YsT0FBTyxDQUFDLFFBQUQsQ0FBMUI7O0FBQ0EsSUFBTUcsV0FBVyxHQUFHSCxPQUFPLENBQUMsU0FBRCxDQUEzQjs7QUFDQSxJQUFNSSxZQUFZLEdBQUdKLE9BQU8sQ0FBQyxVQUFELENBQTVCOztBQUNBLElBQU1LLGVBQWUsR0FBR0wsT0FBTyxDQUFDLGFBQUQsQ0FBL0I7O0FBQ0EsSUFBTU0sV0FBVyxHQUFHTixPQUFPLENBQUMsU0FBRCxDQUEzQjs7QUFDQSxJQUFNTyxhQUFhLEdBQUdQLE9BQU8sQ0FBQyxXQUFELENBQTdCOztBQUNBLElBQU1RLFVBQVUsR0FBR1IsT0FBTyxDQUFDLFFBQUQsQ0FBMUI7O0FBQ0EsSUFBTVMsYUFBYSxHQUFHVCxPQUFPLENBQUMsV0FBRCxDQUE3Qjs7QUFDQSxJQUFNVSxhQUFhLEdBQUdWLE9BQU8sQ0FBQyxXQUFELENBQTdCOztBQUNBLElBQU1XLFNBQVMsR0FBR1gsT0FBTyxDQUFDLE9BQUQsQ0FBekI7O0FBQ0EsSUFBTVksY0FBYyxHQUFHWixPQUFPLENBQUMsWUFBRCxDQUE5Qjs7QUFDQSxJQUFNYSxZQUFZLEdBQUdiLE9BQU8sQ0FBQyxVQUFELENBQTVCOztBQUVBLFNBQVNjLE1BQVQsQ0FBZ0JDLEdBQWhCLEVBQXFCO0FBQ25CQSxFQUFBQSxHQUFHLENBQUNDLEdBQUosQ0FDRSxRQURGLEVBRUVqQixlQUFlLENBQUNrQixZQUZsQixFQUdFbEIsZUFBZSxDQUFDbUIsY0FIbEIsRUFJRW5CLGVBQWUsQ0FBQ29CLG1CQUpsQixFQUtFaEIsV0FMRjtBQU9BWSxFQUFBQSxHQUFHLENBQUNDLEdBQUosQ0FBUSxVQUFSLEVBQW9CakIsZUFBZSxDQUFDa0IsWUFBcEMsRUFBa0RsQixlQUFlLENBQUNtQixjQUFsRSxFQUFrRlQsYUFBbEY7QUFDQU0sRUFBQUEsR0FBRyxDQUFDQyxHQUFKLENBQVEsU0FBUixFQUFtQmpCLGVBQWUsQ0FBQ2tCLFlBQW5DLEVBQWlEbEIsZUFBZSxDQUFDbUIsY0FBakUsRUFBaUZMLFlBQWpGO0FBQ0FFLEVBQUFBLEdBQUcsQ0FBQ0MsR0FBSixDQUNFLFNBREYsRUFFRWpCLGVBQWUsQ0FBQ2tCLFlBRmxCLEVBR0VsQixlQUFlLENBQUNxQixlQUhsQixFQUlFckIsZUFBZSxDQUFDb0IsbUJBSmxCLEVBS0VmLFlBTEY7QUFPQVcsRUFBQUEsR0FBRyxDQUFDQyxHQUFKLENBQVEsVUFBUixFQUFvQmpCLGVBQWUsQ0FBQ2tCLFlBQXBDLEVBQWtEbEIsZUFBZSxDQUFDc0IsYUFBbEUsRUFBaUZkLGFBQWpGO0FBQ0FRLEVBQUFBLEdBQUcsQ0FBQ0MsR0FBSixDQUNFLFlBREYsRUFFRWpCLGVBQWUsQ0FBQ2tCLFlBRmxCLEVBR0VsQixlQUFlLENBQUNvQixtQkFIbEIsRUFJRWQsZUFKRjtBQU1BVSxFQUFBQSxHQUFHLENBQUNDLEdBQUosQ0FBUSxRQUFSLEVBQWtCakIsZUFBZSxDQUFDa0IsWUFBbEMsRUFBZ0RsQixlQUFlLENBQUNvQixtQkFBaEUsRUFBcUZiLFdBQXJGO0FBQ0FTLEVBQUFBLEdBQUcsQ0FBQ0MsR0FBSixDQUFRLE9BQVIsRUFBaUJkLFVBQWpCO0FBQ0FhLEVBQUFBLEdBQUcsQ0FBQ0MsR0FBSixDQUNFLE9BREYsRUFFRWpCLGVBQWUsQ0FBQ2tCLFlBRmxCLEVBR0VsQixlQUFlLENBQUNzQixhQUhsQixFQUlFdEIsZUFBZSxDQUFDb0IsbUJBSmxCLEVBS0VYLFVBTEY7QUFPQU8sRUFBQUEsR0FBRyxDQUFDQyxHQUFKLENBQ0UsVUFERixFQUVFakIsZUFBZSxDQUFDa0IsWUFGbEIsRUFHRWxCLGVBQWUsQ0FBQ3NCLGFBSGxCLEVBSUV0QixlQUFlLENBQUNvQixtQkFKbEIsRUFLRVQsYUFMRjtBQU9BSyxFQUFBQSxHQUFHLENBQUNDLEdBQUosQ0FDRSxXQURGLEVBRUVqQixlQUFlLENBQUNrQixZQUZsQixFQUdFbEIsZUFBZSxDQUFDc0IsYUFIbEIsRUFJRXRCLGVBQWUsQ0FBQ29CLG1CQUpsQixFQUtFUCxjQUxGO0FBT0FHLEVBQUFBLEdBQUcsQ0FBQ0MsR0FBSixDQUNFLE1BREYsRUFFRWpCLGVBQWUsQ0FBQ2tCLFlBRmxCLEVBR0VsQixlQUFlLENBQUNxQixlQUhsQixFQUlFckIsZUFBZSxDQUFDb0IsbUJBSmxCLEVBS0VSLFNBTEY7QUFPQUksRUFBQUEsR0FBRyxDQUFDQyxHQUFKLENBQVEsR0FBUixFQUFhakIsZUFBZSxDQUFDb0IsbUJBQTdCLEVBQWtEbEIsVUFBbEQ7QUFDRDs7QUFDRHFCLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQlQsTUFBakIiLCJzb3VyY2VSb290IjoiL1VzZXJzL21hYy9EZXNrdG9wL0ZpbmFsX1Byb2plY3RfRFRVL3NyYy9yb3V0ZXMvIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgYXV0aE1pZGRsZXdhcmVzID0gcmVxdWlyZSgnLi4vYXBwL21pZGRsZXdhcmVzL0F1dGhNaWRkbGV3YXJlcycpO1xyXG5jb25zdCBzaXRlUm91dGVyID0gcmVxdWlyZSgnLi9zaXRlJyk7XHJcbmNvbnN0IGF1dGhSb3V0ZXIgPSByZXF1aXJlKCcuL2F1dGgnKTtcclxuY29uc3QgYWRtaW5Sb3V0ZXIgPSByZXF1aXJlKCcuL2FkbWluJyk7XHJcbmNvbnN0IGRvY3RvclJvdXRlciA9IHJlcXVpcmUoJy4vZG9jdG9yJyk7XHJcbmNvbnN0IGNhbGxWaWRlb1JvdXRlciA9IHJlcXVpcmUoJy4vY2FsbFZpZGVvJyk7XHJcbmNvbnN0IGluYm94Um91dGVyID0gcmVxdWlyZSgnLi9pbmJveCcpO1xyXG5jb25zdCBwYXltZW50Um91dGVyID0gcmVxdWlyZSgnLi9wYXltZW50Jyk7XHJcbmNvbnN0IHVzZXJSb3V0ZXIgPSByZXF1aXJlKCcuL3VzZXInKTtcclxuY29uc3QgYWNjb3VudFJvdXRlciA9IHJlcXVpcmUoJy4vYWNjb3VudCcpO1xyXG5jb25zdCBib29raW5nUm91dGVyID0gcmVxdWlyZSgnLi9ib29raW5nJyk7XHJcbmNvbnN0IGpvYlJvdXRlciA9IHJlcXVpcmUoJy4vam9iJyk7XHJcbmNvbnN0IHNjaGVkdWxlUm91dGVyID0gcmVxdWlyZSgnLi9zY2hlZHVsZScpO1xyXG5jb25zdCBjbGluaWNSb3V0ZXIgPSByZXF1aXJlKCcuL2NsaW5pYycpO1xyXG5cclxuZnVuY3Rpb24gcm91dGVyKGFwcCkge1xyXG4gIGFwcC51c2UoXHJcbiAgICAnL2FkbWluJyxcclxuICAgIGF1dGhNaWRkbGV3YXJlcy5jaGVja0FjY291bnQsXHJcbiAgICBhdXRoTWlkZGxld2FyZXMuY2hlY2tSb2xlQWRtaW4sXHJcbiAgICBhdXRoTWlkZGxld2FyZXMuYWRkSW5mb0F1dGhlbmNhdGlvbixcclxuICAgIGFkbWluUm91dGVyXHJcbiAgKTtcclxuICBhcHAudXNlKCcvYWNjb3VudCcsIGF1dGhNaWRkbGV3YXJlcy5jaGVja0FjY291bnQsIGF1dGhNaWRkbGV3YXJlcy5jaGVja1JvbGVBZG1pbiwgYWNjb3VudFJvdXRlcik7XHJcbiAgYXBwLnVzZSgnL2NsaW5pYycsIGF1dGhNaWRkbGV3YXJlcy5jaGVja0FjY291bnQsIGF1dGhNaWRkbGV3YXJlcy5jaGVja1JvbGVBZG1pbiwgY2xpbmljUm91dGVyKTtcclxuICBhcHAudXNlKFxyXG4gICAgJy9kb2N0b3InLFxyXG4gICAgYXV0aE1pZGRsZXdhcmVzLmNoZWNrQWNjb3VudCxcclxuICAgIGF1dGhNaWRkbGV3YXJlcy5jaGVja1JvbGVEb2N0b3IsXHJcbiAgICBhdXRoTWlkZGxld2FyZXMuYWRkSW5mb0F1dGhlbmNhdGlvbixcclxuICAgIGRvY3RvclJvdXRlclxyXG4gICk7XHJcbiAgYXBwLnVzZSgnL3BheW1lbnQnLCBhdXRoTWlkZGxld2FyZXMuY2hlY2tBY2NvdW50LCBhdXRoTWlkZGxld2FyZXMuY2hlY2tSb2xlVXNlciwgcGF5bWVudFJvdXRlcik7XHJcbiAgYXBwLnVzZShcclxuICAgICcvY2FsbFZpZGVvJyxcclxuICAgIGF1dGhNaWRkbGV3YXJlcy5jaGVja0FjY291bnQsXHJcbiAgICBhdXRoTWlkZGxld2FyZXMuYWRkSW5mb0F1dGhlbmNhdGlvbixcclxuICAgIGNhbGxWaWRlb1JvdXRlclxyXG4gICk7XHJcbiAgYXBwLnVzZSgnL2luYm94JywgYXV0aE1pZGRsZXdhcmVzLmNoZWNrQWNjb3VudCwgYXV0aE1pZGRsZXdhcmVzLmFkZEluZm9BdXRoZW5jYXRpb24sIGluYm94Um91dGVyKTtcclxuICBhcHAudXNlKCcvYXV0aCcsIGF1dGhSb3V0ZXIpO1xyXG4gIGFwcC51c2UoXHJcbiAgICAnL3VzZXInLFxyXG4gICAgYXV0aE1pZGRsZXdhcmVzLmNoZWNrQWNjb3VudCxcclxuICAgIGF1dGhNaWRkbGV3YXJlcy5jaGVja1JvbGVVc2VyLFxyXG4gICAgYXV0aE1pZGRsZXdhcmVzLmFkZEluZm9BdXRoZW5jYXRpb24sXHJcbiAgICB1c2VyUm91dGVyXHJcbiAgKTtcclxuICBhcHAudXNlKFxyXG4gICAgJy9ib29raW5nJyxcclxuICAgIGF1dGhNaWRkbGV3YXJlcy5jaGVja0FjY291bnQsXHJcbiAgICBhdXRoTWlkZGxld2FyZXMuY2hlY2tSb2xlVXNlcixcclxuICAgIGF1dGhNaWRkbGV3YXJlcy5hZGRJbmZvQXV0aGVuY2F0aW9uLFxyXG4gICAgYm9va2luZ1JvdXRlclxyXG4gICk7XHJcbiAgYXBwLnVzZShcclxuICAgICcvc2NoZWR1bGUnLFxyXG4gICAgYXV0aE1pZGRsZXdhcmVzLmNoZWNrQWNjb3VudCxcclxuICAgIGF1dGhNaWRkbGV3YXJlcy5jaGVja1JvbGVVc2VyLFxyXG4gICAgYXV0aE1pZGRsZXdhcmVzLmFkZEluZm9BdXRoZW5jYXRpb24sXHJcbiAgICBzY2hlZHVsZVJvdXRlclxyXG4gICk7XHJcbiAgYXBwLnVzZShcclxuICAgICcvam9iJyxcclxuICAgIGF1dGhNaWRkbGV3YXJlcy5jaGVja0FjY291bnQsXHJcbiAgICBhdXRoTWlkZGxld2FyZXMuY2hlY2tSb2xlRG9jdG9yLFxyXG4gICAgYXV0aE1pZGRsZXdhcmVzLmFkZEluZm9BdXRoZW5jYXRpb24sXHJcbiAgICBqb2JSb3V0ZXJcclxuICApO1xyXG4gIGFwcC51c2UoJy8nLCBhdXRoTWlkZGxld2FyZXMuYWRkSW5mb0F1dGhlbmNhdGlvbiwgc2l0ZVJvdXRlcik7XHJcbn1cclxubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7XHJcbiJdfQ==","map":{"version":3,"sources":["index.js"],"names":["authMiddlewares","require","siteRouter","authRouter","adminRouter","doctorRouter","callVideoRouter","inboxRouter","paymentRouter","userRouter","accountRouter","bookingRouter","jobRouter","scheduleRouter","clinicRouter","router","app","use","checkAccount","checkRoleAdmin","addInfoAuthencation","checkRoleDoctor","checkRoleUser","module","exports"],"mappings":";;AAAA,IAAMA,eAAe,GAAGC,OAAO,CAAC,oCAAD,CAA/B;;AACA,IAAMC,UAAU,GAAGD,OAAO,CAAC,QAAD,CAA1B;;AACA,IAAME,UAAU,GAAGF,OAAO,CAAC,QAAD,CAA1B;;AACA,IAAMG,WAAW,GAAGH,OAAO,CAAC,SAAD,CAA3B;;AACA,IAAMI,YAAY,GAAGJ,OAAO,CAAC,UAAD,CAA5B;;AACA,IAAMK,eAAe,GAAGL,OAAO,CAAC,aAAD,CAA/B;;AACA,IAAMM,WAAW,GAAGN,OAAO,CAAC,SAAD,CAA3B;;AACA,IAAMO,aAAa,GAAGP,OAAO,CAAC,WAAD,CAA7B;;AACA,IAAMQ,UAAU,GAAGR,OAAO,CAAC,QAAD,CAA1B;;AACA,IAAMS,aAAa,GAAGT,OAAO,CAAC,WAAD,CAA7B;;AACA,IAAMU,aAAa,GAAGV,OAAO,CAAC,WAAD,CAA7B;;AACA,IAAMW,SAAS,GAAGX,OAAO,CAAC,OAAD,CAAzB;;AACA,IAAMY,cAAc,GAAGZ,OAAO,CAAC,YAAD,CAA9B;;AACA,IAAMa,YAAY,GAAGb,OAAO,CAAC,UAAD,CAA5B;;AAEA,SAASc,MAAT,CAAgBC,GAAhB,EAAqB;AACnBA,EAAAA,GAAG,CAACC,GAAJ,CACE,QADF,EAEEjB,eAAe,CAACkB,YAFlB,EAGElB,eAAe,CAACmB,cAHlB,EAIEnB,eAAe,CAACoB,mBAJlB,EAKEhB,WALF;AAOAY,EAAAA,GAAG,CAACC,GAAJ,CAAQ,UAAR,EAAoBjB,eAAe,CAACkB,YAApC,EAAkDlB,eAAe,CAACmB,cAAlE,EAAkFT,aAAlF;AACAM,EAAAA,GAAG,CAACC,GAAJ,CAAQ,SAAR,EAAmBjB,eAAe,CAACkB,YAAnC,EAAiDlB,eAAe,CAACmB,cAAjE,EAAiFL,YAAjF;AACAE,EAAAA,GAAG,CAACC,GAAJ,CACE,SADF,EAEEjB,eAAe,CAACkB,YAFlB,EAGElB,eAAe,CAACqB,eAHlB,EAIErB,eAAe,CAACoB,mBAJlB,EAKEf,YALF;AAOAW,EAAAA,GAAG,CAACC,GAAJ,CAAQ,UAAR,EAAoBjB,eAAe,CAACkB,YAApC,EAAkDlB,eAAe,CAACsB,aAAlE,EAAiFd,aAAjF;AACAQ,EAAAA,GAAG,CAACC,GAAJ,CACE,YADF,EAEEjB,eAAe,CAACkB,YAFlB,EAGElB,eAAe,CAACoB,mBAHlB,EAIEd,eAJF;AAMAU,EAAAA,GAAG,CAACC,GAAJ,CAAQ,QAAR,EAAkBjB,eAAe,CAACkB,YAAlC,EAAgDlB,eAAe,CAACoB,mBAAhE,EAAqFb,WAArF;AACAS,EAAAA,GAAG,CAACC,GAAJ,CAAQ,OAAR,EAAiBd,UAAjB;AACAa,EAAAA,GAAG,CAACC,GAAJ,CACE,OADF,EAEEjB,eAAe,CAACkB,YAFlB,EAGElB,eAAe,CAACsB,aAHlB,EAIEtB,eAAe,CAACoB,mBAJlB,EAKEX,UALF;AAOAO,EAAAA,GAAG,CAACC,GAAJ,CACE,UADF,EAEEjB,eAAe,CAACkB,YAFlB,EAGElB,eAAe,CAACsB,aAHlB,EAIEtB,eAAe,CAACoB,mBAJlB,EAKET,aALF;AAOAK,EAAAA,GAAG,CAACC,GAAJ,CACE,WADF,EAEEjB,eAAe,CAACkB,YAFlB,EAGElB,eAAe,CAACsB,aAHlB,EAIEtB,eAAe,CAACoB,mBAJlB,EAKEP,cALF;AAOAG,EAAAA,GAAG,CAACC,GAAJ,CACE,MADF,EAEEjB,eAAe,CAACkB,YAFlB,EAGElB,eAAe,CAACqB,eAHlB,EAIErB,eAAe,CAACoB,mBAJlB,EAKER,SALF;AAOAI,EAAAA,GAAG,CAACC,GAAJ,CAAQ,GAAR,EAAajB,eAAe,CAACoB,mBAA7B,EAAkDlB,UAAlD;AACD;;AACDqB,MAAM,CAACC,OAAP,GAAiBT,MAAjB","sourceRoot":"/Users/mac/Desktop/Final_Project_DTU/src/routes/","sourcesContent":["const authMiddlewares = require('../app/middlewares/AuthMiddlewares');\r\nconst siteRouter = require('./site');\r\nconst authRouter = require('./auth');\r\nconst adminRouter = require('./admin');\r\nconst doctorRouter = require('./doctor');\r\nconst callVideoRouter = require('./callVideo');\r\nconst inboxRouter = require('./inbox');\r\nconst paymentRouter = require('./payment');\r\nconst userRouter = require('./user');\r\nconst accountRouter = require('./account');\r\nconst bookingRouter = require('./booking');\r\nconst jobRouter = require('./job');\r\nconst scheduleRouter = require('./schedule');\r\nconst clinicRouter = require('./clinic');\r\n\r\nfunction router(app) {\r\n  app.use(\r\n    '/admin',\r\n    authMiddlewares.checkAccount,\r\n    authMiddlewares.checkRoleAdmin,\r\n    authMiddlewares.addInfoAuthencation,\r\n    adminRouter\r\n  );\r\n  app.use('/account', authMiddlewares.checkAccount, authMiddlewares.checkRoleAdmin, accountRouter);\r\n  app.use('/clinic', authMiddlewares.checkAccount, authMiddlewares.checkRoleAdmin, clinicRouter);\r\n  app.use(\r\n    '/doctor',\r\n    authMiddlewares.checkAccount,\r\n    authMiddlewares.checkRoleDoctor,\r\n    authMiddlewares.addInfoAuthencation,\r\n    doctorRouter\r\n  );\r\n  app.use('/payment', authMiddlewares.checkAccount, authMiddlewares.checkRoleUser, paymentRouter);\r\n  app.use(\r\n    '/callVideo',\r\n    authMiddlewares.checkAccount,\r\n    authMiddlewares.addInfoAuthencation,\r\n    callVideoRouter\r\n  );\r\n  app.use('/inbox', authMiddlewares.checkAccount, authMiddlewares.addInfoAuthencation, inboxRouter);\r\n  app.use('/auth', authRouter);\r\n  app.use(\r\n    '/user',\r\n    authMiddlewares.checkAccount,\r\n    authMiddlewares.checkRoleUser,\r\n    authMiddlewares.addInfoAuthencation,\r\n    userRouter\r\n  );\r\n  app.use(\r\n    '/booking',\r\n    authMiddlewares.checkAccount,\r\n    authMiddlewares.checkRoleUser,\r\n    authMiddlewares.addInfoAuthencation,\r\n    bookingRouter\r\n  );\r\n  app.use(\r\n    '/schedule',\r\n    authMiddlewares.checkAccount,\r\n    authMiddlewares.checkRoleUser,\r\n    authMiddlewares.addInfoAuthencation,\r\n    scheduleRouter\r\n  );\r\n  app.use(\r\n    '/job',\r\n    authMiddlewares.checkAccount,\r\n    authMiddlewares.checkRoleDoctor,\r\n    authMiddlewares.addInfoAuthencation,\r\n    jobRouter\r\n  );\r\n  app.use('/', authMiddlewares.addInfoAuthencation, siteRouter);\r\n}\r\nmodule.exports = router;\r\n"]}},"mtime":1651628686000},"{\"sourceRoot\":\"/Users/mac/Desktop/Final_Project_DTU/src/app/middlewares/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/mac/Desktop/Final_Project_DTU\",\"filename\":\"/Users/mac/Desktop/Final_Project_DTU/src/app/middlewares/AuthMiddlewares.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/mac/Desktop/Final_Project_DTU\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar _UserService = require(\"../service/UserService\");\n\nvar _NotificationService = require(\"../service/NotificationService\");\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nvar express = require(\"express\");\n\nvar router = express.Router();\n\nvar AuthMiddlewares = /*#__PURE__*/function () {\n  function AuthMiddlewares() {\n    _classCallCheck(this, AuthMiddlewares);\n  }\n\n  _createClass(AuthMiddlewares, [{\n    key: \"checkAccount\",\n    value: function () {\n      var _checkAccount = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(req, res, next) {\n        var user;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (req.session.userID) {\n                  _context.next = 4;\n                  break;\n                }\n\n                res.redirect(\"/auth/login\"); //return;\n\n                _context.next = 8;\n                break;\n\n              case 4:\n                _context.next = 6;\n                return (0, _UserService.getUserById)(req.session.userID);\n\n              case 6:\n                user = _context.sent;\n\n                if (user) {\n                  next();\n                } else {\n                  res.redirect(\"/auth/login\");\n                }\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function checkAccount(_x, _x2, _x3) {\n        return _checkAccount.apply(this, arguments);\n      }\n\n      return checkAccount;\n    }()\n  }, {\n    key: \"checkRoleAdmin\",\n    value: function checkRoleAdmin(req, res, next) {\n      if (req.session.roleID) {\n        if (req.session.roleID === 1) {\n          next();\n        } else {\n          res.redirect(\"/auth/login\");\n        }\n      } else res.redirect(\"/auth/login\");\n    }\n  }, {\n    key: \"checkRoleUser\",\n    value: function checkRoleUser(req, res, next) {\n      if (req.session.roleID) {\n        if (req.session.roleID === 3) {\n          next();\n        } else {\n          res.redirect(\"/auth/login\");\n        }\n      } else res.redirect(\"/auth/login\");\n    }\n  }, {\n    key: \"checkRoleDoctor\",\n    value: function checkRoleDoctor(req, res, next) {\n      if (req.session.roleID) {\n        if (req.session.roleID === 2) {\n          next();\n        } else {\n          res.redirect(\"/auth/login\");\n        }\n      } else res.redirect(\"/auth/login\");\n    }\n  }, {\n    key: \"addInfoAuthencation\",\n    value: function () {\n      var _addInfoAuthencation = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(req, res, next) {\n        var user, notifications;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.prev = 0;\n\n                if (!req.session.userID) {\n                  _context2.next = 17;\n                  break;\n                }\n\n                res.locals.userID = req.session.userID;\n                _context2.next = 5;\n                return (0, _UserService.getUserById)(req.session.userID);\n\n              case 5:\n                user = _context2.sent;\n                res.locals.firstName = user.firstName;\n                res.locals.lastName = user.lastName;\n                res.locals.image = user.image;\n                _context2.next = 11;\n                return (0, _NotificationService.getNotificationByUserID)(req.session.userID, user.roleID);\n\n              case 11:\n                notifications = _context2.sent;\n                res.locals.notifications = notifications;\n\n                if (req.session.roleID === 2) {\n                  res.locals.doctorLogin = true;\n                } else if (req.session.roleID === 3) {\n                  res.locals.userLogin = true;\n                }\n\n                next();\n                _context2.next = 18;\n                break;\n\n              case 17:\n                next();\n\n              case 18:\n                _context2.next = 23;\n                break;\n\n              case 20:\n                _context2.prev = 20;\n                _context2.t0 = _context2[\"catch\"](0);\n                console.log(_context2.t0);\n\n              case 23:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, null, [[0, 20]]);\n      }));\n\n      function addInfoAuthencation(_x4, _x5, _x6) {\n        return _addInfoAuthencation.apply(this, arguments);\n      }\n\n      return addInfoAuthencation;\n    }()\n  }, {\n    key: \"checkLogin\",\n    value: function checkLogin(req, res, next) {\n      if (req.session.roleID) {\n        res.redirect(\"back\");\n      } else next();\n    }\n  }]);\n\n  return AuthMiddlewares;\n}();\n\nmodule.exports = new AuthMiddlewares();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkF1dGhNaWRkbGV3YXJlcy5qcyJdLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInJvdXRlciIsIlJvdXRlciIsIkF1dGhNaWRkbGV3YXJlcyIsInJlcSIsInJlcyIsIm5leHQiLCJzZXNzaW9uIiwidXNlcklEIiwicmVkaXJlY3QiLCJ1c2VyIiwicm9sZUlEIiwibG9jYWxzIiwiZmlyc3ROYW1lIiwibGFzdE5hbWUiLCJpbWFnZSIsIm5vdGlmaWNhdGlvbnMiLCJkb2N0b3JMb2dpbiIsInVzZXJMb2dpbiIsImNvbnNvbGUiLCJsb2ciLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOztBQUVBOztBQU9BOzs7Ozs7Ozs7Ozs7QUFUQSxJQUFNQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQyxTQUFELENBQXZCOztBQUNBLElBQU1DLE1BQU0sR0FBR0YsT0FBTyxDQUFDRyxNQUFSLEVBQWY7O0lBVU1DLGU7Ozs7Ozs7O2tGQUNKLGlCQUFtQkMsR0FBbkIsRUFBd0JDLEdBQXhCLEVBQTZCQyxJQUE3QjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxvQkFDT0YsR0FBRyxDQUFDRyxPQUFKLENBQVlDLE1BRG5CO0FBQUE7QUFBQTtBQUFBOztBQUVJSCxnQkFBQUEsR0FBRyxDQUFDSSxRQUFKLENBQWEsYUFBYixFQUZKLENBR0k7O0FBSEo7QUFBQTs7QUFBQTtBQUFBO0FBQUEsdUJBS3FCLDhCQUFZTCxHQUFHLENBQUNHLE9BQUosQ0FBWUMsTUFBeEIsQ0FMckI7O0FBQUE7QUFLUUUsZ0JBQUFBLElBTFI7O0FBTUksb0JBQUlBLElBQUosRUFBVTtBQUNSSixrQkFBQUEsSUFBSTtBQUNMLGlCQUZELE1BRU87QUFDTEQsa0JBQUFBLEdBQUcsQ0FBQ0ksUUFBSixDQUFhLGFBQWI7QUFDRDs7QUFWTDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxPOzs7Ozs7Ozs7O1dBYUEsd0JBQWVMLEdBQWYsRUFBb0JDLEdBQXBCLEVBQXlCQyxJQUF6QixF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QTtBQUFBO0FBQUE7QUFBQTtBQUFBLE87Ozs7Ozs7Ozs7V0EwQkEsb0JBQVdoQixHQUFYLEVBQWdCQyxHQUFoQixFQUFxQkMsSUFBckIsRUFBMkI7QUFDekIsVUFBSUYsR0FBRyxDQUFDRyxPQUFKLENBQVlJLE1BQWhCLEVBQXdCO0FBQ3RCTixRQUFBQSxHQUFHLENBQUNJLFFBQUosQ0FBYSxNQUFiO0FBQ0QsT0FGRCxNQUVPSCxJQUFJO0FBQ1o7Ozs7OztBQUVIZSxNQUFNLENBQUNDLE9BQVAsR0FBaUIsSUFBSW5CLGVBQUosRUFBakIiLCJzb3VyY2VSb290IjoiL1VzZXJzL21hYy9EZXNrdG9wL0ZpbmFsX1Byb2plY3RfRFRVL3NyYy9hcHAvbWlkZGxld2FyZXMvIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoXCJleHByZXNzXCIpO1xyXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xyXG5pbXBvcnQge1xyXG4gIGdldFVzZXJCeUVtYWlsQW5kUGFzc3dvcmQsXHJcbiAgZ2V0VXNlckJ5RW1haWwsXHJcbiAgY3JlYXRlTmV3VXNlcixcclxuICBzZW5kTWFpbCxcclxuICBnZXRVc2VyQnlJZCxcclxufSBmcm9tIFwiLi4vc2VydmljZS9Vc2VyU2VydmljZVwiO1xyXG5pbXBvcnQgeyBnZXROb3RpZmljYXRpb25CeVVzZXJJRCB9IGZyb20gXCIuLi9zZXJ2aWNlL05vdGlmaWNhdGlvblNlcnZpY2VcIjtcclxuXHJcbmNsYXNzIEF1dGhNaWRkbGV3YXJlcyB7XHJcbiAgYXN5bmMgY2hlY2tBY2NvdW50KHJlcSwgcmVzLCBuZXh0KSB7XHJcbiAgICBpZiAoIXJlcS5zZXNzaW9uLnVzZXJJRCkge1xyXG4gICAgICByZXMucmVkaXJlY3QoXCIvYXV0aC9sb2dpblwiKTtcclxuICAgICAgLy9yZXR1cm47XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBsZXQgdXNlciA9IGF3YWl0IGdldFVzZXJCeUlkKHJlcS5zZXNzaW9uLnVzZXJJRCk7XHJcbiAgICAgIGlmICh1c2VyKSB7XHJcbiAgICAgICAgbmV4dCgpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJlcy5yZWRpcmVjdChcIi9hdXRoL2xvZ2luXCIpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG4gIGNoZWNrUm9sZUFkbWluKHJlcSwgcmVzLCBuZXh0KSB7XHJcbiAgICBpZiAocmVxLnNlc3Npb24ucm9sZUlEKSB7XHJcbiAgICAgIGlmIChyZXEuc2Vzc2lvbi5yb2xlSUQgPT09IDEpIHtcclxuICAgICAgICBuZXh0KCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmVzLnJlZGlyZWN0KFwiL2F1dGgvbG9naW5cIik7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSByZXMucmVkaXJlY3QoXCIvYXV0aC9sb2dpblwiKTtcclxuICB9XHJcbiAgY2hlY2tSb2xlVXNlcihyZXEsIHJlcywgbmV4dCkge1xyXG4gICAgaWYgKHJlcS5zZXNzaW9uLnJvbGVJRCkge1xyXG4gICAgICBpZiAocmVxLnNlc3Npb24ucm9sZUlEID09PSAzKSB7XHJcbiAgICAgICAgbmV4dCgpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJlcy5yZWRpcmVjdChcIi9hdXRoL2xvZ2luXCIpO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2UgcmVzLnJlZGlyZWN0KFwiL2F1dGgvbG9naW5cIik7XHJcbiAgfVxyXG4gIGNoZWNrUm9sZURvY3RvcihyZXEsIHJlcywgbmV4dCkge1xyXG4gICAgaWYgKHJlcS5zZXNzaW9uLnJvbGVJRCkge1xyXG4gICAgICBpZiAocmVxLnNlc3Npb24ucm9sZUlEID09PSAyKSB7XHJcbiAgICAgICAgbmV4dCgpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJlcy5yZWRpcmVjdChcIi9hdXRoL2xvZ2luXCIpO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2UgcmVzLnJlZGlyZWN0KFwiL2F1dGgvbG9naW5cIik7XHJcbiAgfVxyXG4gIGFzeW5jIGFkZEluZm9BdXRoZW5jYXRpb24ocmVxLCByZXMsIG5leHQpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGlmIChyZXEuc2Vzc2lvbi51c2VySUQpIHtcclxuICAgICAgICByZXMubG9jYWxzLnVzZXJJRCA9IHJlcS5zZXNzaW9uLnVzZXJJRDtcclxuICAgICAgICBsZXQgdXNlciA9IGF3YWl0IGdldFVzZXJCeUlkKHJlcS5zZXNzaW9uLnVzZXJJRCk7XHJcbiAgICAgICAgcmVzLmxvY2Fscy5maXJzdE5hbWUgPSB1c2VyLmZpcnN0TmFtZTtcclxuICAgICAgICByZXMubG9jYWxzLmxhc3ROYW1lID0gdXNlci5sYXN0TmFtZTtcclxuICAgICAgICByZXMubG9jYWxzLmltYWdlID0gdXNlci5pbWFnZTtcclxuICAgICAgICBsZXQgbm90aWZpY2F0aW9ucyA9IGF3YWl0IGdldE5vdGlmaWNhdGlvbkJ5VXNlcklEKFxyXG4gICAgICAgICAgcmVxLnNlc3Npb24udXNlcklELFxyXG4gICAgICAgICAgdXNlci5yb2xlSURcclxuICAgICAgICApO1xyXG4gICAgICAgIHJlcy5sb2NhbHMubm90aWZpY2F0aW9ucyA9IG5vdGlmaWNhdGlvbnM7XHJcbiAgICAgICAgaWYgKHJlcS5zZXNzaW9uLnJvbGVJRCA9PT0gMikge1xyXG4gICAgICAgICAgcmVzLmxvY2Fscy5kb2N0b3JMb2dpbiA9IHRydWU7XHJcbiAgICAgICAgfSBlbHNlIGlmIChyZXEuc2Vzc2lvbi5yb2xlSUQgPT09IDMpIHtcclxuICAgICAgICAgIHJlcy5sb2NhbHMudXNlckxvZ2luID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbmV4dCgpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIG5leHQoKTtcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICB9XHJcbiAgfVxyXG4gIGNoZWNrTG9naW4ocmVxLCByZXMsIG5leHQpIHtcclxuICAgIGlmIChyZXEuc2Vzc2lvbi5yb2xlSUQpIHtcclxuICAgICAgcmVzLnJlZGlyZWN0KFwiYmFja1wiKTtcclxuICAgIH0gZWxzZSBuZXh0KCk7XHJcbiAgfVxyXG59XHJcbm1vZHVsZS5leHBvcnRzID0gbmV3IEF1dGhNaWRkbGV3YXJlcygpO1xyXG4iXX0=","map":{"version":3,"sources":["AuthMiddlewares.js"],"names":["express","require","router","Router","AuthMiddlewares","req","res","next","session","userID","redirect","user","roleID","locals","firstName","lastName","image","notifications","doctorLogin","userLogin","console","log","module","exports"],"mappings":"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","sourceRoot":"/Users/mac/Desktop/Final_Project_DTU/src/app/middlewares/","sourcesContent":["const express = require(\"express\");\r\nconst router = express.Router();\r\nimport {\r\n  getUserByEmailAndPassword,\r\n  getUserByEmail,\r\n  createNewUser,\r\n  sendMail,\r\n  getUserById,\r\n} from \"../service/UserService\";\r\nimport { getNotificationByUserID } from \"../service/NotificationService\";\r\n\r\nclass AuthMiddlewares {\r\n  async checkAccount(req, res, next) {\r\n    if (!req.session.userID) {\r\n      res.redirect(\"/auth/login\");\r\n      //return;\r\n    } else {\r\n      let user = await getUserById(req.session.userID);\r\n      if (user) {\r\n        next();\r\n      } else {\r\n        res.redirect(\"/auth/login\");\r\n      }\r\n    }\r\n  }\r\n  checkRoleAdmin(req, res, next) {\r\n    if (req.session.roleID) {\r\n      if (req.session.roleID === 1) {\r\n        next();\r\n      } else {\r\n        res.redirect(\"/auth/login\");\r\n      }\r\n    } else res.redirect(\"/auth/login\");\r\n  }\r\n  checkRoleUser(req, res, next) {\r\n    if (req.session.roleID) {\r\n      if (req.session.roleID === 3) {\r\n        next();\r\n      } else {\r\n        res.redirect(\"/auth/login\");\r\n      }\r\n    } else res.redirect(\"/auth/login\");\r\n  }\r\n  checkRoleDoctor(req, res, next) {\r\n    if (req.session.roleID) {\r\n      if (req.session.roleID === 2) {\r\n        next();\r\n      } else {\r\n        res.redirect(\"/auth/login\");\r\n      }\r\n    } else res.redirect(\"/auth/login\");\r\n  }\r\n  async addInfoAuthencation(req, res, next) {\r\n    try {\r\n      if (req.session.userID) {\r\n        res.locals.userID = req.session.userID;\r\n        let user = await getUserById(req.session.userID);\r\n        res.locals.firstName = user.firstName;\r\n        res.locals.lastName = user.lastName;\r\n        res.locals.image = user.image;\r\n        let notifications = await getNotificationByUserID(\r\n          req.session.userID,\r\n          user.roleID\r\n        );\r\n        res.locals.notifications = notifications;\r\n        if (req.session.roleID === 2) {\r\n          res.locals.doctorLogin = true;\r\n        } else if (req.session.roleID === 3) {\r\n          res.locals.userLogin = true;\r\n        }\r\n        next();\r\n      } else {\r\n        next();\r\n      }\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  }\r\n  checkLogin(req, res, next) {\r\n    if (req.session.roleID) {\r\n      res.redirect(\"back\");\r\n    } else next();\r\n  }\r\n}\r\nmodule.exports = new AuthMiddlewares();\r\n"]}},"mtime":1651628686000},"{\"sourceRoot\":\"/Users/mac/Desktop/Final_Project_DTU/src/app/service/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/mac/Desktop/Final_Project_DTU\",\"filename\":\"/Users/mac/Desktop/Final_Project_DTU/src/app/service/UserService.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/mac/Desktop/Final_Project_DTU\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar bcrypt = require(\"bcryptjs\");\n\nvar db = require(\"../models/index\");\n\nvar salt = bcrypt.genSaltSync(5);\n\nvar nodemailer = require(\"nodemailer\"); //sendEmailConfirm\n\n\nvar sendMail = function sendMail(receiverEmail, senderEmail, senderPassword, content) {\n  var transporter = nodemailer.createTransport({\n    host: \"smtp.gmail.com\",\n    port: 587,\n    secure: false,\n    auth: {\n      user: senderEmail,\n      pass: senderPassword\n    }\n  });\n  var mailMessage = {\n    from: senderEmail,\n    to: receiverEmail,\n    subject: \"Confirm Email\",\n    text: \"This is Email Confirm Code ! \\n       Your code : \".concat(content, \" \\n      \")\n  };\n  transporter.sendMail(mailMessage, function (error, data) {});\n};\n\nvar compareUserPass = function compareUserPass(password, hash) {\n  return new Promise( /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(resolve, reject) {\n      var hashPassword;\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return bcrypt.compareSync(password, hash);\n\n            case 3:\n              hashPassword = _context.sent;\n              resolve(hashPassword);\n              _context.next = 10;\n              break;\n\n            case 7:\n              _context.prev = 7;\n              _context.t0 = _context[\"catch\"](0);\n              reject(_context.t0);\n\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 7]]);\n    }));\n\n    return function (_x, _x2) {\n      return _ref.apply(this, arguments);\n    };\n  }());\n};\n\nvar hashUserPassword = function hashUserPassword(password) {\n  return new Promise( /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(resolve, reject) {\n      var hashPassword;\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return bcrypt.hashSync(password, 5);\n\n            case 3:\n              hashPassword = _context2.sent;\n              resolve(hashPassword);\n              _context2.next = 10;\n              break;\n\n            case 7:\n              _context2.prev = 7;\n              _context2.t0 = _context2[\"catch\"](0);\n              reject(_context2.t0);\n\n            case 10:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[0, 7]]);\n    }));\n\n    return function (_x3, _x4) {\n      return _ref2.apply(this, arguments);\n    };\n  }());\n};\n\nvar getUserByEmailAndPassword = function getUserByEmailAndPassword(email, password) {\n  return new Promise( /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(resolve, reject) {\n      var user, comparePassword;\n      return regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.prev = 0;\n              _context3.next = 3;\n              return db.User.findOne({\n                where: {\n                  email: email\n                },\n                raw: true\n              });\n\n            case 3:\n              user = _context3.sent;\n              _context3.next = 6;\n              return compareUserPass(password.trim(), user.password);\n\n            case 6:\n              comparePassword = _context3.sent;\n\n              if (user && comparePassword) {\n                resolve(user);\n              } else {\n                resolve();\n              }\n\n              _context3.next = 13;\n              break;\n\n            case 10:\n              _context3.prev = 10;\n              _context3.t0 = _context3[\"catch\"](0);\n              reject(_context3.t0);\n\n            case 13:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, null, [[0, 10]]);\n    }));\n\n    return function (_x5, _x6) {\n      return _ref3.apply(this, arguments);\n    };\n  }());\n};\n\nvar getUserByEmail = function getUserByEmail(email) {\n  return new Promise( /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(resolve, reject) {\n      var user;\n      return regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.prev = 0;\n              _context4.next = 3;\n              return db.User.findOne({\n                where: {\n                  email: email\n                },\n                raw: true\n              });\n\n            case 3:\n              user = _context4.sent;\n\n              if (user) {\n                resolve(user);\n              } else {\n                resolve(null);\n              }\n\n              _context4.next = 10;\n              break;\n\n            case 7:\n              _context4.prev = 7;\n              _context4.t0 = _context4[\"catch\"](0);\n              reject(_context4.t0);\n\n            case 10:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4, null, [[0, 7]]);\n    }));\n\n    return function (_x7, _x8) {\n      return _ref4.apply(this, arguments);\n    };\n  }());\n};\n\nvar getUserByName = function getUserByName(name) {\n  return new Promise( /*#__PURE__*/function () {\n    var _ref5 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5(resolve, reject) {\n      var user;\n      return regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              _context5.prev = 0;\n              _context5.next = 3;\n              return db.User.findOne({\n                where: {\n                  name: name\n                },\n                raw: true\n              });\n\n            case 3:\n              user = _context5.sent;\n\n              if (user) {\n                resolve(user);\n              } else {\n                resolve(null);\n              }\n\n              _context5.next = 10;\n              break;\n\n            case 7:\n              _context5.prev = 7;\n              _context5.t0 = _context5[\"catch\"](0);\n              reject(_context5.t0);\n\n            case 10:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5, null, [[0, 7]]);\n    }));\n\n    return function (_x9, _x10) {\n      return _ref5.apply(this, arguments);\n    };\n  }());\n};\n\nvar getListUsers = function getListUsers() {\n  return new Promise( /*#__PURE__*/function () {\n    var _ref6 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee6(resolve, reject) {\n      var listUsers;\n      return regeneratorRuntime.wrap(function _callee6$(_context6) {\n        while (1) {\n          switch (_context6.prev = _context6.next) {\n            case 0:\n              _context6.prev = 0;\n              _context6.next = 3;\n              return db.User.findAll({\n                raw: true\n              });\n\n            case 3:\n              listUsers = _context6.sent;\n              resolve(listUsers); // == return listUsers\n\n              _context6.next = 10;\n              break;\n\n            case 7:\n              _context6.prev = 7;\n              _context6.t0 = _context6[\"catch\"](0);\n              reject(_context6.t0);\n\n            case 10:\n            case \"end\":\n              return _context6.stop();\n          }\n        }\n      }, _callee6, null, [[0, 7]]);\n    }));\n\n    return function (_x11, _x12) {\n      return _ref6.apply(this, arguments);\n    };\n  }());\n};\n\nvar createNewUser = function createNewUser(data) {\n  return new Promise( /*#__PURE__*/function () {\n    var _ref7 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee7(resolve, reject) {\n      var hashPassword;\n      return regeneratorRuntime.wrap(function _callee7$(_context7) {\n        while (1) {\n          switch (_context7.prev = _context7.next) {\n            case 0:\n              _context7.prev = 0;\n              _context7.next = 3;\n              return hashUserPassword(data.password);\n\n            case 3:\n              hashPassword = _context7.sent;\n              _context7.next = 6;\n              return db.User.create({\n                id: data.id,\n                email: data.email,\n                password: hashPassword,\n                firstName: data.firstName,\n                lastName: data.lastName,\n                roleID: 3,\n                image: \"cc38cdf86cad599284b94973a9444b65\",\n                balance: 0,\n                status: 0\n              });\n\n            case 6:\n              resolve(\"add successfully !\");\n              _context7.next = 12;\n              break;\n\n            case 9:\n              _context7.prev = 9;\n              _context7.t0 = _context7[\"catch\"](0);\n              reject(_context7.t0);\n\n            case 12:\n            case \"end\":\n              return _context7.stop();\n          }\n        }\n      }, _callee7, null, [[0, 9]]);\n    }));\n\n    return function (_x13, _x14) {\n      return _ref7.apply(this, arguments);\n    };\n  }());\n};\n\nvar getUserById = function getUserById(id) {\n  return new Promise( /*#__PURE__*/function () {\n    var _ref8 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee8(resolve, reject) {\n      var user;\n      return regeneratorRuntime.wrap(function _callee8$(_context8) {\n        while (1) {\n          switch (_context8.prev = _context8.next) {\n            case 0:\n              _context8.prev = 0;\n              _context8.next = 3;\n              return db.User.findOne({\n                where: {\n                  id: id\n                },\n                raw: true\n              });\n\n            case 3:\n              user = _context8.sent;\n\n              if (user) {\n                resolve(user);\n              } else {\n                resolve({});\n              }\n\n              _context8.next = 10;\n              break;\n\n            case 7:\n              _context8.prev = 7;\n              _context8.t0 = _context8[\"catch\"](0);\n              reject(_context8.t0);\n\n            case 10:\n            case \"end\":\n              return _context8.stop();\n          }\n        }\n      }, _callee8, null, [[0, 7]]);\n    }));\n\n    return function (_x15, _x16) {\n      return _ref8.apply(this, arguments);\n    };\n  }());\n};\n\nvar updateUser = function updateUser(data) {\n  return new Promise( /*#__PURE__*/function () {\n    var _ref9 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee9(resolve, reject) {\n      var user;\n      return regeneratorRuntime.wrap(function _callee9$(_context9) {\n        while (1) {\n          switch (_context9.prev = _context9.next) {\n            case 0:\n              _context9.prev = 0;\n              _context9.next = 3;\n              return db.User.findOne({\n                where: {\n                  id: data.id\n                }\n              });\n\n            case 3:\n              user = _context9.sent;\n\n              if (!user) {\n                _context9.next = 16;\n                break;\n              }\n\n              user.firstName = data.firstName;\n              user.lastName = data.lastName;\n              user.address = data.address;\n              user.phoneNumber = data.phoneNumber;\n              user.gender = data.gender; //user.roleID = data.roleID;\n\n              if (data.image != \"\") {\n                user.image = data.image;\n              }\n\n              _context9.next = 13;\n              return user.save();\n\n            case 13:\n              resolve(\"update done !\"); //return\n\n              _context9.next = 17;\n              break;\n\n            case 16:\n              resolve(); //return\n\n            case 17:\n              _context9.next = 22;\n              break;\n\n            case 19:\n              _context9.prev = 19;\n              _context9.t0 = _context9[\"catch\"](0);\n              reject(_context9.t0);\n\n            case 22:\n            case \"end\":\n              return _context9.stop();\n          }\n        }\n      }, _callee9, null, [[0, 19]]);\n    }));\n\n    return function (_x17, _x18) {\n      return _ref9.apply(this, arguments);\n    };\n  }());\n};\n\nvar updatePassword = function updatePassword(email, newPassword) {\n  return new Promise( /*#__PURE__*/function () {\n    var _ref10 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee10(resolve, reject) {\n      var user;\n      return regeneratorRuntime.wrap(function _callee10$(_context10) {\n        while (1) {\n          switch (_context10.prev = _context10.next) {\n            case 0:\n              _context10.prev = 0;\n              _context10.next = 3;\n              return db.User.findOne({\n                where: {\n                  email: email.trim()\n                }\n              });\n\n            case 3:\n              user = _context10.sent;\n\n              if (!user) {\n                _context10.next = 13;\n                break;\n              }\n\n              _context10.next = 7;\n              return hashUserPassword(newPassword);\n\n            case 7:\n              user.password = _context10.sent;\n              _context10.next = 10;\n              return user.save();\n\n            case 10:\n              resolve(\"update password successfully !\"); //return\n\n              _context10.next = 14;\n              break;\n\n            case 13:\n              resolve(); //return\n\n            case 14:\n              _context10.next = 19;\n              break;\n\n            case 16:\n              _context10.prev = 16;\n              _context10.t0 = _context10[\"catch\"](0);\n              reject(_context10.t0);\n\n            case 19:\n            case \"end\":\n              return _context10.stop();\n          }\n        }\n      }, _callee10, null, [[0, 16]]);\n    }));\n\n    return function (_x19, _x20) {\n      return _ref10.apply(this, arguments);\n    };\n  }());\n};\n\nvar deleteUser = function deleteUser(id) {\n  return new Promise( /*#__PURE__*/function () {\n    var _ref11 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee11(resolve, reject) {\n      var user;\n      return regeneratorRuntime.wrap(function _callee11$(_context11) {\n        while (1) {\n          switch (_context11.prev = _context11.next) {\n            case 0:\n              _context11.prev = 0;\n              _context11.next = 3;\n              return db.User.findOne({\n                where: {\n                  id: id\n                }\n              });\n\n            case 3:\n              user = _context11.sent;\n\n              if (!user) {\n                _context11.next = 7;\n                break;\n              }\n\n              _context11.next = 7;\n              return user.destroy();\n\n            case 7:\n              resolve();\n              _context11.next = 13;\n              break;\n\n            case 10:\n              _context11.prev = 10;\n              _context11.t0 = _context11[\"catch\"](0);\n              reject(_context11.t0);\n\n            case 13:\n            case \"end\":\n              return _context11.stop();\n          }\n        }\n      }, _callee11, null, [[0, 10]]);\n    }));\n\n    return function (_x21, _x22) {\n      return _ref11.apply(this, arguments);\n    };\n  }());\n};\n\nvar addBalanceById = function addBalanceById(id, amount) {\n  return new Promise( /*#__PURE__*/function () {\n    var _ref12 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee12(resolve, reject) {\n      var user;\n      return regeneratorRuntime.wrap(function _callee12$(_context12) {\n        while (1) {\n          switch (_context12.prev = _context12.next) {\n            case 0:\n              _context12.prev = 0;\n              _context12.next = 3;\n              return db.User.findOne({\n                where: {\n                  id: id\n                } // raw: true\n\n              });\n\n            case 3:\n              user = _context12.sent;\n\n              if (!user) {\n                _context12.next = 11;\n                break;\n              }\n\n              user.balance = user.balance + amount;\n              _context12.next = 8;\n              return user.save();\n\n            case 8:\n              resolve(); //return\n\n              _context12.next = 12;\n              break;\n\n            case 11:\n              resolve(); //return\n\n            case 12:\n              _context12.next = 17;\n              break;\n\n            case 14:\n              _context12.prev = 14;\n              _context12.t0 = _context12[\"catch\"](0);\n              reject(_context12.t0);\n\n            case 17:\n            case \"end\":\n              return _context12.stop();\n          }\n        }\n      }, _callee12, null, [[0, 14]]);\n    }));\n\n    return function (_x23, _x24) {\n      return _ref12.apply(this, arguments);\n    };\n  }());\n};\n\nvar minusBalanceById = function minusBalanceById(id, amount) {\n  return new Promise( /*#__PURE__*/function () {\n    var _ref13 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee13(resolve, reject) {\n      var user;\n      return regeneratorRuntime.wrap(function _callee13$(_context13) {\n        while (1) {\n          switch (_context13.prev = _context13.next) {\n            case 0:\n              _context13.prev = 0;\n              _context13.next = 3;\n              return db.User.findOne({\n                where: {\n                  id: id\n                } // raw: true\n\n              });\n\n            case 3:\n              user = _context13.sent;\n\n              if (!user) {\n                _context13.next = 11;\n                break;\n              }\n\n              user.balance = user.balance - amount;\n              _context13.next = 8;\n              return user.save();\n\n            case 8:\n              resolve(); //return\n\n              _context13.next = 12;\n              break;\n\n            case 11:\n              resolve(); //return\n\n            case 12:\n              _context13.next = 17;\n              break;\n\n            case 14:\n              _context13.prev = 14;\n              _context13.t0 = _context13[\"catch\"](0);\n              reject(_context13.t0);\n\n            case 17:\n            case \"end\":\n              return _context13.stop();\n          }\n        }\n      }, _callee13, null, [[0, 14]]);\n    }));\n\n    return function (_x25, _x26) {\n      return _ref13.apply(this, arguments);\n    };\n  }());\n};\n\nmodule.exports = {\n  createNewUser: createNewUser,\n  getListUsers: getListUsers,\n  getUserById: getUserById,\n  deleteUser: deleteUser,\n  updateUser: updateUser,\n  getUserByEmailAndPassword: getUserByEmailAndPassword,\n  compareUserPass: compareUserPass,\n  getUserByEmail: getUserByEmail,\n  sendMail: sendMail,\n  getUserByName: getUserByName,\n  updatePassword: updatePassword,\n  minusBalanceById: minusBalanceById,\n  addBalanceById: addBalanceById\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlVzZXJTZXJ2aWNlLmpzIl0sIm5hbWVzIjpbImJjcnlwdCIsInJlcXVpcmUiLCJkYiIsInNhbHQiLCJnZW5TYWx0U3luYyIsIm5vZGVtYWlsZXIiLCJzZW5kTWFpbCIsInJlY2VpdmVyRW1haWwiLCJzZW5kZXJFbWFpbCIsInNlbmRlclBhc3N3b3JkIiwiY29udGVudCIsInRyYW5zcG9ydGVyIiwiY3JlYXRlVHJhbnNwb3J0IiwiaG9zdCIsInBvcnQiLCJzZWN1cmUiLCJhdXRoIiwidXNlciIsInBhc3MiLCJtYWlsTWVzc2FnZSIsImZyb20iLCJ0byIsInN1YmplY3QiLCJ0ZXh0IiwiZXJyb3IiLCJkYXRhIiwiY29tcGFyZVVzZXJQYXNzIiwicGFzc3dvcmQiLCJoYXNoIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJjb21wYXJlU3luYyIsImhhc2hQYXNzd29yZCIsImhhc2hVc2VyUGFzc3dvcmQiLCJoYXNoU3luYyIsImdldFVzZXJCeUVtYWlsQW5kUGFzc3dvcmQiLCJlbWFpbCIsIlVzZXIiLCJmaW5kT25lIiwid2hlcmUiLCJyYXciLCJ0cmltIiwiY29tcGFyZVBhc3N3b3JkIiwiZ2V0VXNlckJ5RW1haWwiLCJnZXRVc2VyQnlOYW1lIiwibmFtZSIsImdldExpc3RVc2VycyIsImZpbmRBbGwiLCJsaXN0VXNlcnMiLCJjcmVhdGVOZXdVc2VyIiwiY3JlYXRlIiwiaWQiLCJmaXJzdE5hbWUiLCJsYXN0TmFtZSIsInJvbGVJRCIsImltYWdlIiwiYmFsYW5jZSIsInN0YXR1cyIsImdldFVzZXJCeUlkIiwidXBkYXRlVXNlciIsImFkZHJlc3MiLCJwaG9uZU51bWJlciIsImdlbmRlciIsInNhdmUiLCJ1cGRhdGVQYXNzd29yZCIsIm5ld1Bhc3N3b3JkIiwiZGVsZXRlVXNlciIsImRlc3Ryb3kiLCJhZGRCYWxhbmNlQnlJZCIsImFtb3VudCIsIm1pbnVzQmFsYW5jZUJ5SWQiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFB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ZkYsRUFBQUEsY0FBYyxFQUFkQTtBQWJlLENBQWpCIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9tYWMvRGVza3RvcC9GaW5hbF9Qcm9qZWN0X0RUVS9zcmMvYXBwL3NlcnZpY2UvIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgYmNyeXB0ID0gcmVxdWlyZShcImJjcnlwdGpzXCIpO1xyXG5jb25zdCBkYiA9IHJlcXVpcmUoXCIuLi9tb2RlbHMvaW5kZXhcIik7XHJcbmxldCBzYWx0ID0gYmNyeXB0LmdlblNhbHRTeW5jKDUpO1xyXG5jb25zdCBub2RlbWFpbGVyID0gcmVxdWlyZShcIm5vZGVtYWlsZXJcIik7IC8vc2VuZEVtYWlsQ29uZmlybVxyXG5cclxubGV0IHNlbmRNYWlsID0gKHJlY2VpdmVyRW1haWwsIHNlbmRlckVtYWlsLCBzZW5kZXJQYXNzd29yZCwgY29udGVudCkgPT4ge1xyXG4gIHZhciB0cmFuc3BvcnRlciA9IG5vZGVtYWlsZXIuY3JlYXRlVHJhbnNwb3J0KHtcclxuICAgIGhvc3Q6IFwic210cC5nbWFpbC5jb21cIixcclxuICAgIHBvcnQ6IDU4NyxcclxuICAgIHNlY3VyZTogZmFsc2UsXHJcbiAgICBhdXRoOiB7XHJcbiAgICAgIHVzZXI6IHNlbmRlckVtYWlsLFxyXG4gICAgICBwYXNzOiBzZW5kZXJQYXNzd29yZCxcclxuICAgIH0sXHJcbiAgfSk7XHJcbiAgdmFyIG1haWxNZXNzYWdlID0ge1xyXG4gICAgZnJvbTogc2VuZGVyRW1haWwsXHJcbiAgICB0bzogcmVjZWl2ZXJFbWFpbCxcclxuICAgIHN1YmplY3Q6IFwiQ29uZmlybSBFbWFpbFwiLFxyXG4gICAgdGV4dDogYFRoaXMgaXMgRW1haWwgQ29uZmlybSBDb2RlICEgXHJcbiAgICAgICBZb3VyIGNvZGUgOiAke2NvbnRlbnR9IFxyXG4gICAgICBgLFxyXG4gIH07XHJcbiAgdHJhbnNwb3J0ZXIuc2VuZE1haWwobWFpbE1lc3NhZ2UsIGZ1bmN0aW9uIChlcnJvciwgZGF0YSkge30pO1xyXG59O1xyXG5cclxubGV0IGNvbXBhcmVVc2VyUGFzcyA9IChwYXNzd29yZCwgaGFzaCkgPT4ge1xyXG4gIHJldHVybiBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBsZXQgaGFzaFBhc3N3b3JkID0gYXdhaXQgYmNyeXB0LmNvbXBhcmVTeW5jKHBhc3N3b3JkLCBoYXNoKTtcclxuICAgICAgcmVzb2x2ZShoYXNoUGFzc3dvcmQpO1xyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICByZWplY3QoZSk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn07XHJcblxyXG5sZXQgaGFzaFVzZXJQYXNzd29yZCA9IChwYXNzd29yZCkgPT4ge1xyXG4gIHJldHVybiBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBsZXQgaGFzaFBhc3N3b3JkID0gYXdhaXQgYmNyeXB0Lmhhc2hTeW5jKHBhc3N3b3JkLCA1KTtcclxuICAgICAgcmVzb2x2ZShoYXNoUGFzc3dvcmQpO1xyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICByZWplY3QoZSk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn07XHJcblxyXG5sZXQgZ2V0VXNlckJ5RW1haWxBbmRQYXNzd29yZCA9IChlbWFpbCwgcGFzc3dvcmQpID0+IHtcclxuICByZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgbGV0IHVzZXIgPSBhd2FpdCBkYi5Vc2VyLmZpbmRPbmUoe1xyXG4gICAgICAgIHdoZXJlOiB7IGVtYWlsOiBlbWFpbCB9LFxyXG4gICAgICAgIHJhdzogdHJ1ZSxcclxuICAgICAgfSk7XHJcbiAgICAgIGxldCBjb21wYXJlUGFzc3dvcmQgPSBhd2FpdCBjb21wYXJlVXNlclBhc3MoXHJcbiAgICAgICAgcGFzc3dvcmQudHJpbSgpLFxyXG4gICAgICAgIHVzZXIucGFzc3dvcmRcclxuICAgICAgKTtcclxuICAgICAgaWYgKHVzZXIgJiYgY29tcGFyZVBhc3N3b3JkKSB7XHJcbiAgICAgICAgcmVzb2x2ZSh1c2VyKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgcmVqZWN0KGUpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59O1xyXG5cclxubGV0IGdldFVzZXJCeUVtYWlsID0gKGVtYWlsKSA9PiB7XHJcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGxldCB1c2VyID0gYXdhaXQgZGIuVXNlci5maW5kT25lKHtcclxuICAgICAgICB3aGVyZTogeyBlbWFpbDogZW1haWwgfSxcclxuICAgICAgICByYXc6IHRydWUsXHJcbiAgICAgIH0pO1xyXG4gICAgICBpZiAodXNlcikge1xyXG4gICAgICAgIHJlc29sdmUodXNlcik7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmVzb2x2ZShudWxsKTtcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICByZWplY3QoZSk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn07XHJcblxyXG5sZXQgZ2V0VXNlckJ5TmFtZSA9IChuYW1lKSA9PiB7XHJcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGxldCB1c2VyID0gYXdhaXQgZGIuVXNlci5maW5kT25lKHtcclxuICAgICAgICB3aGVyZTogeyBuYW1lOiBuYW1lIH0sXHJcbiAgICAgICAgcmF3OiB0cnVlLFxyXG4gICAgICB9KTtcclxuICAgICAgaWYgKHVzZXIpIHtcclxuICAgICAgICByZXNvbHZlKHVzZXIpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJlc29sdmUobnVsbCk7XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgcmVqZWN0KGUpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59O1xyXG5cclxubGV0IGdldExpc3RVc2VycyA9ICgpID0+IHtcclxuICByZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgbGV0IGxpc3RVc2VycyA9IGF3YWl0IGRiLlVzZXIuZmluZEFsbCh7IHJhdzogdHJ1ZSB9KTtcclxuICAgICAgcmVzb2x2ZShsaXN0VXNlcnMpOyAvLyA9PSByZXR1cm4gbGlzdFVzZXJzXHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIHJlamVjdChlKTtcclxuICAgIH1cclxuICB9KTtcclxufTtcclxubGV0IGNyZWF0ZU5ld1VzZXIgPSAoZGF0YSkgPT4ge1xyXG4gIHJldHVybiBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBsZXQgaGFzaFBhc3N3b3JkID0gYXdhaXQgaGFzaFVzZXJQYXNzd29yZChkYXRhLnBhc3N3b3JkKTtcclxuXHJcbiAgICAgIGF3YWl0IGRiLlVzZXIuY3JlYXRlKHtcclxuICAgICAgICBpZDogZGF0YS5pZCxcclxuICAgICAgICBlbWFpbDogZGF0YS5lbWFpbCxcclxuICAgICAgICBwYXNzd29yZDogaGFzaFBhc3N3b3JkLFxyXG4gICAgICAgIGZpcnN0TmFtZTogZGF0YS5maXJzdE5hbWUsXHJcbiAgICAgICAgbGFzdE5hbWU6IGRhdGEubGFzdE5hbWUsXHJcbiAgICAgICAgcm9sZUlEOiAzLFxyXG4gICAgICAgIGltYWdlOiBcImNjMzhjZGY4NmNhZDU5OTI4NGI5NDk3M2E5NDQ0YjY1XCIsXHJcbiAgICAgICAgYmFsYW5jZTogMCxcclxuICAgICAgICBzdGF0dXM6IDAsXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgcmVzb2x2ZShcImFkZCBzdWNjZXNzZnVsbHkgIVwiKTtcclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgcmVqZWN0KGUpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59O1xyXG5cclxubGV0IGdldFVzZXJCeUlkID0gKGlkKSA9PiB7XHJcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGxldCB1c2VyID0gYXdhaXQgZGIuVXNlci5maW5kT25lKHtcclxuICAgICAgICB3aGVyZTogeyBpZDogaWQgfSxcclxuICAgICAgICByYXc6IHRydWUsXHJcbiAgICAgIH0pO1xyXG4gICAgICBpZiAodXNlcikge1xyXG4gICAgICAgIHJlc29sdmUodXNlcik7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmVzb2x2ZSh7fSk7XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgcmVqZWN0KGUpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59O1xyXG5sZXQgdXBkYXRlVXNlciA9IChkYXRhKSA9PiB7XHJcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGxldCB1c2VyID0gYXdhaXQgZGIuVXNlci5maW5kT25lKHtcclxuICAgICAgICB3aGVyZTogeyBpZDogZGF0YS5pZCB9LFxyXG4gICAgICB9KTtcclxuICAgICAgaWYgKHVzZXIpIHtcclxuICAgICAgICB1c2VyLmZpcnN0TmFtZSA9IGRhdGEuZmlyc3ROYW1lO1xyXG4gICAgICAgIHVzZXIubGFzdE5hbWUgPSBkYXRhLmxhc3ROYW1lO1xyXG4gICAgICAgIHVzZXIuYWRkcmVzcyA9IGRhdGEuYWRkcmVzcztcclxuICAgICAgICB1c2VyLnBob25lTnVtYmVyID0gZGF0YS5waG9uZU51bWJlcjtcclxuICAgICAgICB1c2VyLmdlbmRlciA9IGRhdGEuZ2VuZGVyO1xyXG4gICAgICAgIC8vdXNlci5yb2xlSUQgPSBkYXRhLnJvbGVJRDtcclxuICAgICAgICBpZiAoZGF0YS5pbWFnZSAhPSBcIlwiKSB7XHJcbiAgICAgICAgICB1c2VyLmltYWdlID0gZGF0YS5pbWFnZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgYXdhaXQgdXNlci5zYXZlKCk7XHJcbiAgICAgICAgcmVzb2x2ZShcInVwZGF0ZSBkb25lICFcIik7IC8vcmV0dXJuXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmVzb2x2ZSgpOyAvL3JldHVyblxyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIHJlamVjdChlKTtcclxuICAgIH1cclxuICB9KTtcclxufTtcclxubGV0IHVwZGF0ZVBhc3N3b3JkID0gKGVtYWlsLCBuZXdQYXNzd29yZCkgPT4ge1xyXG4gIHJldHVybiBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBsZXQgdXNlciA9IGF3YWl0IGRiLlVzZXIuZmluZE9uZSh7XHJcbiAgICAgICAgd2hlcmU6IHsgZW1haWw6IGVtYWlsLnRyaW0oKSB9LFxyXG4gICAgICB9KTtcclxuICAgICAgaWYgKHVzZXIpIHtcclxuICAgICAgICB1c2VyLnBhc3N3b3JkID0gYXdhaXQgaGFzaFVzZXJQYXNzd29yZChuZXdQYXNzd29yZCk7XHJcbiAgICAgICAgYXdhaXQgdXNlci5zYXZlKCk7XHJcbiAgICAgICAgcmVzb2x2ZShcInVwZGF0ZSBwYXNzd29yZCBzdWNjZXNzZnVsbHkgIVwiKTsgLy9yZXR1cm5cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXNvbHZlKCk7IC8vcmV0dXJuXHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgcmVqZWN0KGUpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59O1xyXG5sZXQgZGVsZXRlVXNlciA9IChpZCkgPT4ge1xyXG4gIHJldHVybiBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBsZXQgdXNlciA9IGF3YWl0IGRiLlVzZXIuZmluZE9uZSh7XHJcbiAgICAgICAgd2hlcmU6IHsgaWQ6IGlkIH0sXHJcbiAgICAgIH0pO1xyXG4gICAgICBpZiAodXNlcikge1xyXG4gICAgICAgIGF3YWl0IHVzZXIuZGVzdHJveSgpO1xyXG4gICAgICB9XHJcbiAgICAgIHJlc29sdmUoKTtcclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgcmVqZWN0KGUpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59O1xyXG5sZXQgYWRkQmFsYW5jZUJ5SWQgPSAoaWQsIGFtb3VudCkgPT4ge1xyXG4gIHJldHVybiBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBsZXQgdXNlciA9IGF3YWl0IGRiLlVzZXIuZmluZE9uZSh7XHJcbiAgICAgICAgd2hlcmU6IHsgaWQ6IGlkIH0sXHJcbiAgICAgICAgLy8gcmF3OiB0cnVlXHJcbiAgICAgIH0pO1xyXG4gICAgICBpZiAodXNlcikge1xyXG4gICAgICAgIHVzZXIuYmFsYW5jZSA9IHVzZXIuYmFsYW5jZSArIGFtb3VudDtcclxuICAgICAgICBhd2FpdCB1c2VyLnNhdmUoKTtcclxuICAgICAgICByZXNvbHZlKCk7IC8vcmV0dXJuXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmVzb2x2ZSgpOyAvL3JldHVyblxyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIHJlamVjdChlKTtcclxuICAgIH1cclxuICB9KTtcclxufTtcclxuXHJcbmxldCBtaW51c0JhbGFuY2VCeUlkID0gKGlkLCBhbW91bnQpID0+IHtcclxuICByZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgbGV0IHVzZXIgPSBhd2FpdCBkYi5Vc2VyLmZpbmRPbmUoe1xyXG4gICAgICAgIHdoZXJlOiB7IGlkOiBpZCB9LFxyXG4gICAgICAgIC8vIHJhdzogdHJ1ZVxyXG4gICAgICB9KTtcclxuICAgICAgaWYgKHVzZXIpIHtcclxuICAgICAgICB1c2VyLmJhbGFuY2UgPSB1c2VyLmJhbGFuY2UgLSBhbW91bnQ7XHJcbiAgICAgICAgYXdhaXQgdXNlci5zYXZlKCk7XHJcbiAgICAgICAgcmVzb2x2ZSgpOyAvL3JldHVyblxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJlc29sdmUoKTsgLy9yZXR1cm5cclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICByZWplY3QoZSk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn07XHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG4gIGNyZWF0ZU5ld1VzZXI6IGNyZWF0ZU5ld1VzZXIsXHJcbiAgZ2V0TGlzdFVzZXJzOiBnZXRMaXN0VXNlcnMsXHJcbiAgZ2V0VXNlckJ5SWQsXHJcbiAgZGVsZXRlVXNlcixcclxuICB1cGRhdGVVc2VyLFxyXG4gIGdldFVzZXJCeUVtYWlsQW5kUGFzc3dvcmQsXHJcbiAgY29tcGFyZVVzZXJQYXNzLFxyXG4gIGdldFVzZXJCeUVtYWlsLFxyXG4gIHNlbmRNYWlsLFxyXG4gIGdldFVzZXJCeU5hbWUsXHJcbiAgdXBkYXRlUGFzc3dvcmQsXHJcbiAgbWludXNCYWxhbmNlQnlJZCxcclxuICBhZGRCYWxhbmNlQnlJZCxcclxufTtcclxuIl19","map":{"version":3,"sources":["UserService.js"],"names":["bcrypt","require","db","salt","genSaltSync","nodemailer","sendMail","receiverEmail","senderEmail","senderPassword","content","transporter","createTransport","host","port","secure","auth","user","pass","mailMessage","from","to","subject","text","error","data","compareUserPass","password","hash","Promise","resolve","reject","compareSync","hashPassword","hashUserPassword","hashSync","getUserByEmailAndPassword","email","User","findOne","where","raw","trim","comparePassword","getUserByEmail","getUserByName","name","getListUsers","findAll","listUsers","createNewUser","create","id","firstName","lastName","roleID","image","balance","status","getUserById","updateUser","address","phoneNumber","gender","save","updatePassword","newPassword","deleteUser","destroy","addBalanceById","amount","minusBalanceById","module","exports"],"mappings":"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","sourceRoot":"/Users/mac/Desktop/Final_Project_DTU/src/app/service/","sourcesContent":["const bcrypt = require(\"bcryptjs\");\r\nconst db = require(\"../models/index\");\r\nlet salt = bcrypt.genSaltSync(5);\r\nconst nodemailer = require(\"nodemailer\"); //sendEmailConfirm\r\n\r\nlet sendMail = (receiverEmail, senderEmail, senderPassword, content) => {\r\n  var transporter = nodemailer.createTransport({\r\n    host: \"smtp.gmail.com\",\r\n    port: 587,\r\n    secure: false,\r\n    auth: {\r\n      user: senderEmail,\r\n      pass: senderPassword,\r\n    },\r\n  });\r\n  var mailMessage = {\r\n    from: senderEmail,\r\n    to: receiverEmail,\r\n    subject: \"Confirm Email\",\r\n    text: `This is Email Confirm Code ! \r\n       Your code : ${content} \r\n      `,\r\n  };\r\n  transporter.sendMail(mailMessage, function (error, data) {});\r\n};\r\n\r\nlet compareUserPass = (password, hash) => {\r\n  return new Promise(async (resolve, reject) => {\r\n    try {\r\n      let hashPassword = await bcrypt.compareSync(password, hash);\r\n      resolve(hashPassword);\r\n    } catch (e) {\r\n      reject(e);\r\n    }\r\n  });\r\n};\r\n\r\nlet hashUserPassword = (password) => {\r\n  return new Promise(async (resolve, reject) => {\r\n    try {\r\n      let hashPassword = await bcrypt.hashSync(password, 5);\r\n      resolve(hashPassword);\r\n    } catch (e) {\r\n      reject(e);\r\n    }\r\n  });\r\n};\r\n\r\nlet getUserByEmailAndPassword = (email, password) => {\r\n  return new Promise(async (resolve, reject) => {\r\n    try {\r\n      let user = await db.User.findOne({\r\n        where: { email: email },\r\n        raw: true,\r\n      });\r\n      let comparePassword = await compareUserPass(\r\n        password.trim(),\r\n        user.password\r\n      );\r\n      if (user && comparePassword) {\r\n        resolve(user);\r\n      } else {\r\n        resolve();\r\n      }\r\n    } catch (e) {\r\n      reject(e);\r\n    }\r\n  });\r\n};\r\n\r\nlet getUserByEmail = (email) => {\r\n  return new Promise(async (resolve, reject) => {\r\n    try {\r\n      let user = await db.User.findOne({\r\n        where: { email: email },\r\n        raw: true,\r\n      });\r\n      if (user) {\r\n        resolve(user);\r\n      } else {\r\n        resolve(null);\r\n      }\r\n    } catch (e) {\r\n      reject(e);\r\n    }\r\n  });\r\n};\r\n\r\nlet getUserByName = (name) => {\r\n  return new Promise(async (resolve, reject) => {\r\n    try {\r\n      let user = await db.User.findOne({\r\n        where: { name: name },\r\n        raw: true,\r\n      });\r\n      if (user) {\r\n        resolve(user);\r\n      } else {\r\n        resolve(null);\r\n      }\r\n    } catch (e) {\r\n      reject(e);\r\n    }\r\n  });\r\n};\r\n\r\nlet getListUsers = () => {\r\n  return new Promise(async (resolve, reject) => {\r\n    try {\r\n      let listUsers = await db.User.findAll({ raw: true });\r\n      resolve(listUsers); // == return listUsers\r\n    } catch (e) {\r\n      reject(e);\r\n    }\r\n  });\r\n};\r\nlet createNewUser = (data) => {\r\n  return new Promise(async (resolve, reject) => {\r\n    try {\r\n      let hashPassword = await hashUserPassword(data.password);\r\n\r\n      await db.User.create({\r\n        id: data.id,\r\n        email: data.email,\r\n        password: hashPassword,\r\n        firstName: data.firstName,\r\n        lastName: data.lastName,\r\n        roleID: 3,\r\n        image: \"cc38cdf86cad599284b94973a9444b65\",\r\n        balance: 0,\r\n        status: 0,\r\n      });\r\n\r\n      resolve(\"add successfully !\");\r\n    } catch (e) {\r\n      reject(e);\r\n    }\r\n  });\r\n};\r\n\r\nlet getUserById = (id) => {\r\n  return new Promise(async (resolve, reject) => {\r\n    try {\r\n      let user = await db.User.findOne({\r\n        where: { id: id },\r\n        raw: true,\r\n      });\r\n      if (user) {\r\n        resolve(user);\r\n      } else {\r\n        resolve({});\r\n      }\r\n    } catch (e) {\r\n      reject(e);\r\n    }\r\n  });\r\n};\r\nlet updateUser = (data) => {\r\n  return new Promise(async (resolve, reject) => {\r\n    try {\r\n      let user = await db.User.findOne({\r\n        where: { id: data.id },\r\n      });\r\n      if (user) {\r\n        user.firstName = data.firstName;\r\n        user.lastName = data.lastName;\r\n        user.address = data.address;\r\n        user.phoneNumber = data.phoneNumber;\r\n        user.gender = data.gender;\r\n        //user.roleID = data.roleID;\r\n        if (data.image != \"\") {\r\n          user.image = data.image;\r\n        }\r\n        await user.save();\r\n        resolve(\"update done !\"); //return\r\n      } else {\r\n        resolve(); //return\r\n      }\r\n    } catch (e) {\r\n      reject(e);\r\n    }\r\n  });\r\n};\r\nlet updatePassword = (email, newPassword) => {\r\n  return new Promise(async (resolve, reject) => {\r\n    try {\r\n      let user = await db.User.findOne({\r\n        where: { email: email.trim() },\r\n      });\r\n      if (user) {\r\n        user.password = await hashUserPassword(newPassword);\r\n        await user.save();\r\n        resolve(\"update password successfully !\"); //return\r\n      } else {\r\n        resolve(); //return\r\n      }\r\n    } catch (e) {\r\n      reject(e);\r\n    }\r\n  });\r\n};\r\nlet deleteUser = (id) => {\r\n  return new Promise(async (resolve, reject) => {\r\n    try {\r\n      let user = await db.User.findOne({\r\n        where: { id: id },\r\n      });\r\n      if (user) {\r\n        await user.destroy();\r\n      }\r\n      resolve();\r\n    } catch (e) {\r\n      reject(e);\r\n    }\r\n  });\r\n};\r\nlet addBalanceById = (id, amount) => {\r\n  return new Promise(async (resolve, reject) => {\r\n    try {\r\n      let user = await db.User.findOne({\r\n        where: { id: id },\r\n        // raw: true\r\n      });\r\n      if (user) {\r\n        user.balance = user.balance + amount;\r\n        await user.save();\r\n        resolve(); //return\r\n      } else {\r\n        resolve(); //return\r\n      }\r\n    } catch (e) {\r\n      reject(e);\r\n    }\r\n  });\r\n};\r\n\r\nlet minusBalanceById = (id, amount) => {\r\n  return new Promise(async (resolve, reject) => {\r\n    try {\r\n      let user = await db.User.findOne({\r\n        where: { id: id },\r\n        // raw: true\r\n      });\r\n      if (user) {\r\n        user.balance = user.balance - amount;\r\n        await user.save();\r\n        resolve(); //return\r\n      } else {\r\n        resolve(); //return\r\n      }\r\n    } catch (e) {\r\n      reject(e);\r\n    }\r\n  });\r\n};\r\nmodule.exports = {\r\n  createNewUser: createNewUser,\r\n  getListUsers: getListUsers,\r\n  getUserById,\r\n  deleteUser,\r\n  updateUser,\r\n  getUserByEmailAndPassword,\r\n  compareUserPass,\r\n  getUserByEmail,\r\n  sendMail,\r\n  getUserByName,\r\n  updatePassword,\r\n  minusBalanceById,\r\n  addBalanceById,\r\n};\r\n"]}},"mtime":1678719032346},"{\"sourceRoot\":\"/Users/mac/Desktop/Final_Project_DTU/src/app/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/mac/Desktop/Final_Project_DTU\",\"filename\":\"/Users/mac/Desktop/Final_Project_DTU/src/app/models/index.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/mac/Desktop/Final_Project_DTU\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"'use strict';\n\nvar fs = require('fs');\n\nvar path = require('path');\n\nvar Sequelize = require('sequelize');\n\nvar basename = path.basename(__filename);\nvar env = process.env.NODE_ENV || 'development';\n\nvar config = require(__dirname + '/../config/config.json')[env];\n\nvar db = {};\nvar sequelize;\n\nif (config.use_env_variable) {\n  sequelize = new Sequelize(process.env[config.use_env_variable], config);\n} else {\n  sequelize = new Sequelize(config.database, config.username, config.password, config);\n}\n\nfs.readdirSync(__dirname).filter(function (file) {\n  return file.indexOf('.') !== 0 && file !== basename && file.slice(-3) === '.js';\n}).forEach(function (file) {\n  var model = require(path.join(__dirname, file))(sequelize, Sequelize.DataTypes);\n\n  db[model.name] = model;\n});\nObject.keys(db).forEach(function (modelName) {\n  if (db[modelName].associate) {\n    db[modelName].associate(db);\n  }\n});\ndb.sequelize = sequelize;\ndb.Sequelize = Sequelize;\nmodule.exports = db;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImZzIiwicmVxdWlyZSIsInBhdGgiLCJTZXF1ZWxpemUiLCJiYXNlbmFtZSIsIl9fZmlsZW5hbWUiLCJlbnYiLCJwcm9jZXNzIiwiTk9ERV9FTlYiLCJjb25maWciLCJfX2Rpcm5hbWUiLCJkYiIsInNlcXVlbGl6ZSIsInVzZV9lbnZfdmFyaWFibGUiLCJkYXRhYmFzZSIsInVzZXJuYW1lIiwicGFzc3dvcmQiLCJyZWFkZGlyU3luYyIsImZpbHRlciIsImZpbGUiLCJpbmRleE9mIiwic2xpY2UiLCJmb3JFYWNoIiwibW9kZWwiLCJqb2luIiwiRGF0YVR5cGVzIiwibmFtZSIsIk9iamVjdCIsImtleXMiLCJtb2RlbE5hbWUiLCJhc3NvY2lhdGUiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQSxJQUFNQSxFQUFFLEdBQUdDLE9BQU8sQ0FBQyxJQUFELENBQWxCOztBQUNBLElBQU1DLElBQUksR0FBR0QsT0FBTyxDQUFDLE1BQUQsQ0FBcEI7O0FBQ0EsSUFBTUUsU0FBUyxHQUFHRixPQUFPLENBQUMsV0FBRCxDQUF6Qjs7QUFDQSxJQUFNRyxRQUFRLEdBQUdGLElBQUksQ0FBQ0UsUUFBTCxDQUFjQyxVQUFkLENBQWpCO0FBQ0EsSUFBTUMsR0FBRyxHQUFHQyxPQUFPLENBQUNELEdBQVIsQ0FBWUUsUUFBWixJQUF3QixhQUFwQzs7QUFDQSxJQUFNQyxNQUFNLEdBQUdSLE9BQU8sQ0FBQ1MsU0FBUyxHQUFHLHdCQUFiLENBQVAsQ0FBOENKLEdBQTlDLENBQWY7O0FBQ0EsSUFBTUssRUFBRSxHQUFHLEVBQVg7QUFFQSxJQUFJQyxTQUFKOztBQUNBLElBQUlILE1BQU0sQ0FBQ0ksZ0JBQVgsRUFBNkI7QUFDM0JELEVBQUFBLFNBQVMsR0FBRyxJQUFJVCxTQUFKLENBQWNJLE9BQU8sQ0FBQ0QsR0FBUixDQUFZRyxNQUFNLENBQUNJLGdCQUFuQixDQUFkLEVBQW9ESixNQUFwRCxDQUFaO0FBQ0QsQ0FGRCxNQUVPO0FBQ0xHLEVBQUFBLFNBQVMsR0FBRyxJQUFJVCxTQUFKLENBQWNNLE1BQU0sQ0FBQ0ssUUFBckIsRUFBK0JMLE1BQU0sQ0FBQ00sUUFBdEMsRUFBZ0ROLE1BQU0sQ0FBQ08sUUFBdkQsRUFBaUVQLE1BQWpFLENBQVo7QUFDRDs7QUFFRFQsRUFBRSxDQUNDaUIsV0FESCxDQUNlUCxTQURmLEVBRUdRLE1BRkgsQ0FFVSxVQUFBQyxJQUFJLEVBQUk7QUFDZCxTQUFRQSxJQUFJLENBQUNDLE9BQUwsQ0FBYSxHQUFiLE1BQXNCLENBQXZCLElBQThCRCxJQUFJLEtBQUtmLFFBQXZDLElBQXFEZSxJQUFJLENBQUNFLEtBQUwsQ0FBVyxDQUFDLENBQVosTUFBbUIsS0FBL0U7QUFDRCxDQUpILEVBS0dDLE9BTEgsQ0FLVyxVQUFBSCxJQUFJLEVBQUk7QUFDZixNQUFNSSxLQUFLLEdBQUd0QixPQUFPLENBQUNDLElBQUksQ0FBQ3NCLElBQUwsQ0FBVWQsU0FBVixFQUFxQlMsSUFBckIsQ0FBRCxDQUFQLENBQW9DUCxTQUFwQyxFQUErQ1QsU0FBUyxDQUFDc0IsU0FBekQsQ0FBZDs7QUFDQWQsRUFBQUEsRUFBRSxDQUFDWSxLQUFLLENBQUNHLElBQVAsQ0FBRixHQUFpQkgsS0FBakI7QUFDRCxDQVJIO0FBVUFJLE1BQU0sQ0FBQ0MsSUFBUCxDQUFZakIsRUFBWixFQUFnQlcsT0FBaEIsQ0FBd0IsVUFBQU8sU0FBUyxFQUFJO0FBQ25DLE1BQUlsQixFQUFFLENBQUNrQixTQUFELENBQUYsQ0FBY0MsU0FBbEIsRUFBNkI7QUFDM0JuQixJQUFBQSxFQUFFLENBQUNrQixTQUFELENBQUYsQ0FBY0MsU0FBZCxDQUF3Qm5CLEVBQXhCO0FBQ0Q7QUFDRixDQUpEO0FBTUFBLEVBQUUsQ0FBQ0MsU0FBSCxHQUFlQSxTQUFmO0FBQ0FELEVBQUUsQ0FBQ1IsU0FBSCxHQUFlQSxTQUFmO0FBRUE0QixNQUFNLENBQUNDLE9BQVAsR0FBaUJyQixFQUFqQiIsInNvdXJjZVJvb3QiOiIvVXNlcnMvbWFjL0Rlc2t0b3AvRmluYWxfUHJvamVjdF9EVFUvc3JjL2FwcC9tb2RlbHMvIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xyXG5cclxuY29uc3QgZnMgPSByZXF1aXJlKCdmcycpO1xyXG5jb25zdCBwYXRoID0gcmVxdWlyZSgncGF0aCcpO1xyXG5jb25zdCBTZXF1ZWxpemUgPSByZXF1aXJlKCdzZXF1ZWxpemUnKTtcclxuY29uc3QgYmFzZW5hbWUgPSBwYXRoLmJhc2VuYW1lKF9fZmlsZW5hbWUpO1xyXG5jb25zdCBlbnYgPSBwcm9jZXNzLmVudi5OT0RFX0VOViB8fCAnZGV2ZWxvcG1lbnQnO1xyXG5jb25zdCBjb25maWcgPSByZXF1aXJlKF9fZGlybmFtZSArICcvLi4vY29uZmlnL2NvbmZpZy5qc29uJylbZW52XTtcclxuY29uc3QgZGIgPSB7fTtcclxuXHJcbmxldCBzZXF1ZWxpemU7XHJcbmlmIChjb25maWcudXNlX2Vudl92YXJpYWJsZSkge1xyXG4gIHNlcXVlbGl6ZSA9IG5ldyBTZXF1ZWxpemUocHJvY2Vzcy5lbnZbY29uZmlnLnVzZV9lbnZfdmFyaWFibGVdLCBjb25maWcpO1xyXG59IGVsc2Uge1xyXG4gIHNlcXVlbGl6ZSA9IG5ldyBTZXF1ZWxpemUoY29uZmlnLmRhdGFiYXNlLCBjb25maWcudXNlcm5hbWUsIGNvbmZpZy5wYXNzd29yZCwgY29uZmlnKTtcclxufVxyXG5cclxuZnNcclxuICAucmVhZGRpclN5bmMoX19kaXJuYW1lKVxyXG4gIC5maWx0ZXIoZmlsZSA9PiB7XHJcbiAgICByZXR1cm4gKGZpbGUuaW5kZXhPZignLicpICE9PSAwKSAmJiAoZmlsZSAhPT0gYmFzZW5hbWUpICYmIChmaWxlLnNsaWNlKC0zKSA9PT0gJy5qcycpO1xyXG4gIH0pXHJcbiAgLmZvckVhY2goZmlsZSA9PiB7XHJcbiAgICBjb25zdCBtb2RlbCA9IHJlcXVpcmUocGF0aC5qb2luKF9fZGlybmFtZSwgZmlsZSkpKHNlcXVlbGl6ZSwgU2VxdWVsaXplLkRhdGFUeXBlcyk7XHJcbiAgICBkYlttb2RlbC5uYW1lXSA9IG1vZGVsO1xyXG4gIH0pO1xyXG5cclxuT2JqZWN0LmtleXMoZGIpLmZvckVhY2gobW9kZWxOYW1lID0+IHtcclxuICBpZiAoZGJbbW9kZWxOYW1lXS5hc3NvY2lhdGUpIHtcclxuICAgIGRiW21vZGVsTmFtZV0uYXNzb2NpYXRlKGRiKTtcclxuICB9XHJcbn0pO1xyXG5cclxuZGIuc2VxdWVsaXplID0gc2VxdWVsaXplO1xyXG5kYi5TZXF1ZWxpemUgPSBTZXF1ZWxpemU7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGRiO1xyXG4iXX0=","map":{"version":3,"sources":["index.js"],"names":["fs","require","path","Sequelize","basename","__filename","env","process","NODE_ENV","config","__dirname","db","sequelize","use_env_variable","database","username","password","readdirSync","filter","file","indexOf","slice","forEach","model","join","DataTypes","name","Object","keys","modelName","associate","module","exports"],"mappings":"AAAA;;AAEA,IAAMA,EAAE,GAAGC,OAAO,CAAC,IAAD,CAAlB;;AACA,IAAMC,IAAI,GAAGD,OAAO,CAAC,MAAD,CAApB;;AACA,IAAME,SAAS,GAAGF,OAAO,CAAC,WAAD,CAAzB;;AACA,IAAMG,QAAQ,GAAGF,IAAI,CAACE,QAAL,CAAcC,UAAd,CAAjB;AACA,IAAMC,GAAG,GAAGC,OAAO,CAACD,GAAR,CAAYE,QAAZ,IAAwB,aAApC;;AACA,IAAMC,MAAM,GAAGR,OAAO,CAACS,SAAS,GAAG,wBAAb,CAAP,CAA8CJ,GAA9C,CAAf;;AACA,IAAMK,EAAE,GAAG,EAAX;AAEA,IAAIC,SAAJ;;AACA,IAAIH,MAAM,CAACI,gBAAX,EAA6B;AAC3BD,EAAAA,SAAS,GAAG,IAAIT,SAAJ,CAAcI,OAAO,CAACD,GAAR,CAAYG,MAAM,CAACI,gBAAnB,CAAd,EAAoDJ,MAApD,CAAZ;AACD,CAFD,MAEO;AACLG,EAAAA,SAAS,GAAG,IAAIT,SAAJ,CAAcM,MAAM,CAACK,QAArB,EAA+BL,MAAM,CAACM,QAAtC,EAAgDN,MAAM,CAACO,QAAvD,EAAiEP,MAAjE,CAAZ;AACD;;AAEDT,EAAE,CACCiB,WADH,CACeP,SADf,EAEGQ,MAFH,CAEU,UAAAC,IAAI,EAAI;AACd,SAAQA,IAAI,CAACC,OAAL,CAAa,GAAb,MAAsB,CAAvB,IAA8BD,IAAI,KAAKf,QAAvC,IAAqDe,IAAI,CAACE,KAAL,CAAW,CAAC,CAAZ,MAAmB,KAA/E;AACD,CAJH,EAKGC,OALH,CAKW,UAAAH,IAAI,EAAI;AACf,MAAMI,KAAK,GAAGtB,OAAO,CAACC,IAAI,CAACsB,IAAL,CAAUd,SAAV,EAAqBS,IAArB,CAAD,CAAP,CAAoCP,SAApC,EAA+CT,SAAS,CAACsB,SAAzD,CAAd;;AACAd,EAAAA,EAAE,CAACY,KAAK,CAACG,IAAP,CAAF,GAAiBH,KAAjB;AACD,CARH;AAUAI,MAAM,CAACC,IAAP,CAAYjB,EAAZ,EAAgBW,OAAhB,CAAwB,UAAAO,SAAS,EAAI;AACnC,MAAIlB,EAAE,CAACkB,SAAD,CAAF,CAAcC,SAAlB,EAA6B;AAC3BnB,IAAAA,EAAE,CAACkB,SAAD,CAAF,CAAcC,SAAd,CAAwBnB,EAAxB;AACD;AACF,CAJD;AAMAA,EAAE,CAACC,SAAH,GAAeA,SAAf;AACAD,EAAE,CAACR,SAAH,GAAeA,SAAf;AAEA4B,MAAM,CAACC,OAAP,GAAiBrB,EAAjB","sourceRoot":"/Users/mac/Desktop/Final_Project_DTU/src/app/models/","sourcesContent":["'use strict';\r\n\r\nconst fs = require('fs');\r\nconst path = require('path');\r\nconst Sequelize = require('sequelize');\r\nconst basename = path.basename(__filename);\r\nconst env = process.env.NODE_ENV || 'development';\r\nconst config = require(__dirname + '/../config/config.json')[env];\r\nconst db = {};\r\n\r\nlet sequelize;\r\nif (config.use_env_variable) {\r\n  sequelize = new Sequelize(process.env[config.use_env_variable], config);\r\n} else {\r\n  sequelize = new Sequelize(config.database, config.username, config.password, config);\r\n}\r\n\r\nfs\r\n  .readdirSync(__dirname)\r\n  .filter(file => {\r\n    return (file.indexOf('.') !== 0) && (file !== basename) && (file.slice(-3) === '.js');\r\n  })\r\n  .forEach(file => {\r\n    const model = require(path.join(__dirname, file))(sequelize, Sequelize.DataTypes);\r\n    db[model.name] = model;\r\n  });\r\n\r\nObject.keys(db).forEach(modelName => {\r\n  if (db[modelName].associate) {\r\n    db[modelName].associate(db);\r\n  }\r\n});\r\n\r\ndb.sequelize = sequelize;\r\ndb.Sequelize = Sequelize;\r\n\r\nmodule.exports = db;\r\n"]}},"mtime":1651628644000},"{\"sourceRoot\":\"/Users/mac/Desktop/Final_Project_DTU/src/app/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/mac/Desktop/Final_Project_DTU\",\"filename\":\"/Users/mac/Desktop/Final_Project_DTU/src/app/models/appoinment.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/mac/Desktop/Final_Project_DTU\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nvar _require = require(\"sequelize\"),\n    Model = _require.Model;\n\nmodule.exports = function (sequelize, DataTypes) {\n  var Appointment = /*#__PURE__*/function (_Model) {\n    _inherits(Appointment, _Model);\n\n    var _super = _createSuper(Appointment);\n\n    function Appointment() {\n      _classCallCheck(this, Appointment);\n\n      return _super.apply(this, arguments);\n    }\n\n    _createClass(Appointment, null, [{\n      key: \"associate\",\n      value:\n      /**\r\n       * Helper method for defining associations.\r\n       * This method is not a part of Sequelize lifecycle.\r\n       * The `models/index` file will call this method automatically.\r\n       */\n      function associate(models) {\n        Appointment.belongsTo(models.User);\n        models.User.hasMany(Appointment);\n      }\n    }]);\n\n    return Appointment;\n  }(Model);\n\n  Appointment.init({\n    userID: DataTypes.STRING,\n    doctorID: DataTypes.STRING,\n    title: DataTypes.STRING,\n    startTime: DataTypes.TIME,\n    endTime: DataTypes.TIME,\n    date: DataTypes.DATEONLY,\n    isCanceled: DataTypes.BOOLEAN\n  }, {\n    sequelize: sequelize,\n    modelName: \"Appointment\"\n  });\n  return Appointment;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcG9pbm1lbnQuanMiXSwibmFtZXMiOlsicmVxdWlyZSIsIk1vZGVsIiwibW9kdWxlIiwiZXhwb3J0cyIsInNlcXVlbGl6ZSIsIkRhdGFUeXBlcyIsIkFwcG9pbnRtZW50IiwibW9kZWxzIiwiYmVsb25nc1RvIiwiVXNlciIsImhhc01hbnkiLCJpbml0IiwidXNlcklEIiwiU1RSSU5HIiwiZG9jdG9ySUQiLCJ0aXRsZSIsInN0YXJ0VGltZSIsIlRJTUUiLCJlbmRUaW1lIiwiZGF0ZSIsIkRBVEVPTkxZIiwiaXNDYW5jZWxlZCIsIkJPT0xFQU4iLCJtb2RlbE5hbWUiXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQSxlQUFrQkEsT0FBTyxDQUFDLFdBQUQsQ0FBekI7QUFBQSxJQUFRQyxLQUFSLFlBQVFBLEtBQVI7O0FBQ0FDLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQixVQUFDQyxTQUFELEVBQVlDLFNBQVosRUFBMEI7QUFBQSxNQUNuQ0MsV0FEbUM7QUFBQTs7QUFBQTs7QUFBQTtBQUFBOztBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBRXZDO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDSSx5QkFBaUJDLE1BQWpCLEVBQXlCO0FBQ3ZCRCxRQUFBQSxXQUFXLENBQUNFLFNBQVosQ0FBc0JELE1BQU0sQ0FBQ0UsSUFBN0I7QUFDQUYsUUFBQUEsTUFBTSxDQUFDRSxJQUFQLENBQVlDLE9BQVosQ0FBb0JKLFdBQXBCO0FBQ0Q7QUFWc0M7O0FBQUE7QUFBQSxJQUNmTCxLQURlOztBQVl6Q0ssRUFBQUEsV0FBVyxDQUFDSyxJQUFaLENBQ0U7QUFDRUMsSUFBQUEsTUFBTSxFQUFFUCxTQUFTLENBQUNRLE1BRHBCO0FBRUVDLElBQUFBLFFBQVEsRUFBRVQsU0FBUyxDQUFDUSxNQUZ0QjtBQUdFRSxJQUFBQSxLQUFLLEVBQUVWLFNBQVMsQ0FBQ1EsTUFIbkI7QUFJRUcsSUFBQUEsU0FBUyxFQUFFWCxTQUFTLENBQUNZLElBSnZCO0FBS0VDLElBQUFBLE9BQU8sRUFBRWIsU0FBUyxDQUFDWSxJQUxyQjtBQU1FRSxJQUFBQSxJQUFJLEVBQUVkLFNBQVMsQ0FBQ2UsUUFObEI7QUFPRUMsSUFBQUEsVUFBVSxFQUFFaEIsU0FBUyxDQUFDaUI7QUFQeEIsR0FERixFQVVFO0FBQ0VsQixJQUFBQSxTQUFTLEVBQVRBLFNBREY7QUFFRW1CLElBQUFBLFNBQVMsRUFBRTtBQUZiLEdBVkY7QUFlQSxTQUFPakIsV0FBUDtBQUNELENBNUJEIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9tYWMvRGVza3RvcC9GaW5hbF9Qcm9qZWN0X0RUVS9zcmMvYXBwL21vZGVscy8iLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxuY29uc3QgeyBNb2RlbCB9ID0gcmVxdWlyZShcInNlcXVlbGl6ZVwiKTtcclxubW9kdWxlLmV4cG9ydHMgPSAoc2VxdWVsaXplLCBEYXRhVHlwZXMpID0+IHtcclxuICBjbGFzcyBBcHBvaW50bWVudCBleHRlbmRzIE1vZGVsIHtcclxuICAgIC8qKlxyXG4gICAgICogSGVscGVyIG1ldGhvZCBmb3IgZGVmaW5pbmcgYXNzb2NpYXRpb25zLlxyXG4gICAgICogVGhpcyBtZXRob2QgaXMgbm90IGEgcGFydCBvZiBTZXF1ZWxpemUgbGlmZWN5Y2xlLlxyXG4gICAgICogVGhlIGBtb2RlbHMvaW5kZXhgIGZpbGUgd2lsbCBjYWxsIHRoaXMgbWV0aG9kIGF1dG9tYXRpY2FsbHkuXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBhc3NvY2lhdGUobW9kZWxzKSB7XHJcbiAgICAgIEFwcG9pbnRtZW50LmJlbG9uZ3NUbyhtb2RlbHMuVXNlcik7XHJcbiAgICAgIG1vZGVscy5Vc2VyLmhhc01hbnkoQXBwb2ludG1lbnQpO1xyXG4gICAgfVxyXG4gIH1cclxuICBBcHBvaW50bWVudC5pbml0KFxyXG4gICAge1xyXG4gICAgICB1c2VySUQ6IERhdGFUeXBlcy5TVFJJTkcsXHJcbiAgICAgIGRvY3RvcklEOiBEYXRhVHlwZXMuU1RSSU5HLFxyXG4gICAgICB0aXRsZTogRGF0YVR5cGVzLlNUUklORyxcclxuICAgICAgc3RhcnRUaW1lOiBEYXRhVHlwZXMuVElNRSxcclxuICAgICAgZW5kVGltZTogRGF0YVR5cGVzLlRJTUUsXHJcbiAgICAgIGRhdGU6IERhdGFUeXBlcy5EQVRFT05MWSxcclxuICAgICAgaXNDYW5jZWxlZDogRGF0YVR5cGVzLkJPT0xFQU4sXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBzZXF1ZWxpemUsXHJcbiAgICAgIG1vZGVsTmFtZTogXCJBcHBvaW50bWVudFwiLFxyXG4gICAgfVxyXG4gICk7XHJcbiAgcmV0dXJuIEFwcG9pbnRtZW50O1xyXG59O1xyXG4iXX0=","map":{"version":3,"sources":["appoinment.js"],"names":["require","Model","module","exports","sequelize","DataTypes","Appointment","models","belongsTo","User","hasMany","init","userID","STRING","doctorID","title","startTime","TIME","endTime","date","DATEONLY","isCanceled","BOOLEAN","modelName"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;AACA,eAAkBA,OAAO,CAAC,WAAD,CAAzB;AAAA,IAAQC,KAAR,YAAQA,KAAR;;AACAC,MAAM,CAACC,OAAP,GAAiB,UAACC,SAAD,EAAYC,SAAZ,EAA0B;AAAA,MACnCC,WADmC;AAAA;;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAEvC;AACJ;AACA;AACA;AACA;AACI,yBAAiBC,MAAjB,EAAyB;AACvBD,QAAAA,WAAW,CAACE,SAAZ,CAAsBD,MAAM,CAACE,IAA7B;AACAF,QAAAA,MAAM,CAACE,IAAP,CAAYC,OAAZ,CAAoBJ,WAApB;AACD;AAVsC;;AAAA;AAAA,IACfL,KADe;;AAYzCK,EAAAA,WAAW,CAACK,IAAZ,CACE;AACEC,IAAAA,MAAM,EAAEP,SAAS,CAACQ,MADpB;AAEEC,IAAAA,QAAQ,EAAET,SAAS,CAACQ,MAFtB;AAGEE,IAAAA,KAAK,EAAEV,SAAS,CAACQ,MAHnB;AAIEG,IAAAA,SAAS,EAAEX,SAAS,CAACY,IAJvB;AAKEC,IAAAA,OAAO,EAAEb,SAAS,CAACY,IALrB;AAMEE,IAAAA,IAAI,EAAEd,SAAS,CAACe,QANlB;AAOEC,IAAAA,UAAU,EAAEhB,SAAS,CAACiB;AAPxB,GADF,EAUE;AACElB,IAAAA,SAAS,EAATA,SADF;AAEEmB,IAAAA,SAAS,EAAE;AAFb,GAVF;AAeA,SAAOjB,WAAP;AACD,CA5BD","sourceRoot":"/Users/mac/Desktop/Final_Project_DTU/src/app/models/","sourcesContent":["\"use strict\";\r\nconst { Model } = require(\"sequelize\");\r\nmodule.exports = (sequelize, DataTypes) => {\r\n  class Appointment extends Model {\r\n    /**\r\n     * Helper method for defining associations.\r\n     * This method is not a part of Sequelize lifecycle.\r\n     * The `models/index` file will call this method automatically.\r\n     */\r\n    static associate(models) {\r\n      Appointment.belongsTo(models.User);\r\n      models.User.hasMany(Appointment);\r\n    }\r\n  }\r\n  Appointment.init(\r\n    {\r\n      userID: DataTypes.STRING,\r\n      doctorID: DataTypes.STRING,\r\n      title: DataTypes.STRING,\r\n      startTime: DataTypes.TIME,\r\n      endTime: DataTypes.TIME,\r\n      date: DataTypes.DATEONLY,\r\n      isCanceled: DataTypes.BOOLEAN,\r\n    },\r\n    {\r\n      sequelize,\r\n      modelName: \"Appointment\",\r\n    }\r\n  );\r\n  return Appointment;\r\n};\r\n"]}},"mtime":1651628686000},"{\"sourceRoot\":\"/Users/mac/Desktop/Final_Project_DTU/src/app/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/mac/Desktop/Final_Project_DTU\",\"filename\":\"/Users/mac/Desktop/Final_Project_DTU/src/app/models/clinic.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/mac/Desktop/Final_Project_DTU\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nvar _require = require(\"sequelize\"),\n    Model = _require.Model;\n\nmodule.exports = function (sequelize, DataTypes) {\n  var Clinic = /*#__PURE__*/function (_Model) {\n    _inherits(Clinic, _Model);\n\n    var _super = _createSuper(Clinic);\n\n    function Clinic() {\n      _classCallCheck(this, Clinic);\n\n      return _super.apply(this, arguments);\n    }\n\n    _createClass(Clinic, null, [{\n      key: \"associate\",\n      value:\n      /**\r\n       * Helper method for defining associations.\r\n       * This method is not a part of Sequelize lifecycle.\r\n       * The `models/index` file will call this method automatically.\r\n       */\n      function associate(models) {}\n    }]);\n\n    return Clinic;\n  }(Model);\n\n  Clinic.init({\n    name: DataTypes.STRING,\n    description: DataTypes.STRING,\n    image: DataTypes.STRING\n  }, {\n    sequelize: sequelize,\n    modelName: \"Clinic\"\n  });\n  return Clinic;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNsaW5pYy5qcyJdLCJuYW1lcyI6WyJyZXF1aXJlIiwiTW9kZWwiLCJtb2R1bGUiLCJleHBvcnRzIiwic2VxdWVsaXplIiwiRGF0YVR5cGVzIiwiQ2xpbmljIiwibW9kZWxzIiwiaW5pdCIsIm5hbWUiLCJTVFJJTkciLCJkZXNjcmlwdGlvbiIsImltYWdlIiwibW9kZWxOYW1lIl0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQ0EsZUFBa0JBLE9BQU8sQ0FBQyxXQUFELENBQXpCO0FBQUEsSUFBUUMsS0FBUixZQUFRQSxLQUFSOztBQUNBQyxNQUFNLENBQUNDLE9BQVAsR0FBaUIsVUFBQ0MsU0FBRCxFQUFZQyxTQUFaLEVBQTBCO0FBQUEsTUFDbkNDLE1BRG1DO0FBQUE7O0FBQUE7O0FBQUE7QUFBQTs7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUV2QztBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0kseUJBQWlCQyxNQUFqQixFQUF5QixDQUFFO0FBUFk7O0FBQUE7QUFBQSxJQUNwQk4sS0FEb0I7O0FBU3pDSyxFQUFBQSxNQUFNLENBQUNFLElBQVAsQ0FDRTtBQUNFQyxJQUFBQSxJQUFJLEVBQUVKLFNBQVMsQ0FBQ0ssTUFEbEI7QUFFRUMsSUFBQUEsV0FBVyxFQUFFTixTQUFTLENBQUNLLE1BRnpCO0FBR0VFLElBQUFBLEtBQUssRUFBRVAsU0FBUyxDQUFDSztBQUhuQixHQURGLEVBTUU7QUFDRU4sSUFBQUEsU0FBUyxFQUFUQSxTQURGO0FBRUVTLElBQUFBLFNBQVMsRUFBRTtBQUZiLEdBTkY7QUFXQSxTQUFPUCxNQUFQO0FBQ0QsQ0FyQkQiLCJzb3VyY2VSb290IjoiL1VzZXJzL21hYy9EZXNrdG9wL0ZpbmFsX1Byb2plY3RfRFRVL3NyYy9hcHAvbW9kZWxzLyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xyXG5jb25zdCB7IE1vZGVsIH0gPSByZXF1aXJlKFwic2VxdWVsaXplXCIpO1xyXG5tb2R1bGUuZXhwb3J0cyA9IChzZXF1ZWxpemUsIERhdGFUeXBlcykgPT4ge1xyXG4gIGNsYXNzIENsaW5pYyBleHRlbmRzIE1vZGVsIHtcclxuICAgIC8qKlxyXG4gICAgICogSGVscGVyIG1ldGhvZCBmb3IgZGVmaW5pbmcgYXNzb2NpYXRpb25zLlxyXG4gICAgICogVGhpcyBtZXRob2QgaXMgbm90IGEgcGFydCBvZiBTZXF1ZWxpemUgbGlmZWN5Y2xlLlxyXG4gICAgICogVGhlIGBtb2RlbHMvaW5kZXhgIGZpbGUgd2lsbCBjYWxsIHRoaXMgbWV0aG9kIGF1dG9tYXRpY2FsbHkuXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBhc3NvY2lhdGUobW9kZWxzKSB7fVxyXG4gIH1cclxuICBDbGluaWMuaW5pdChcclxuICAgIHtcclxuICAgICAgbmFtZTogRGF0YVR5cGVzLlNUUklORyxcclxuICAgICAgZGVzY3JpcHRpb246IERhdGFUeXBlcy5TVFJJTkcsXHJcbiAgICAgIGltYWdlOiBEYXRhVHlwZXMuU1RSSU5HLFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgc2VxdWVsaXplLFxyXG4gICAgICBtb2RlbE5hbWU6IFwiQ2xpbmljXCIsXHJcbiAgICB9XHJcbiAgKTtcclxuICByZXR1cm4gQ2xpbmljO1xyXG59O1xyXG4iXX0=","map":{"version":3,"sources":["clinic.js"],"names":["require","Model","module","exports","sequelize","DataTypes","Clinic","models","init","name","STRING","description","image","modelName"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;AACA,eAAkBA,OAAO,CAAC,WAAD,CAAzB;AAAA,IAAQC,KAAR,YAAQA,KAAR;;AACAC,MAAM,CAACC,OAAP,GAAiB,UAACC,SAAD,EAAYC,SAAZ,EAA0B;AAAA,MACnCC,MADmC;AAAA;;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAEvC;AACJ;AACA;AACA;AACA;AACI,yBAAiBC,MAAjB,EAAyB,CAAE;AAPY;;AAAA;AAAA,IACpBN,KADoB;;AASzCK,EAAAA,MAAM,CAACE,IAAP,CACE;AACEC,IAAAA,IAAI,EAAEJ,SAAS,CAACK,MADlB;AAEEC,IAAAA,WAAW,EAAEN,SAAS,CAACK,MAFzB;AAGEE,IAAAA,KAAK,EAAEP,SAAS,CAACK;AAHnB,GADF,EAME;AACEN,IAAAA,SAAS,EAATA,SADF;AAEES,IAAAA,SAAS,EAAE;AAFb,GANF;AAWA,SAAOP,MAAP;AACD,CArBD","sourceRoot":"/Users/mac/Desktop/Final_Project_DTU/src/app/models/","sourcesContent":["\"use strict\";\r\nconst { Model } = require(\"sequelize\");\r\nmodule.exports = (sequelize, DataTypes) => {\r\n  class Clinic extends Model {\r\n    /**\r\n     * Helper method for defining associations.\r\n     * This method is not a part of Sequelize lifecycle.\r\n     * The `models/index` file will call this method automatically.\r\n     */\r\n    static associate(models) {}\r\n  }\r\n  Clinic.init(\r\n    {\r\n      name: DataTypes.STRING,\r\n      description: DataTypes.STRING,\r\n      image: DataTypes.STRING,\r\n    },\r\n    {\r\n      sequelize,\r\n      modelName: \"Clinic\",\r\n    }\r\n  );\r\n  return Clinic;\r\n};\r\n"]}},"mtime":1651628686000},"{\"sourceRoot\":\"/Users/mac/Desktop/Final_Project_DTU/src/app/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/mac/Desktop/Final_Project_DTU\",\"filename\":\"/Users/mac/Desktop/Final_Project_DTU/src/app/models/message.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/mac/Desktop/Final_Project_DTU\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nvar _require = require(\"sequelize\"),\n    Model = _require.Model;\n\nmodule.exports = function (sequelize, DataTypes) {\n  var Message = /*#__PURE__*/function (_Model) {\n    _inherits(Message, _Model);\n\n    var _super = _createSuper(Message);\n\n    function Message() {\n      _classCallCheck(this, Message);\n\n      return _super.apply(this, arguments);\n    }\n\n    _createClass(Message, null, [{\n      key: \"associate\",\n      value:\n      /**\r\n       * Helper method for defining associations.\r\n       * This method is not a part of Sequelize lifecycle.\r\n       * The `models/index` file will call this method automatically.\r\n       */\n      function associate(models) {\n        // Message.belongsTo(models.User);\n        // models.User.hasMany(Message);\n        Message.belongsTo(models.Appointment);\n        models.Appointment.hasMany(Message);\n      }\n    }]);\n\n    return Message;\n  }(Model);\n\n  Message.init({\n    userID: DataTypes.STRING,\n    appointmentID: DataTypes.STRING,\n    message: DataTypes.STRING,\n    createdAt: DataTypes.DATE\n  }, {\n    sequelize: sequelize,\n    modelName: \"Message\"\n  });\n  return Message;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1lc3NhZ2UuanMiXSwibmFtZXMiOlsicmVxdWlyZSIsIk1vZGVsIiwibW9kdWxlIiwiZXhwb3J0cyIsInNlcXVlbGl6ZSIsIkRhdGFUeXBlcyIsIk1lc3NhZ2UiLCJtb2RlbHMiLCJiZWxvbmdzVG8iLCJBcHBvaW50bWVudCIsImhhc01hbnkiLCJpbml0IiwidXNlcklEIiwiU1RSSU5HIiwiYXBwb2ludG1lbnRJRCIsIm1lc3NhZ2UiLCJjcmVhdGVkQXQiLCJEQVRFIiwibW9kZWxOYW1lIl0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQ0EsZUFBa0JBLE9BQU8sQ0FBQyxXQUFELENBQXpCO0FBQUEsSUFBUUMsS0FBUixZQUFRQSxLQUFSOztBQUNBQyxNQUFNLENBQUNDLE9BQVAsR0FBaUIsVUFBQ0MsU0FBRCxFQUFZQyxTQUFaLEVBQTBCO0FBQUEsTUFDbkNDLE9BRG1DO0FBQUE7O0FBQUE7O0FBQUE7QUFBQTs7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUV2QztBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0kseUJBQWlCQyxNQUFqQixFQUF5QjtBQUN2QjtBQUNBO0FBRUFELFFBQUFBLE9BQU8sQ0FBQ0UsU0FBUixDQUFrQkQsTUFBTSxDQUFDRSxXQUF6QjtBQUNBRixRQUFBQSxNQUFNLENBQUNFLFdBQVAsQ0FBbUJDLE9BQW5CLENBQTJCSixPQUEzQjtBQUNEO0FBYnNDOztBQUFBO0FBQUEsSUFDbkJMLEtBRG1COztBQWV6Q0ssRUFBQUEsT0FBTyxDQUFDSyxJQUFSLENBQ0U7QUFDRUMsSUFBQUEsTUFBTSxFQUFFUCxTQUFTLENBQUNRLE1BRHBCO0FBRUVDLElBQUFBLGFBQWEsRUFBRVQsU0FBUyxDQUFDUSxNQUYzQjtBQUdFRSxJQUFBQSxPQUFPLEVBQUVWLFNBQVMsQ0FBQ1EsTUFIckI7QUFJRUcsSUFBQUEsU0FBUyxFQUFFWCxTQUFTLENBQUNZO0FBSnZCLEdBREYsRUFPRTtBQUNFYixJQUFBQSxTQUFTLEVBQVRBLFNBREY7QUFFRWMsSUFBQUEsU0FBUyxFQUFFO0FBRmIsR0FQRjtBQVlBLFNBQU9aLE9BQVA7QUFDRCxDQTVCRCIsInNvdXJjZVJvb3QiOiIvVXNlcnMvbWFjL0Rlc2t0b3AvRmluYWxfUHJvamVjdF9EVFUvc3JjL2FwcC9tb2RlbHMvIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XHJcbmNvbnN0IHsgTW9kZWwgfSA9IHJlcXVpcmUoXCJzZXF1ZWxpemVcIik7XHJcbm1vZHVsZS5leHBvcnRzID0gKHNlcXVlbGl6ZSwgRGF0YVR5cGVzKSA9PiB7XHJcbiAgY2xhc3MgTWVzc2FnZSBleHRlbmRzIE1vZGVsIHtcclxuICAgIC8qKlxyXG4gICAgICogSGVscGVyIG1ldGhvZCBmb3IgZGVmaW5pbmcgYXNzb2NpYXRpb25zLlxyXG4gICAgICogVGhpcyBtZXRob2QgaXMgbm90IGEgcGFydCBvZiBTZXF1ZWxpemUgbGlmZWN5Y2xlLlxyXG4gICAgICogVGhlIGBtb2RlbHMvaW5kZXhgIGZpbGUgd2lsbCBjYWxsIHRoaXMgbWV0aG9kIGF1dG9tYXRpY2FsbHkuXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBhc3NvY2lhdGUobW9kZWxzKSB7XHJcbiAgICAgIC8vIE1lc3NhZ2UuYmVsb25nc1RvKG1vZGVscy5Vc2VyKTtcclxuICAgICAgLy8gbW9kZWxzLlVzZXIuaGFzTWFueShNZXNzYWdlKTtcclxuXHJcbiAgICAgIE1lc3NhZ2UuYmVsb25nc1RvKG1vZGVscy5BcHBvaW50bWVudCk7XHJcbiAgICAgIG1vZGVscy5BcHBvaW50bWVudC5oYXNNYW55KE1lc3NhZ2UpO1xyXG4gICAgfVxyXG4gIH1cclxuICBNZXNzYWdlLmluaXQoXHJcbiAgICB7XHJcbiAgICAgIHVzZXJJRDogRGF0YVR5cGVzLlNUUklORyxcclxuICAgICAgYXBwb2ludG1lbnRJRDogRGF0YVR5cGVzLlNUUklORyxcclxuICAgICAgbWVzc2FnZTogRGF0YVR5cGVzLlNUUklORyxcclxuICAgICAgY3JlYXRlZEF0OiBEYXRhVHlwZXMuREFURSxcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIHNlcXVlbGl6ZSxcclxuICAgICAgbW9kZWxOYW1lOiBcIk1lc3NhZ2VcIixcclxuICAgIH1cclxuICApO1xyXG4gIHJldHVybiBNZXNzYWdlO1xyXG59O1xyXG4iXX0=","map":{"version":3,"sources":["message.js"],"names":["require","Model","module","exports","sequelize","DataTypes","Message","models","belongsTo","Appointment","hasMany","init","userID","STRING","appointmentID","message","createdAt","DATE","modelName"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;AACA,eAAkBA,OAAO,CAAC,WAAD,CAAzB;AAAA,IAAQC,KAAR,YAAQA,KAAR;;AACAC,MAAM,CAACC,OAAP,GAAiB,UAACC,SAAD,EAAYC,SAAZ,EAA0B;AAAA,MACnCC,OADmC;AAAA;;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAEvC;AACJ;AACA;AACA;AACA;AACI,yBAAiBC,MAAjB,EAAyB;AACvB;AACA;AAEAD,QAAAA,OAAO,CAACE,SAAR,CAAkBD,MAAM,CAACE,WAAzB;AACAF,QAAAA,MAAM,CAACE,WAAP,CAAmBC,OAAnB,CAA2BJ,OAA3B;AACD;AAbsC;;AAAA;AAAA,IACnBL,KADmB;;AAezCK,EAAAA,OAAO,CAACK,IAAR,CACE;AACEC,IAAAA,MAAM,EAAEP,SAAS,CAACQ,MADpB;AAEEC,IAAAA,aAAa,EAAET,SAAS,CAACQ,MAF3B;AAGEE,IAAAA,OAAO,EAAEV,SAAS,CAACQ,MAHrB;AAIEG,IAAAA,SAAS,EAAEX,SAAS,CAACY;AAJvB,GADF,EAOE;AACEb,IAAAA,SAAS,EAATA,SADF;AAEEc,IAAAA,SAAS,EAAE;AAFb,GAPF;AAYA,SAAOZ,OAAP;AACD,CA5BD","sourceRoot":"/Users/mac/Desktop/Final_Project_DTU/src/app/models/","sourcesContent":["\"use strict\";\r\nconst { Model } = require(\"sequelize\");\r\nmodule.exports = (sequelize, DataTypes) => {\r\n  class Message extends Model {\r\n    /**\r\n     * Helper method for defining associations.\r\n     * This method is not a part of Sequelize lifecycle.\r\n     * The `models/index` file will call this method automatically.\r\n     */\r\n    static associate(models) {\r\n      // Message.belongsTo(models.User);\r\n      // models.User.hasMany(Message);\r\n\r\n      Message.belongsTo(models.Appointment);\r\n      models.Appointment.hasMany(Message);\r\n    }\r\n  }\r\n  Message.init(\r\n    {\r\n      userID: DataTypes.STRING,\r\n      appointmentID: DataTypes.STRING,\r\n      message: DataTypes.STRING,\r\n      createdAt: DataTypes.DATE,\r\n    },\r\n    {\r\n      sequelize,\r\n      modelName: \"Message\",\r\n    }\r\n  );\r\n  return Message;\r\n};\r\n"]}},"mtime":1651628686000},"{\"sourceRoot\":\"/Users/mac/Desktop/Final_Project_DTU/src/app/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/mac/Desktop/Final_Project_DTU\",\"filename\":\"/Users/mac/Desktop/Final_Project_DTU/src/app/models/notification.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/mac/Desktop/Final_Project_DTU\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nvar _require = require(\"sequelize\"),\n    Model = _require.Model;\n\nmodule.exports = function (sequelize, DataTypes) {\n  var Notification = /*#__PURE__*/function (_Model) {\n    _inherits(Notification, _Model);\n\n    var _super = _createSuper(Notification);\n\n    function Notification() {\n      _classCallCheck(this, Notification);\n\n      return _super.apply(this, arguments);\n    }\n\n    _createClass(Notification, null, [{\n      key: \"associate\",\n      value:\n      /**\r\n       * Helper method for defining associations.\r\n       * This method is not a part of Sequelize lifecycle.\r\n       * The `models/index` file will call this method automatically.\r\n       */\n      function associate(models) {\n        Notification.belongsTo(models.User);\n        models.User.hasMany(Notification);\n        Notification.belongsTo(models.Appointment);\n        models.Appointment.hasMany(Notification);\n      }\n    }]);\n\n    return Notification;\n  }(Model);\n\n  Notification.init({\n    AppointmentId: DataTypes.STRING,\n    title: DataTypes.STRING,\n    content: DataTypes.STRING,\n    link: DataTypes.STRING,\n    fromUserID: DataTypes.STRING,\n    UserId: DataTypes.STRING\n  }, {\n    sequelize: sequelize,\n    modelName: \"Notification\"\n  });\n  return Notification;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vdGlmaWNhdGlvbi5qcyJdLCJuYW1lcyI6WyJyZXF1aXJlIiwiTW9kZWwiLCJtb2R1bGUiLCJleHBvcnRzIiwic2VxdWVsaXplIiwiRGF0YVR5cGVzIiwiTm90aWZpY2F0aW9uIiwibW9kZWxzIiwiYmVsb25nc1RvIiwiVXNlciIsImhhc01hbnkiLCJBcHBvaW50bWVudCIsImluaXQiLCJBcHBvaW50bWVudElkIiwiU1RSSU5HIiwidGl0bGUiLCJjb250ZW50IiwibGluayIsImZyb21Vc2VySUQiLCJVc2VySWQiLCJtb2RlbE5hbWUiXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQSxlQUFrQkEsT0FBTyxDQUFDLFdBQUQsQ0FBekI7QUFBQSxJQUFRQyxLQUFSLFlBQVFBLEtBQVI7O0FBQ0FDLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQixVQUFDQyxTQUFELEVBQVlDLFNBQVosRUFBMEI7QUFBQSxNQUNuQ0MsWUFEbUM7QUFBQTs7QUFBQTs7QUFBQTtBQUFBOztBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBRXZDO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDSSx5QkFBaUJDLE1BQWpCLEVBQXlCO0FBQ3ZCRCxRQUFBQSxZQUFZLENBQUNFLFNBQWIsQ0FBdUJELE1BQU0sQ0FBQ0UsSUFBOUI7QUFDQUYsUUFBQUEsTUFBTSxDQUFDRSxJQUFQLENBQVlDLE9BQVosQ0FBb0JKLFlBQXBCO0FBRUFBLFFBQUFBLFlBQVksQ0FBQ0UsU0FBYixDQUF1QkQsTUFBTSxDQUFDSSxXQUE5QjtBQUNBSixRQUFBQSxNQUFNLENBQUNJLFdBQVAsQ0FBbUJELE9BQW5CLENBQTJCSixZQUEzQjtBQUNEO0FBYnNDOztBQUFBO0FBQUEsSUFDZEwsS0FEYzs7QUFlekNLLEVBQUFBLFlBQVksQ0FBQ00sSUFBYixDQUNFO0FBQ0VDLElBQUFBLGFBQWEsRUFBRVIsU0FBUyxDQUFDUyxNQUQzQjtBQUVFQyxJQUFBQSxLQUFLLEVBQUVWLFNBQVMsQ0FBQ1MsTUFGbkI7QUFHRUUsSUFBQUEsT0FBTyxFQUFFWCxTQUFTLENBQUNTLE1BSHJCO0FBSUVHLElBQUFBLElBQUksRUFBRVosU0FBUyxDQUFDUyxNQUpsQjtBQUtFSSxJQUFBQSxVQUFVLEVBQUViLFNBQVMsQ0FBQ1MsTUFMeEI7QUFNRUssSUFBQUEsTUFBTSxFQUFFZCxTQUFTLENBQUNTO0FBTnBCLEdBREYsRUFTRTtBQUNFVixJQUFBQSxTQUFTLEVBQVRBLFNBREY7QUFFRWdCLElBQUFBLFNBQVMsRUFBRTtBQUZiLEdBVEY7QUFjQSxTQUFPZCxZQUFQO0FBQ0QsQ0E5QkQiLCJzb3VyY2VSb290IjoiL1VzZXJzL21hYy9EZXNrdG9wL0ZpbmFsX1Byb2plY3RfRFRVL3NyYy9hcHAvbW9kZWxzLyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xyXG5jb25zdCB7IE1vZGVsIH0gPSByZXF1aXJlKFwic2VxdWVsaXplXCIpO1xyXG5tb2R1bGUuZXhwb3J0cyA9IChzZXF1ZWxpemUsIERhdGFUeXBlcykgPT4ge1xyXG4gIGNsYXNzIE5vdGlmaWNhdGlvbiBleHRlbmRzIE1vZGVsIHtcclxuICAgIC8qKlxyXG4gICAgICogSGVscGVyIG1ldGhvZCBmb3IgZGVmaW5pbmcgYXNzb2NpYXRpb25zLlxyXG4gICAgICogVGhpcyBtZXRob2QgaXMgbm90IGEgcGFydCBvZiBTZXF1ZWxpemUgbGlmZWN5Y2xlLlxyXG4gICAgICogVGhlIGBtb2RlbHMvaW5kZXhgIGZpbGUgd2lsbCBjYWxsIHRoaXMgbWV0aG9kIGF1dG9tYXRpY2FsbHkuXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBhc3NvY2lhdGUobW9kZWxzKSB7XHJcbiAgICAgIE5vdGlmaWNhdGlvbi5iZWxvbmdzVG8obW9kZWxzLlVzZXIpO1xyXG4gICAgICBtb2RlbHMuVXNlci5oYXNNYW55KE5vdGlmaWNhdGlvbik7XHJcblxyXG4gICAgICBOb3RpZmljYXRpb24uYmVsb25nc1RvKG1vZGVscy5BcHBvaW50bWVudCk7XHJcbiAgICAgIG1vZGVscy5BcHBvaW50bWVudC5oYXNNYW55KE5vdGlmaWNhdGlvbik7XHJcbiAgICB9XHJcbiAgfVxyXG4gIE5vdGlmaWNhdGlvbi5pbml0KFxyXG4gICAge1xyXG4gICAgICBBcHBvaW50bWVudElkOiBEYXRhVHlwZXMuU1RSSU5HLFxyXG4gICAgICB0aXRsZTogRGF0YVR5cGVzLlNUUklORyxcclxuICAgICAgY29udGVudDogRGF0YVR5cGVzLlNUUklORyxcclxuICAgICAgbGluazogRGF0YVR5cGVzLlNUUklORyxcclxuICAgICAgZnJvbVVzZXJJRDogRGF0YVR5cGVzLlNUUklORyxcclxuICAgICAgVXNlcklkOiBEYXRhVHlwZXMuU1RSSU5HLFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgc2VxdWVsaXplLFxyXG4gICAgICBtb2RlbE5hbWU6IFwiTm90aWZpY2F0aW9uXCIsXHJcbiAgICB9XHJcbiAgKTtcclxuICByZXR1cm4gTm90aWZpY2F0aW9uO1xyXG59O1xyXG4iXX0=","map":{"version":3,"sources":["notification.js"],"names":["require","Model","module","exports","sequelize","DataTypes","Notification","models","belongsTo","User","hasMany","Appointment","init","AppointmentId","STRING","title","content","link","fromUserID","UserId","modelName"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;AACA,eAAkBA,OAAO,CAAC,WAAD,CAAzB;AAAA,IAAQC,KAAR,YAAQA,KAAR;;AACAC,MAAM,CAACC,OAAP,GAAiB,UAACC,SAAD,EAAYC,SAAZ,EAA0B;AAAA,MACnCC,YADmC;AAAA;;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAEvC;AACJ;AACA;AACA;AACA;AACI,yBAAiBC,MAAjB,EAAyB;AACvBD,QAAAA,YAAY,CAACE,SAAb,CAAuBD,MAAM,CAACE,IAA9B;AACAF,QAAAA,MAAM,CAACE,IAAP,CAAYC,OAAZ,CAAoBJ,YAApB;AAEAA,QAAAA,YAAY,CAACE,SAAb,CAAuBD,MAAM,CAACI,WAA9B;AACAJ,QAAAA,MAAM,CAACI,WAAP,CAAmBD,OAAnB,CAA2BJ,YAA3B;AACD;AAbsC;;AAAA;AAAA,IACdL,KADc;;AAezCK,EAAAA,YAAY,CAACM,IAAb,CACE;AACEC,IAAAA,aAAa,EAAER,SAAS,CAACS,MAD3B;AAEEC,IAAAA,KAAK,EAAEV,SAAS,CAACS,MAFnB;AAGEE,IAAAA,OAAO,EAAEX,SAAS,CAACS,MAHrB;AAIEG,IAAAA,IAAI,EAAEZ,SAAS,CAACS,MAJlB;AAKEI,IAAAA,UAAU,EAAEb,SAAS,CAACS,MALxB;AAMEK,IAAAA,MAAM,EAAEd,SAAS,CAACS;AANpB,GADF,EASE;AACEV,IAAAA,SAAS,EAATA,SADF;AAEEgB,IAAAA,SAAS,EAAE;AAFb,GATF;AAcA,SAAOd,YAAP;AACD,CA9BD","sourceRoot":"/Users/mac/Desktop/Final_Project_DTU/src/app/models/","sourcesContent":["\"use strict\";\r\nconst { Model } = require(\"sequelize\");\r\nmodule.exports = (sequelize, DataTypes) => {\r\n  class Notification extends Model {\r\n    /**\r\n     * Helper method for defining associations.\r\n     * This method is not a part of Sequelize lifecycle.\r\n     * The `models/index` file will call this method automatically.\r\n     */\r\n    static associate(models) {\r\n      Notification.belongsTo(models.User);\r\n      models.User.hasMany(Notification);\r\n\r\n      Notification.belongsTo(models.Appointment);\r\n      models.Appointment.hasMany(Notification);\r\n    }\r\n  }\r\n  Notification.init(\r\n    {\r\n      AppointmentId: DataTypes.STRING,\r\n      title: DataTypes.STRING,\r\n      content: DataTypes.STRING,\r\n      link: DataTypes.STRING,\r\n      fromUserID: DataTypes.STRING,\r\n      UserId: DataTypes.STRING,\r\n    },\r\n    {\r\n      sequelize,\r\n      modelName: \"Notification\",\r\n    }\r\n  );\r\n  return Notification;\r\n};\r\n"]}},"mtime":1651628686000},"{\"sourceRoot\":\"/Users/mac/Desktop/Final_Project_DTU/src/app/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/mac/Desktop/Final_Project_DTU\",\"filename\":\"/Users/mac/Desktop/Final_Project_DTU/src/app/models/resume.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/mac/Desktop/Final_Project_DTU\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nvar _require = require(\"sequelize\"),\n    Model = _require.Model;\n\nmodule.exports = function (sequelize, DataTypes) {\n  var Resume = /*#__PURE__*/function (_Model) {\n    _inherits(Resume, _Model);\n\n    var _super = _createSuper(Resume);\n\n    function Resume() {\n      _classCallCheck(this, Resume);\n\n      return _super.apply(this, arguments);\n    }\n\n    _createClass(Resume, null, [{\n      key: \"associate\",\n      value:\n      /**\r\n       * Helper method for defining associations.\r\n       * This method is not a part of Sequelize lifecycle.\r\n       * The `models/index` file will call this method automatically.\r\n       */\n      function associate(models) {// define association here\n      }\n    }]);\n\n    return Resume;\n  }(Model);\n\n  Resume.init({\n    title: DataTypes.STRING,\n    description: DataTypes.STRING,\n    attachments: DataTypes.STRING,\n    starNo: DataTypes.INTEGER,\n    isVerified: DataTypes.BOOLEAN\n  }, {\n    sequelize: sequelize,\n    modelName: \"Resume\"\n  });\n  return Resume;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlc3VtZS5qcyJdLCJuYW1lcyI6WyJyZXF1aXJlIiwiTW9kZWwiLCJtb2R1bGUiLCJleHBvcnRzIiwic2VxdWVsaXplIiwiRGF0YVR5cGVzIiwiUmVzdW1lIiwibW9kZWxzIiwiaW5pdCIsInRpdGxlIiwiU1RSSU5HIiwiZGVzY3JpcHRpb24iLCJhdHRhY2htZW50cyIsInN0YXJObyIsIklOVEVHRVIiLCJpc1ZlcmlmaWVkIiwiQk9PTEVBTiIsIm1vZGVsTmFtZSJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUNBLGVBQWtCQSxPQUFPLENBQUMsV0FBRCxDQUF6QjtBQUFBLElBQVFDLEtBQVIsWUFBUUEsS0FBUjs7QUFDQUMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCLFVBQUNDLFNBQUQsRUFBWUMsU0FBWixFQUEwQjtBQUFBLE1BQ25DQyxNQURtQztBQUFBOztBQUFBOztBQUFBO0FBQUE7O0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFFdkM7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNJLHlCQUFpQkMsTUFBakIsRUFBeUIsQ0FDdkI7QUFDRDtBQVRzQzs7QUFBQTtBQUFBLElBQ3BCTixLQURvQjs7QUFXekNLLEVBQUFBLE1BQU0sQ0FBQ0UsSUFBUCxDQUNFO0FBQ0VDLElBQUFBLEtBQUssRUFBRUosU0FBUyxDQUFDSyxNQURuQjtBQUVFQyxJQUFBQSxXQUFXLEVBQUVOLFNBQVMsQ0FBQ0ssTUFGekI7QUFHRUUsSUFBQUEsV0FBVyxFQUFFUCxTQUFTLENBQUNLLE1BSHpCO0FBSUVHLElBQUFBLE1BQU0sRUFBRVIsU0FBUyxDQUFDUyxPQUpwQjtBQUtFQyxJQUFBQSxVQUFVLEVBQUVWLFNBQVMsQ0FBQ1c7QUFMeEIsR0FERixFQVFFO0FBQ0VaLElBQUFBLFNBQVMsRUFBVEEsU0FERjtBQUVFYSxJQUFBQSxTQUFTLEVBQUU7QUFGYixHQVJGO0FBYUEsU0FBT1gsTUFBUDtBQUNELENBekJEIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9tYWMvRGVza3RvcC9GaW5hbF9Qcm9qZWN0X0RUVS9zcmMvYXBwL21vZGVscy8iLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxuY29uc3QgeyBNb2RlbCB9ID0gcmVxdWlyZShcInNlcXVlbGl6ZVwiKTtcclxubW9kdWxlLmV4cG9ydHMgPSAoc2VxdWVsaXplLCBEYXRhVHlwZXMpID0+IHtcclxuICBjbGFzcyBSZXN1bWUgZXh0ZW5kcyBNb2RlbCB7XHJcbiAgICAvKipcclxuICAgICAqIEhlbHBlciBtZXRob2QgZm9yIGRlZmluaW5nIGFzc29jaWF0aW9ucy5cclxuICAgICAqIFRoaXMgbWV0aG9kIGlzIG5vdCBhIHBhcnQgb2YgU2VxdWVsaXplIGxpZmVjeWNsZS5cclxuICAgICAqIFRoZSBgbW9kZWxzL2luZGV4YCBmaWxlIHdpbGwgY2FsbCB0aGlzIG1ldGhvZCBhdXRvbWF0aWNhbGx5LlxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgYXNzb2NpYXRlKG1vZGVscykge1xyXG4gICAgICAvLyBkZWZpbmUgYXNzb2NpYXRpb24gaGVyZVxyXG4gICAgfVxyXG4gIH1cclxuICBSZXN1bWUuaW5pdChcclxuICAgIHtcclxuICAgICAgdGl0bGU6IERhdGFUeXBlcy5TVFJJTkcsXHJcbiAgICAgIGRlc2NyaXB0aW9uOiBEYXRhVHlwZXMuU1RSSU5HLFxyXG4gICAgICBhdHRhY2htZW50czogRGF0YVR5cGVzLlNUUklORyxcclxuICAgICAgc3Rhck5vOiBEYXRhVHlwZXMuSU5URUdFUixcclxuICAgICAgaXNWZXJpZmllZDogRGF0YVR5cGVzLkJPT0xFQU4sXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBzZXF1ZWxpemUsXHJcbiAgICAgIG1vZGVsTmFtZTogXCJSZXN1bWVcIixcclxuICAgIH1cclxuICApO1xyXG4gIHJldHVybiBSZXN1bWU7XHJcbn07XHJcbiJdfQ==","map":{"version":3,"sources":["resume.js"],"names":["require","Model","module","exports","sequelize","DataTypes","Resume","models","init","title","STRING","description","attachments","starNo","INTEGER","isVerified","BOOLEAN","modelName"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;AACA,eAAkBA,OAAO,CAAC,WAAD,CAAzB;AAAA,IAAQC,KAAR,YAAQA,KAAR;;AACAC,MAAM,CAACC,OAAP,GAAiB,UAACC,SAAD,EAAYC,SAAZ,EAA0B;AAAA,MACnCC,MADmC;AAAA;;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAEvC;AACJ;AACA;AACA;AACA;AACI,yBAAiBC,MAAjB,EAAyB,CACvB;AACD;AATsC;;AAAA;AAAA,IACpBN,KADoB;;AAWzCK,EAAAA,MAAM,CAACE,IAAP,CACE;AACEC,IAAAA,KAAK,EAAEJ,SAAS,CAACK,MADnB;AAEEC,IAAAA,WAAW,EAAEN,SAAS,CAACK,MAFzB;AAGEE,IAAAA,WAAW,EAAEP,SAAS,CAACK,MAHzB;AAIEG,IAAAA,MAAM,EAAER,SAAS,CAACS,OAJpB;AAKEC,IAAAA,UAAU,EAAEV,SAAS,CAACW;AALxB,GADF,EAQE;AACEZ,IAAAA,SAAS,EAATA,SADF;AAEEa,IAAAA,SAAS,EAAE;AAFb,GARF;AAaA,SAAOX,MAAP;AACD,CAzBD","sourceRoot":"/Users/mac/Desktop/Final_Project_DTU/src/app/models/","sourcesContent":["\"use strict\";\r\nconst { Model } = require(\"sequelize\");\r\nmodule.exports = (sequelize, DataTypes) => {\r\n  class Resume extends Model {\r\n    /**\r\n     * Helper method for defining associations.\r\n     * This method is not a part of Sequelize lifecycle.\r\n     * The `models/index` file will call this method automatically.\r\n     */\r\n    static associate(models) {\r\n      // define association here\r\n    }\r\n  }\r\n  Resume.init(\r\n    {\r\n      title: DataTypes.STRING,\r\n      description: DataTypes.STRING,\r\n      attachments: DataTypes.STRING,\r\n      starNo: DataTypes.INTEGER,\r\n      isVerified: DataTypes.BOOLEAN,\r\n    },\r\n    {\r\n      sequelize,\r\n      modelName: \"Resume\",\r\n    }\r\n  );\r\n  return Resume;\r\n};\r\n"]}},"mtime":1651628686000},"{\"sourceRoot\":\"/Users/mac/Desktop/Final_Project_DTU/src/app/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/mac/Desktop/Final_Project_DTU\",\"filename\":\"/Users/mac/Desktop/Final_Project_DTU/src/app/models/review.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/mac/Desktop/Final_Project_DTU\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nvar _require = require(\"sequelize\"),\n    Model = _require.Model;\n\nmodule.exports = function (sequelize, DataTypes) {\n  var Review = /*#__PURE__*/function (_Model) {\n    _inherits(Review, _Model);\n\n    var _super = _createSuper(Review);\n\n    function Review() {\n      _classCallCheck(this, Review);\n\n      return _super.apply(this, arguments);\n    }\n\n    _createClass(Review, null, [{\n      key: \"associate\",\n      value:\n      /**\r\n       * Helper method for defining associations.\r\n       * This method is not a part of Sequelize lifecycle.\r\n       * The `models/index` file will call this method automatically.\r\n       */\n      function associate(models) {\n        Review.belongsTo(models.User);\n        models.User.hasMany(Review);\n      }\n    }]);\n\n    return Review;\n  }(Model);\n\n  Review.init({\n    userID: DataTypes.STRING,\n    reviewTitle: DataTypes.STRING,\n    reviewContent: DataTypes.STRING,\n    starNo: DataTypes.INTEGER\n  }, {\n    sequelize: sequelize,\n    modelName: \"Review\"\n  });\n  return Review;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJldmlldy5qcyJdLCJuYW1lcyI6WyJyZXF1aXJlIiwiTW9kZWwiLCJtb2R1bGUiLCJleHBvcnRzIiwic2VxdWVsaXplIiwiRGF0YVR5cGVzIiwiUmV2aWV3IiwibW9kZWxzIiwiYmVsb25nc1RvIiwiVXNlciIsImhhc01hbnkiLCJpbml0IiwidXNlcklEIiwiU1RSSU5HIiwicmV2aWV3VGl0bGUiLCJyZXZpZXdDb250ZW50Iiwic3Rhck5vIiwiSU5URUdFUiIsIm1vZGVsTmFtZSJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUNBLGVBQWtCQSxPQUFPLENBQUMsV0FBRCxDQUF6QjtBQUFBLElBQVFDLEtBQVIsWUFBUUEsS0FBUjs7QUFDQUMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCLFVBQUNDLFNBQUQsRUFBWUMsU0FBWixFQUEwQjtBQUFBLE1BQ25DQyxNQURtQztBQUFBOztBQUFBOztBQUFBO0FBQUE7O0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFFdkM7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNJLHlCQUFpQkMsTUFBakIsRUFBeUI7QUFDdkJELFFBQUFBLE1BQU0sQ0FBQ0UsU0FBUCxDQUFpQkQsTUFBTSxDQUFDRSxJQUF4QjtBQUNBRixRQUFBQSxNQUFNLENBQUNFLElBQVAsQ0FBWUMsT0FBWixDQUFvQkosTUFBcEI7QUFDRDtBQVZzQzs7QUFBQTtBQUFBLElBQ3BCTCxLQURvQjs7QUFZekNLLEVBQUFBLE1BQU0sQ0FBQ0ssSUFBUCxDQUNFO0FBQ0VDLElBQUFBLE1BQU0sRUFBRVAsU0FBUyxDQUFDUSxNQURwQjtBQUVFQyxJQUFBQSxXQUFXLEVBQUVULFNBQVMsQ0FBQ1EsTUFGekI7QUFHRUUsSUFBQUEsYUFBYSxFQUFFVixTQUFTLENBQUNRLE1BSDNCO0FBSUVHLElBQUFBLE1BQU0sRUFBRVgsU0FBUyxDQUFDWTtBQUpwQixHQURGLEVBT0U7QUFDRWIsSUFBQUEsU0FBUyxFQUFUQSxTQURGO0FBRUVjLElBQUFBLFNBQVMsRUFBRTtBQUZiLEdBUEY7QUFZQSxTQUFPWixNQUFQO0FBQ0QsQ0F6QkQiLCJzb3VyY2VSb290IjoiL1VzZXJzL21hYy9EZXNrdG9wL0ZpbmFsX1Byb2plY3RfRFRVL3NyYy9hcHAvbW9kZWxzLyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xyXG5jb25zdCB7IE1vZGVsIH0gPSByZXF1aXJlKFwic2VxdWVsaXplXCIpO1xyXG5tb2R1bGUuZXhwb3J0cyA9IChzZXF1ZWxpemUsIERhdGFUeXBlcykgPT4ge1xyXG4gIGNsYXNzIFJldmlldyBleHRlbmRzIE1vZGVsIHtcclxuICAgIC8qKlxyXG4gICAgICogSGVscGVyIG1ldGhvZCBmb3IgZGVmaW5pbmcgYXNzb2NpYXRpb25zLlxyXG4gICAgICogVGhpcyBtZXRob2QgaXMgbm90IGEgcGFydCBvZiBTZXF1ZWxpemUgbGlmZWN5Y2xlLlxyXG4gICAgICogVGhlIGBtb2RlbHMvaW5kZXhgIGZpbGUgd2lsbCBjYWxsIHRoaXMgbWV0aG9kIGF1dG9tYXRpY2FsbHkuXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBhc3NvY2lhdGUobW9kZWxzKSB7XHJcbiAgICAgIFJldmlldy5iZWxvbmdzVG8obW9kZWxzLlVzZXIpO1xyXG4gICAgICBtb2RlbHMuVXNlci5oYXNNYW55KFJldmlldyk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIFJldmlldy5pbml0KFxyXG4gICAge1xyXG4gICAgICB1c2VySUQ6IERhdGFUeXBlcy5TVFJJTkcsXHJcbiAgICAgIHJldmlld1RpdGxlOiBEYXRhVHlwZXMuU1RSSU5HLFxyXG4gICAgICByZXZpZXdDb250ZW50OiBEYXRhVHlwZXMuU1RSSU5HLFxyXG4gICAgICBzdGFyTm86IERhdGFUeXBlcy5JTlRFR0VSLFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgc2VxdWVsaXplLFxyXG4gICAgICBtb2RlbE5hbWU6IFwiUmV2aWV3XCIsXHJcbiAgICB9XHJcbiAgKTtcclxuICByZXR1cm4gUmV2aWV3O1xyXG59O1xyXG4iXX0=","map":{"version":3,"sources":["review.js"],"names":["require","Model","module","exports","sequelize","DataTypes","Review","models","belongsTo","User","hasMany","init","userID","STRING","reviewTitle","reviewContent","starNo","INTEGER","modelName"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;AACA,eAAkBA,OAAO,CAAC,WAAD,CAAzB;AAAA,IAAQC,KAAR,YAAQA,KAAR;;AACAC,MAAM,CAACC,OAAP,GAAiB,UAACC,SAAD,EAAYC,SAAZ,EAA0B;AAAA,MACnCC,MADmC;AAAA;;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAEvC;AACJ;AACA;AACA;AACA;AACI,yBAAiBC,MAAjB,EAAyB;AACvBD,QAAAA,MAAM,CAACE,SAAP,CAAiBD,MAAM,CAACE,IAAxB;AACAF,QAAAA,MAAM,CAACE,IAAP,CAAYC,OAAZ,CAAoBJ,MAApB;AACD;AAVsC;;AAAA;AAAA,IACpBL,KADoB;;AAYzCK,EAAAA,MAAM,CAACK,IAAP,CACE;AACEC,IAAAA,MAAM,EAAEP,SAAS,CAACQ,MADpB;AAEEC,IAAAA,WAAW,EAAET,SAAS,CAACQ,MAFzB;AAGEE,IAAAA,aAAa,EAAEV,SAAS,CAACQ,MAH3B;AAIEG,IAAAA,MAAM,EAAEX,SAAS,CAACY;AAJpB,GADF,EAOE;AACEb,IAAAA,SAAS,EAATA,SADF;AAEEc,IAAAA,SAAS,EAAE;AAFb,GAPF;AAYA,SAAOZ,MAAP;AACD,CAzBD","sourceRoot":"/Users/mac/Desktop/Final_Project_DTU/src/app/models/","sourcesContent":["\"use strict\";\r\nconst { Model } = require(\"sequelize\");\r\nmodule.exports = (sequelize, DataTypes) => {\r\n  class Review extends Model {\r\n    /**\r\n     * Helper method for defining associations.\r\n     * This method is not a part of Sequelize lifecycle.\r\n     * The `models/index` file will call this method automatically.\r\n     */\r\n    static associate(models) {\r\n      Review.belongsTo(models.User);\r\n      models.User.hasMany(Review);\r\n    }\r\n  }\r\n  Review.init(\r\n    {\r\n      userID: DataTypes.STRING,\r\n      reviewTitle: DataTypes.STRING,\r\n      reviewContent: DataTypes.STRING,\r\n      starNo: DataTypes.INTEGER,\r\n    },\r\n    {\r\n      sequelize,\r\n      modelName: \"Review\",\r\n    }\r\n  );\r\n  return Review;\r\n};\r\n"]}},"mtime":1651628644000},"{\"sourceRoot\":\"/Users/mac/Desktop/Final_Project_DTU/src/app/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/mac/Desktop/Final_Project_DTU\",\"filename\":\"/Users/mac/Desktop/Final_Project_DTU/src/app/models/role.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/mac/Desktop/Final_Project_DTU\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nvar _require = require(\"sequelize\"),\n    Model = _require.Model;\n\nmodule.exports = function (sequelize, DataTypes) {\n  var Role = /*#__PURE__*/function (_Model) {\n    _inherits(Role, _Model);\n\n    var _super = _createSuper(Role);\n\n    function Role() {\n      _classCallCheck(this, Role);\n\n      return _super.apply(this, arguments);\n    }\n\n    _createClass(Role, null, [{\n      key: \"associate\",\n      value:\n      /**\r\n       * Helper method for defining associations.\r\n       * This method is not a part of Sequelize lifecycle.\r\n       * The `models/index` file will call this method automatically.\r\n       */\n      function associate(models) {// define association here\n      }\n    }]);\n\n    return Role;\n  }(Model);\n\n  Role.init({\n    name: DataTypes.STRING,\n    permissionID: DataTypes.INTEGER\n  }, {\n    sequelize: sequelize,\n    modelName: \"Role\"\n  });\n  return Role;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJvbGUuanMiXSwibmFtZXMiOlsicmVxdWlyZSIsIk1vZGVsIiwibW9kdWxlIiwiZXhwb3J0cyIsInNlcXVlbGl6ZSIsIkRhdGFUeXBlcyIsIlJvbGUiLCJtb2RlbHMiLCJpbml0IiwibmFtZSIsIlNUUklORyIsInBlcm1pc3Npb25JRCIsIklOVEVHRVIiLCJtb2RlbE5hbWUiXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQSxlQUFrQkEsT0FBTyxDQUFDLFdBQUQsQ0FBekI7QUFBQSxJQUFRQyxLQUFSLFlBQVFBLEtBQVI7O0FBQ0FDLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQixVQUFDQyxTQUFELEVBQVlDLFNBQVosRUFBMEI7QUFBQSxNQUNuQ0MsSUFEbUM7QUFBQTs7QUFBQTs7QUFBQTtBQUFBOztBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBRXZDO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDSSx5QkFBaUJDLE1BQWpCLEVBQXlCLENBQ3ZCO0FBQ0Q7QUFUc0M7O0FBQUE7QUFBQSxJQUN0Qk4sS0FEc0I7O0FBV3pDSyxFQUFBQSxJQUFJLENBQUNFLElBQUwsQ0FDRTtBQUNFQyxJQUFBQSxJQUFJLEVBQUVKLFNBQVMsQ0FBQ0ssTUFEbEI7QUFFRUMsSUFBQUEsWUFBWSxFQUFFTixTQUFTLENBQUNPO0FBRjFCLEdBREYsRUFLRTtBQUNFUixJQUFBQSxTQUFTLEVBQVRBLFNBREY7QUFFRVMsSUFBQUEsU0FBUyxFQUFFO0FBRmIsR0FMRjtBQVVBLFNBQU9QLElBQVA7QUFDRCxDQXRCRCIsInNvdXJjZVJvb3QiOiIvVXNlcnMvbWFjL0Rlc2t0b3AvRmluYWxfUHJvamVjdF9EVFUvc3JjL2FwcC9tb2RlbHMvIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XHJcbmNvbnN0IHsgTW9kZWwgfSA9IHJlcXVpcmUoXCJzZXF1ZWxpemVcIik7XHJcbm1vZHVsZS5leHBvcnRzID0gKHNlcXVlbGl6ZSwgRGF0YVR5cGVzKSA9PiB7XHJcbiAgY2xhc3MgUm9sZSBleHRlbmRzIE1vZGVsIHtcclxuICAgIC8qKlxyXG4gICAgICogSGVscGVyIG1ldGhvZCBmb3IgZGVmaW5pbmcgYXNzb2NpYXRpb25zLlxyXG4gICAgICogVGhpcyBtZXRob2QgaXMgbm90IGEgcGFydCBvZiBTZXF1ZWxpemUgbGlmZWN5Y2xlLlxyXG4gICAgICogVGhlIGBtb2RlbHMvaW5kZXhgIGZpbGUgd2lsbCBjYWxsIHRoaXMgbWV0aG9kIGF1dG9tYXRpY2FsbHkuXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBhc3NvY2lhdGUobW9kZWxzKSB7XHJcbiAgICAgIC8vIGRlZmluZSBhc3NvY2lhdGlvbiBoZXJlXHJcbiAgICB9XHJcbiAgfVxyXG4gIFJvbGUuaW5pdChcclxuICAgIHtcclxuICAgICAgbmFtZTogRGF0YVR5cGVzLlNUUklORyxcclxuICAgICAgcGVybWlzc2lvbklEOiBEYXRhVHlwZXMuSU5URUdFUixcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIHNlcXVlbGl6ZSxcclxuICAgICAgbW9kZWxOYW1lOiBcIlJvbGVcIixcclxuICAgIH1cclxuICApO1xyXG4gIHJldHVybiBSb2xlO1xyXG59O1xyXG4iXX0=","map":{"version":3,"sources":["role.js"],"names":["require","Model","module","exports","sequelize","DataTypes","Role","models","init","name","STRING","permissionID","INTEGER","modelName"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;AACA,eAAkBA,OAAO,CAAC,WAAD,CAAzB;AAAA,IAAQC,KAAR,YAAQA,KAAR;;AACAC,MAAM,CAACC,OAAP,GAAiB,UAACC,SAAD,EAAYC,SAAZ,EAA0B;AAAA,MACnCC,IADmC;AAAA;;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAEvC;AACJ;AACA;AACA;AACA;AACI,yBAAiBC,MAAjB,EAAyB,CACvB;AACD;AATsC;;AAAA;AAAA,IACtBN,KADsB;;AAWzCK,EAAAA,IAAI,CAACE,IAAL,CACE;AACEC,IAAAA,IAAI,EAAEJ,SAAS,CAACK,MADlB;AAEEC,IAAAA,YAAY,EAAEN,SAAS,CAACO;AAF1B,GADF,EAKE;AACER,IAAAA,SAAS,EAATA,SADF;AAEES,IAAAA,SAAS,EAAE;AAFb,GALF;AAUA,SAAOP,IAAP;AACD,CAtBD","sourceRoot":"/Users/mac/Desktop/Final_Project_DTU/src/app/models/","sourcesContent":["\"use strict\";\r\nconst { Model } = require(\"sequelize\");\r\nmodule.exports = (sequelize, DataTypes) => {\r\n  class Role extends Model {\r\n    /**\r\n     * Helper method for defining associations.\r\n     * This method is not a part of Sequelize lifecycle.\r\n     * The `models/index` file will call this method automatically.\r\n     */\r\n    static associate(models) {\r\n      // define association here\r\n    }\r\n  }\r\n  Role.init(\r\n    {\r\n      name: DataTypes.STRING,\r\n      permissionID: DataTypes.INTEGER,\r\n    },\r\n    {\r\n      sequelize,\r\n      modelName: \"Role\",\r\n    }\r\n  );\r\n  return Role;\r\n};\r\n"]}},"mtime":1651628644000},"{\"sourceRoot\":\"/Users/mac/Desktop/Final_Project_DTU/src/app/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/mac/Desktop/Final_Project_DTU\",\"filename\":\"/Users/mac/Desktop/Final_Project_DTU/src/app/models/service.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/mac/Desktop/Final_Project_DTU\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nvar _require = require(\"sequelize\"),\n    Model = _require.Model;\n\nmodule.exports = function (sequelize, DataTypes) {\n  var Service = /*#__PURE__*/function (_Model) {\n    _inherits(Service, _Model);\n\n    var _super = _createSuper(Service);\n\n    function Service() {\n      _classCallCheck(this, Service);\n\n      return _super.apply(this, arguments);\n    }\n\n    _createClass(Service, null, [{\n      key: \"associate\",\n      value: function associate(models) {\n        Service.belongsTo(models.User);\n        models.User.hasOne(Service);\n      }\n    }]);\n\n    return Service;\n  }(Model);\n\n  Service.init({\n    UserId: DataTypes.STRING,\n    fee: DataTypes.FLOAT\n  }, {\n    sequelize: sequelize,\n    modelName: \"Service\"\n  });\n  return Service;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlcnZpY2UuanMiXSwibmFtZXMiOlsicmVxdWlyZSIsIk1vZGVsIiwibW9kdWxlIiwiZXhwb3J0cyIsInNlcXVlbGl6ZSIsIkRhdGFUeXBlcyIsIlNlcnZpY2UiLCJtb2RlbHMiLCJiZWxvbmdzVG8iLCJVc2VyIiwiaGFzT25lIiwiaW5pdCIsIlVzZXJJZCIsIlNUUklORyIsImZlZSIsIkZMT0FUIiwibW9kZWxOYW1lIl0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQ0EsZUFBa0JBLE9BQU8sQ0FBQyxXQUFELENBQXpCO0FBQUEsSUFBUUMsS0FBUixZQUFRQSxLQUFSOztBQUNBQyxNQUFNLENBQUNDLE9BQVAsR0FBaUIsVUFBQ0MsU0FBRCxFQUFZQyxTQUFaLEVBQTBCO0FBQUEsTUFDbkNDLE9BRG1DO0FBQUE7O0FBQUE7O0FBQUE7QUFBQTs7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQSxhQUV2QyxtQkFBaUJDLE1BQWpCLEVBQXlCO0FBQ3ZCRCxRQUFBQSxPQUFPLENBQUNFLFNBQVIsQ0FBa0JELE1BQU0sQ0FBQ0UsSUFBekI7QUFDQUYsUUFBQUEsTUFBTSxDQUFDRSxJQUFQLENBQVlDLE1BQVosQ0FBbUJKLE9BQW5CO0FBQ0Q7QUFMc0M7O0FBQUE7QUFBQSxJQUNuQkwsS0FEbUI7O0FBT3pDSyxFQUFBQSxPQUFPLENBQUNLLElBQVIsQ0FDRTtBQUNFQyxJQUFBQSxNQUFNLEVBQUVQLFNBQVMsQ0FBQ1EsTUFEcEI7QUFFRUMsSUFBQUEsR0FBRyxFQUFFVCxTQUFTLENBQUNVO0FBRmpCLEdBREYsRUFLRTtBQUNFWCxJQUFBQSxTQUFTLEVBQVRBLFNBREY7QUFFRVksSUFBQUEsU0FBUyxFQUFFO0FBRmIsR0FMRjtBQVVBLFNBQU9WLE9BQVA7QUFDRCxDQWxCRCIsInNvdXJjZVJvb3QiOiIvVXNlcnMvbWFjL0Rlc2t0b3AvRmluYWxfUHJvamVjdF9EVFUvc3JjL2FwcC9tb2RlbHMvIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XHJcbmNvbnN0IHsgTW9kZWwgfSA9IHJlcXVpcmUoXCJzZXF1ZWxpemVcIik7XHJcbm1vZHVsZS5leHBvcnRzID0gKHNlcXVlbGl6ZSwgRGF0YVR5cGVzKSA9PiB7XHJcbiAgY2xhc3MgU2VydmljZSBleHRlbmRzIE1vZGVsIHtcclxuICAgIHN0YXRpYyBhc3NvY2lhdGUobW9kZWxzKSB7XHJcbiAgICAgIFNlcnZpY2UuYmVsb25nc1RvKG1vZGVscy5Vc2VyKTtcclxuICAgICAgbW9kZWxzLlVzZXIuaGFzT25lKFNlcnZpY2UpO1xyXG4gICAgfVxyXG4gIH1cclxuICBTZXJ2aWNlLmluaXQoXHJcbiAgICB7XHJcbiAgICAgIFVzZXJJZDogRGF0YVR5cGVzLlNUUklORyxcclxuICAgICAgZmVlOiBEYXRhVHlwZXMuRkxPQVQsXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBzZXF1ZWxpemUsXHJcbiAgICAgIG1vZGVsTmFtZTogXCJTZXJ2aWNlXCIsXHJcbiAgICB9XHJcbiAgKTtcclxuICByZXR1cm4gU2VydmljZTtcclxufTtcclxuIl19","map":{"version":3,"sources":["service.js"],"names":["require","Model","module","exports","sequelize","DataTypes","Service","models","belongsTo","User","hasOne","init","UserId","STRING","fee","FLOAT","modelName"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;AACA,eAAkBA,OAAO,CAAC,WAAD,CAAzB;AAAA,IAAQC,KAAR,YAAQA,KAAR;;AACAC,MAAM,CAACC,OAAP,GAAiB,UAACC,SAAD,EAAYC,SAAZ,EAA0B;AAAA,MACnCC,OADmC;AAAA;;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA,aAEvC,mBAAiBC,MAAjB,EAAyB;AACvBD,QAAAA,OAAO,CAACE,SAAR,CAAkBD,MAAM,CAACE,IAAzB;AACAF,QAAAA,MAAM,CAACE,IAAP,CAAYC,MAAZ,CAAmBJ,OAAnB;AACD;AALsC;;AAAA;AAAA,IACnBL,KADmB;;AAOzCK,EAAAA,OAAO,CAACK,IAAR,CACE;AACEC,IAAAA,MAAM,EAAEP,SAAS,CAACQ,MADpB;AAEEC,IAAAA,GAAG,EAAET,SAAS,CAACU;AAFjB,GADF,EAKE;AACEX,IAAAA,SAAS,EAATA,SADF;AAEEY,IAAAA,SAAS,EAAE;AAFb,GALF;AAUA,SAAOV,OAAP;AACD,CAlBD","sourceRoot":"/Users/mac/Desktop/Final_Project_DTU/src/app/models/","sourcesContent":["\"use strict\";\r\nconst { Model } = require(\"sequelize\");\r\nmodule.exports = (sequelize, DataTypes) => {\r\n  class Service extends Model {\r\n    static associate(models) {\r\n      Service.belongsTo(models.User);\r\n      models.User.hasOne(Service);\r\n    }\r\n  }\r\n  Service.init(\r\n    {\r\n      UserId: DataTypes.STRING,\r\n      fee: DataTypes.FLOAT,\r\n    },\r\n    {\r\n      sequelize,\r\n      modelName: \"Service\",\r\n    }\r\n  );\r\n  return Service;\r\n};\r\n"]}},"mtime":1651628686000},"{\"sourceRoot\":\"/Users/mac/Desktop/Final_Project_DTU/src/app/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/mac/Desktop/Final_Project_DTU\",\"filename\":\"/Users/mac/Desktop/Final_Project_DTU/src/app/models/transactionHistory.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/mac/Desktop/Final_Project_DTU\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nvar _require = require(\"sequelize\"),\n    Model = _require.Model;\n\nmodule.exports = function (sequelize, DataTypes) {\n  var TransactionHistory = /*#__PURE__*/function (_Model) {\n    _inherits(TransactionHistory, _Model);\n\n    var _super = _createSuper(TransactionHistory);\n\n    function TransactionHistory() {\n      _classCallCheck(this, TransactionHistory);\n\n      return _super.apply(this, arguments);\n    }\n\n    _createClass(TransactionHistory, null, [{\n      key: \"associate\",\n      value:\n      /**\r\n       * Helper method for defining associations.\r\n       * This method is not a part of Sequelize lifecycle.\r\n       * The `models/index` file will call this method automatically.\r\n       */\n      function associate(models) {\n        TransactionHistory.belongsTo(models.User);\n        models.User.hasMany(TransactionHistory);\n        TransactionHistory.belongsTo(models.Appointment);\n        models.Appointment.hasOne(TransactionHistory);\n      }\n    }]);\n\n    return TransactionHistory;\n  }(Model);\n\n  TransactionHistory.init({\n    userID: DataTypes.STRING,\n    appointmentID: DataTypes.STRING,\n    balance: DataTypes.FLOAT,\n    status: DataTypes.STRING\n  }, {\n    sequelize: sequelize,\n    modelName: \"TransactionHistory\"\n  });\n  return TransactionHistory;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRyYW5zYWN0aW9uSGlzdG9yeS5qcyJdLCJuYW1lcyI6WyJyZXF1aXJlIiwiTW9kZWwiLCJtb2R1bGUiLCJleHBvcnRzIiwic2VxdWVsaXplIiwiRGF0YVR5cGVzIiwiVHJhbnNhY3Rpb25IaXN0b3J5IiwibW9kZWxzIiwiYmVsb25nc1RvIiwiVXNlciIsImhhc01hbnkiLCJBcHBvaW50bWVudCIsImhhc09uZSIsImluaXQiLCJ1c2VySUQiLCJTVFJJTkciLCJhcHBvaW50bWVudElEIiwiYmFsYW5jZSIsIkZMT0FUIiwic3RhdHVzIiwibW9kZWxOYW1lIl0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQ0EsZUFBa0JBLE9BQU8sQ0FBQyxXQUFELENBQXpCO0FBQUEsSUFBUUMsS0FBUixZQUFRQSxLQUFSOztBQUNBQyxNQUFNLENBQUNDLE9BQVAsR0FBaUIsVUFBQ0MsU0FBRCxFQUFZQyxTQUFaLEVBQTBCO0FBQUEsTUFDbkNDLGtCQURtQztBQUFBOztBQUFBOztBQUFBO0FBQUE7O0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFFdkM7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNJLHlCQUFpQkMsTUFBakIsRUFBeUI7QUFDdkJELFFBQUFBLGtCQUFrQixDQUFDRSxTQUFuQixDQUE2QkQsTUFBTSxDQUFDRSxJQUFwQztBQUNBRixRQUFBQSxNQUFNLENBQUNFLElBQVAsQ0FBWUMsT0FBWixDQUFvQkosa0JBQXBCO0FBRUFBLFFBQUFBLGtCQUFrQixDQUFDRSxTQUFuQixDQUE2QkQsTUFBTSxDQUFDSSxXQUFwQztBQUNBSixRQUFBQSxNQUFNLENBQUNJLFdBQVAsQ0FBbUJDLE1BQW5CLENBQTBCTixrQkFBMUI7QUFDRDtBQWJzQzs7QUFBQTtBQUFBLElBQ1JMLEtBRFE7O0FBZXpDSyxFQUFBQSxrQkFBa0IsQ0FBQ08sSUFBbkIsQ0FDRTtBQUNFQyxJQUFBQSxNQUFNLEVBQUVULFNBQVMsQ0FBQ1UsTUFEcEI7QUFFRUMsSUFBQUEsYUFBYSxFQUFFWCxTQUFTLENBQUNVLE1BRjNCO0FBR0VFLElBQUFBLE9BQU8sRUFBRVosU0FBUyxDQUFDYSxLQUhyQjtBQUlFQyxJQUFBQSxNQUFNLEVBQUVkLFNBQVMsQ0FBQ1U7QUFKcEIsR0FERixFQU9FO0FBQ0VYLElBQUFBLFNBQVMsRUFBVEEsU0FERjtBQUVFZ0IsSUFBQUEsU0FBUyxFQUFFO0FBRmIsR0FQRjtBQVlBLFNBQU9kLGtCQUFQO0FBQ0QsQ0E1QkQiLCJzb3VyY2VSb290IjoiL1VzZXJzL21hYy9EZXNrdG9wL0ZpbmFsX1Byb2plY3RfRFRVL3NyYy9hcHAvbW9kZWxzLyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xyXG5jb25zdCB7IE1vZGVsIH0gPSByZXF1aXJlKFwic2VxdWVsaXplXCIpO1xyXG5tb2R1bGUuZXhwb3J0cyA9IChzZXF1ZWxpemUsIERhdGFUeXBlcykgPT4ge1xyXG4gIGNsYXNzIFRyYW5zYWN0aW9uSGlzdG9yeSBleHRlbmRzIE1vZGVsIHtcclxuICAgIC8qKlxyXG4gICAgICogSGVscGVyIG1ldGhvZCBmb3IgZGVmaW5pbmcgYXNzb2NpYXRpb25zLlxyXG4gICAgICogVGhpcyBtZXRob2QgaXMgbm90IGEgcGFydCBvZiBTZXF1ZWxpemUgbGlmZWN5Y2xlLlxyXG4gICAgICogVGhlIGBtb2RlbHMvaW5kZXhgIGZpbGUgd2lsbCBjYWxsIHRoaXMgbWV0aG9kIGF1dG9tYXRpY2FsbHkuXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBhc3NvY2lhdGUobW9kZWxzKSB7XHJcbiAgICAgIFRyYW5zYWN0aW9uSGlzdG9yeS5iZWxvbmdzVG8obW9kZWxzLlVzZXIpO1xyXG4gICAgICBtb2RlbHMuVXNlci5oYXNNYW55KFRyYW5zYWN0aW9uSGlzdG9yeSk7XHJcblxyXG4gICAgICBUcmFuc2FjdGlvbkhpc3RvcnkuYmVsb25nc1RvKG1vZGVscy5BcHBvaW50bWVudCk7XHJcbiAgICAgIG1vZGVscy5BcHBvaW50bWVudC5oYXNPbmUoVHJhbnNhY3Rpb25IaXN0b3J5KTtcclxuICAgIH1cclxuICB9XHJcbiAgVHJhbnNhY3Rpb25IaXN0b3J5LmluaXQoXHJcbiAgICB7XHJcbiAgICAgIHVzZXJJRDogRGF0YVR5cGVzLlNUUklORyxcclxuICAgICAgYXBwb2ludG1lbnRJRDogRGF0YVR5cGVzLlNUUklORyxcclxuICAgICAgYmFsYW5jZTogRGF0YVR5cGVzLkZMT0FULFxyXG4gICAgICBzdGF0dXM6IERhdGFUeXBlcy5TVFJJTkcsXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBzZXF1ZWxpemUsXHJcbiAgICAgIG1vZGVsTmFtZTogXCJUcmFuc2FjdGlvbkhpc3RvcnlcIixcclxuICAgIH1cclxuICApO1xyXG4gIHJldHVybiBUcmFuc2FjdGlvbkhpc3Rvcnk7XHJcbn07XHJcbiJdfQ==","map":{"version":3,"sources":["transactionHistory.js"],"names":["require","Model","module","exports","sequelize","DataTypes","TransactionHistory","models","belongsTo","User","hasMany","Appointment","hasOne","init","userID","STRING","appointmentID","balance","FLOAT","status","modelName"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;AACA,eAAkBA,OAAO,CAAC,WAAD,CAAzB;AAAA,IAAQC,KAAR,YAAQA,KAAR;;AACAC,MAAM,CAACC,OAAP,GAAiB,UAACC,SAAD,EAAYC,SAAZ,EAA0B;AAAA,MACnCC,kBADmC;AAAA;;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAEvC;AACJ;AACA;AACA;AACA;AACI,yBAAiBC,MAAjB,EAAyB;AACvBD,QAAAA,kBAAkB,CAACE,SAAnB,CAA6BD,MAAM,CAACE,IAApC;AACAF,QAAAA,MAAM,CAACE,IAAP,CAAYC,OAAZ,CAAoBJ,kBAApB;AAEAA,QAAAA,kBAAkB,CAACE,SAAnB,CAA6BD,MAAM,CAACI,WAApC;AACAJ,QAAAA,MAAM,CAACI,WAAP,CAAmBC,MAAnB,CAA0BN,kBAA1B;AACD;AAbsC;;AAAA;AAAA,IACRL,KADQ;;AAezCK,EAAAA,kBAAkB,CAACO,IAAnB,CACE;AACEC,IAAAA,MAAM,EAAET,SAAS,CAACU,MADpB;AAEEC,IAAAA,aAAa,EAAEX,SAAS,CAACU,MAF3B;AAGEE,IAAAA,OAAO,EAAEZ,SAAS,CAACa,KAHrB;AAIEC,IAAAA,MAAM,EAAEd,SAAS,CAACU;AAJpB,GADF,EAOE;AACEX,IAAAA,SAAS,EAATA,SADF;AAEEgB,IAAAA,SAAS,EAAE;AAFb,GAPF;AAYA,SAAOd,kBAAP;AACD,CA5BD","sourceRoot":"/Users/mac/Desktop/Final_Project_DTU/src/app/models/","sourcesContent":["\"use strict\";\r\nconst { Model } = require(\"sequelize\");\r\nmodule.exports = (sequelize, DataTypes) => {\r\n  class TransactionHistory extends Model {\r\n    /**\r\n     * Helper method for defining associations.\r\n     * This method is not a part of Sequelize lifecycle.\r\n     * The `models/index` file will call this method automatically.\r\n     */\r\n    static associate(models) {\r\n      TransactionHistory.belongsTo(models.User);\r\n      models.User.hasMany(TransactionHistory);\r\n\r\n      TransactionHistory.belongsTo(models.Appointment);\r\n      models.Appointment.hasOne(TransactionHistory);\r\n    }\r\n  }\r\n  TransactionHistory.init(\r\n    {\r\n      userID: DataTypes.STRING,\r\n      appointmentID: DataTypes.STRING,\r\n      balance: DataTypes.FLOAT,\r\n      status: DataTypes.STRING,\r\n    },\r\n    {\r\n      sequelize,\r\n      modelName: \"TransactionHistory\",\r\n    }\r\n  );\r\n  return TransactionHistory;\r\n};\r\n"]}},"mtime":1651628686000},"{\"sourceRoot\":\"/Users/mac/Desktop/Final_Project_DTU/src/app/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/mac/Desktop/Final_Project_DTU\",\"filename\":\"/Users/mac/Desktop/Final_Project_DTU/src/app/models/user.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/mac/Desktop/Final_Project_DTU\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nvar _require = require(\"sequelize\"),\n    Model = _require.Model;\n\nmodule.exports = function (sequelize, DataTypes) {\n  var User = /*#__PURE__*/function (_Model) {\n    _inherits(User, _Model);\n\n    var _super = _createSuper(User);\n\n    function User() {\n      _classCallCheck(this, User);\n\n      return _super.apply(this, arguments);\n    }\n\n    _createClass(User, null, [{\n      key: \"associate\",\n      value:\n      /**\r\n       * Helper method for defining associations.\r\n       * This method is not a part of Sequelize lifecycle.\r\n       * The `models/index` file will call this method automatically.\r\n       */\n      function associate(models) {\n        User.belongsTo(models.Resume);\n        models.Resume.hasOne(User);\n        User.belongsTo(models.Role);\n        models.Role.hasOne(User);\n        User.belongsTo(models.Clinic);\n        models.Clinic.hasOne(User);\n      }\n    }]);\n\n    return User;\n  }(Model);\n\n  User.init({\n    email: DataTypes.STRING,\n    firstName: DataTypes.STRING,\n    balance: DataTypes.FLOAT,\n    lastName: DataTypes.STRING,\n    image: DataTypes.STRING,\n    gender: DataTypes.BOOLEAN,\n    phoneNumber: DataTypes.STRING,\n    password: DataTypes.STRING,\n    resumeID: DataTypes.STRING,\n    clinicID: DataTypes.STRING,\n    roleID: DataTypes.INTEGER,\n    status: DataTypes.INTEGER,\n    address: DataTypes.STRING\n  }, {\n    sequelize: sequelize,\n    modelName: \"User\"\n  });\n  return User;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXIuanMiXSwibmFtZXMiOlsicmVxdWlyZSIsIk1vZGVsIiwibW9kdWxlIiwiZXhwb3J0cyIsInNlcXVlbGl6ZSIsIkRhdGFUeXBlcyIsIlVzZXIiLCJtb2RlbHMiLCJiZWxvbmdzVG8iLCJSZXN1bWUiLCJoYXNPbmUiLCJSb2xlIiwiQ2xpbmljIiwiaW5pdCIsImVtYWlsIiwiU1RSSU5HIiwiZmlyc3ROYW1lIiwiYmFsYW5jZSIsIkZMT0FUIiwibGFzdE5hbWUiLCJpbWFnZSIsImdlbmRlciIsIkJPT0xFQU4iLCJwaG9uZU51bWJlciIsInBhc3N3b3JkIiwicmVzdW1lSUQiLCJjbGluaWNJRCIsInJvbGVJRCIsIklOVEVHRVIiLCJzdGF0dXMiLCJhZGRyZXNzIiwibW9kZWxOYW1lIl0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQ0EsZUFBa0JBLE9BQU8sQ0FBQyxXQUFELENBQXpCO0FBQUEsSUFBUUMsS0FBUixZQUFRQSxLQUFSOztBQUNBQyxNQUFNLENBQUNDLE9BQVAsR0FBaUIsVUFBQ0MsU0FBRCxFQUFZQyxTQUFaLEVBQTBCO0FBQUEsTUFDbkNDLElBRG1DO0FBQUE7O0FBQUE7O0FBQUE7QUFBQTs7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUV2QztBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0kseUJBQWlCQyxNQUFqQixFQUF5QjtBQUN2QkQsUUFBQUEsSUFBSSxDQUFDRSxTQUFMLENBQWVELE1BQU0sQ0FBQ0UsTUFBdEI7QUFDQUYsUUFBQUEsTUFBTSxDQUFDRSxNQUFQLENBQWNDLE1BQWQsQ0FBcUJKLElBQXJCO0FBRUFBLFFBQUFBLElBQUksQ0FBQ0UsU0FBTCxDQUFlRCxNQUFNLENBQUNJLElBQXRCO0FBQ0FKLFFBQUFBLE1BQU0sQ0FBQ0ksSUFBUCxDQUFZRCxNQUFaLENBQW1CSixJQUFuQjtBQUVBQSxRQUFBQSxJQUFJLENBQUNFLFNBQUwsQ0FBZUQsTUFBTSxDQUFDSyxNQUF0QjtBQUNBTCxRQUFBQSxNQUFNLENBQUNLLE1BQVAsQ0FBY0YsTUFBZCxDQUFxQkosSUFBckI7QUFDRDtBQWhCc0M7O0FBQUE7QUFBQSxJQUN0QkwsS0FEc0I7O0FBa0J6Q0ssRUFBQUEsSUFBSSxDQUFDTyxJQUFMLENBQ0U7QUFDRUMsSUFBQUEsS0FBSyxFQUFFVCxTQUFTLENBQUNVLE1BRG5CO0FBRUVDLElBQUFBLFNBQVMsRUFBRVgsU0FBUyxDQUFDVSxNQUZ2QjtBQUdFRSxJQUFBQSxPQUFPLEVBQUVaLFNBQVMsQ0FBQ2EsS0FIckI7QUFJRUMsSUFBQUEsUUFBUSxFQUFFZCxTQUFTLENBQUNVLE1BSnRCO0FBS0VLLElBQUFBLEtBQUssRUFBRWYsU0FBUyxDQUFDVSxNQUxuQjtBQU1FTSxJQUFBQSxNQUFNLEVBQUVoQixTQUFTLENBQUNpQixPQU5wQjtBQU9FQyxJQUFBQSxXQUFXLEVBQUVsQixTQUFTLENBQUNVLE1BUHpCO0FBUUVTLElBQUFBLFFBQVEsRUFBRW5CLFNBQVMsQ0FBQ1UsTUFSdEI7QUFTRVUsSUFBQUEsUUFBUSxFQUFFcEIsU0FBUyxDQUFDVSxNQVR0QjtBQVVFVyxJQUFBQSxRQUFRLEVBQUVyQixTQUFTLENBQUNVLE1BVnRCO0FBV0VZLElBQUFBLE1BQU0sRUFBRXRCLFNBQVMsQ0FBQ3VCLE9BWHBCO0FBWUVDLElBQUFBLE1BQU0sRUFBRXhCLFNBQVMsQ0FBQ3VCLE9BWnBCO0FBYUVFLElBQUFBLE9BQU8sRUFBRXpCLFNBQVMsQ0FBQ1U7QUFickIsR0FERixFQWdCRTtBQUNFWCxJQUFBQSxTQUFTLEVBQVRBLFNBREY7QUFFRTJCLElBQUFBLFNBQVMsRUFBRTtBQUZiLEdBaEJGO0FBcUJBLFNBQU96QixJQUFQO0FBQ0QsQ0F4Q0QiLCJzb3VyY2VSb290IjoiL1VzZXJzL21hYy9EZXNrdG9wL0ZpbmFsX1Byb2plY3RfRFRVL3NyYy9hcHAvbW9kZWxzLyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xyXG5jb25zdCB7IE1vZGVsIH0gPSByZXF1aXJlKFwic2VxdWVsaXplXCIpO1xyXG5tb2R1bGUuZXhwb3J0cyA9IChzZXF1ZWxpemUsIERhdGFUeXBlcykgPT4ge1xyXG4gIGNsYXNzIFVzZXIgZXh0ZW5kcyBNb2RlbCB7XHJcbiAgICAvKipcclxuICAgICAqIEhlbHBlciBtZXRob2QgZm9yIGRlZmluaW5nIGFzc29jaWF0aW9ucy5cclxuICAgICAqIFRoaXMgbWV0aG9kIGlzIG5vdCBhIHBhcnQgb2YgU2VxdWVsaXplIGxpZmVjeWNsZS5cclxuICAgICAqIFRoZSBgbW9kZWxzL2luZGV4YCBmaWxlIHdpbGwgY2FsbCB0aGlzIG1ldGhvZCBhdXRvbWF0aWNhbGx5LlxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgYXNzb2NpYXRlKG1vZGVscykge1xyXG4gICAgICBVc2VyLmJlbG9uZ3NUbyhtb2RlbHMuUmVzdW1lKTtcclxuICAgICAgbW9kZWxzLlJlc3VtZS5oYXNPbmUoVXNlcik7XHJcblxyXG4gICAgICBVc2VyLmJlbG9uZ3NUbyhtb2RlbHMuUm9sZSk7XHJcbiAgICAgIG1vZGVscy5Sb2xlLmhhc09uZShVc2VyKTtcclxuXHJcbiAgICAgIFVzZXIuYmVsb25nc1RvKG1vZGVscy5DbGluaWMpO1xyXG4gICAgICBtb2RlbHMuQ2xpbmljLmhhc09uZShVc2VyKTtcclxuICAgIH1cclxuICB9XHJcbiAgVXNlci5pbml0KFxyXG4gICAge1xyXG4gICAgICBlbWFpbDogRGF0YVR5cGVzLlNUUklORyxcclxuICAgICAgZmlyc3ROYW1lOiBEYXRhVHlwZXMuU1RSSU5HLFxyXG4gICAgICBiYWxhbmNlOiBEYXRhVHlwZXMuRkxPQVQsXHJcbiAgICAgIGxhc3ROYW1lOiBEYXRhVHlwZXMuU1RSSU5HLFxyXG4gICAgICBpbWFnZTogRGF0YVR5cGVzLlNUUklORyxcclxuICAgICAgZ2VuZGVyOiBEYXRhVHlwZXMuQk9PTEVBTixcclxuICAgICAgcGhvbmVOdW1iZXI6IERhdGFUeXBlcy5TVFJJTkcsXHJcbiAgICAgIHBhc3N3b3JkOiBEYXRhVHlwZXMuU1RSSU5HLFxyXG4gICAgICByZXN1bWVJRDogRGF0YVR5cGVzLlNUUklORyxcclxuICAgICAgY2xpbmljSUQ6IERhdGFUeXBlcy5TVFJJTkcsXHJcbiAgICAgIHJvbGVJRDogRGF0YVR5cGVzLklOVEVHRVIsXHJcbiAgICAgIHN0YXR1czogRGF0YVR5cGVzLklOVEVHRVIsXHJcbiAgICAgIGFkZHJlc3M6IERhdGFUeXBlcy5TVFJJTkcsXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBzZXF1ZWxpemUsXHJcbiAgICAgIG1vZGVsTmFtZTogXCJVc2VyXCIsXHJcbiAgICB9XHJcbiAgKTtcclxuICByZXR1cm4gVXNlcjtcclxufTtcclxuIl19","map":{"version":3,"sources":["user.js"],"names":["require","Model","module","exports","sequelize","DataTypes","User","models","belongsTo","Resume","hasOne","Role","Clinic","init","email","STRING","firstName","balance","FLOAT","lastName","image","gender","BOOLEAN","phoneNumber","password","resumeID","clinicID","roleID","INTEGER","status","address","modelName"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;AACA,eAAkBA,OAAO,CAAC,WAAD,CAAzB;AAAA,IAAQC,KAAR,YAAQA,KAAR;;AACAC,MAAM,CAACC,OAAP,GAAiB,UAACC,SAAD,EAAYC,SAAZ,EAA0B;AAAA,MACnCC,IADmC;AAAA;;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAEvC;AACJ;AACA;AACA;AACA;AACI,yBAAiBC,MAAjB,EAAyB;AACvBD,QAAAA,IAAI,CAACE,SAAL,CAAeD,MAAM,CAACE,MAAtB;AACAF,QAAAA,MAAM,CAACE,MAAP,CAAcC,MAAd,CAAqBJ,IAArB;AAEAA,QAAAA,IAAI,CAACE,SAAL,CAAeD,MAAM,CAACI,IAAtB;AACAJ,QAAAA,MAAM,CAACI,IAAP,CAAYD,MAAZ,CAAmBJ,IAAnB;AAEAA,QAAAA,IAAI,CAACE,SAAL,CAAeD,MAAM,CAACK,MAAtB;AACAL,QAAAA,MAAM,CAACK,MAAP,CAAcF,MAAd,CAAqBJ,IAArB;AACD;AAhBsC;;AAAA;AAAA,IACtBL,KADsB;;AAkBzCK,EAAAA,IAAI,CAACO,IAAL,CACE;AACEC,IAAAA,KAAK,EAAET,SAAS,CAACU,MADnB;AAEEC,IAAAA,SAAS,EAAEX,SAAS,CAACU,MAFvB;AAGEE,IAAAA,OAAO,EAAEZ,SAAS,CAACa,KAHrB;AAIEC,IAAAA,QAAQ,EAAEd,SAAS,CAACU,MAJtB;AAKEK,IAAAA,KAAK,EAAEf,SAAS,CAACU,MALnB;AAMEM,IAAAA,MAAM,EAAEhB,SAAS,CAACiB,OANpB;AAOEC,IAAAA,WAAW,EAAElB,SAAS,CAACU,MAPzB;AAQES,IAAAA,QAAQ,EAAEnB,SAAS,CAACU,MARtB;AASEU,IAAAA,QAAQ,EAAEpB,SAAS,CAACU,MATtB;AAUEW,IAAAA,QAAQ,EAAErB,SAAS,CAACU,MAVtB;AAWEY,IAAAA,MAAM,EAAEtB,SAAS,CAACuB,OAXpB;AAYEC,IAAAA,MAAM,EAAExB,SAAS,CAACuB,OAZpB;AAaEE,IAAAA,OAAO,EAAEzB,SAAS,CAACU;AAbrB,GADF,EAgBE;AACEX,IAAAA,SAAS,EAATA,SADF;AAEE2B,IAAAA,SAAS,EAAE;AAFb,GAhBF;AAqBA,SAAOzB,IAAP;AACD,CAxCD","sourceRoot":"/Users/mac/Desktop/Final_Project_DTU/src/app/models/","sourcesContent":["\"use strict\";\r\nconst { Model } = require(\"sequelize\");\r\nmodule.exports = (sequelize, DataTypes) => {\r\n  class User extends Model {\r\n    /**\r\n     * Helper method for defining associations.\r\n     * This method is not a part of Sequelize lifecycle.\r\n     * The `models/index` file will call this method automatically.\r\n     */\r\n    static associate(models) {\r\n      User.belongsTo(models.Resume);\r\n      models.Resume.hasOne(User);\r\n\r\n      User.belongsTo(models.Role);\r\n      models.Role.hasOne(User);\r\n\r\n      User.belongsTo(models.Clinic);\r\n      models.Clinic.hasOne(User);\r\n    }\r\n  }\r\n  User.init(\r\n    {\r\n      email: DataTypes.STRING,\r\n      firstName: DataTypes.STRING,\r\n      balance: DataTypes.FLOAT,\r\n      lastName: DataTypes.STRING,\r\n      image: DataTypes.STRING,\r\n      gender: DataTypes.BOOLEAN,\r\n      phoneNumber: DataTypes.STRING,\r\n      password: DataTypes.STRING,\r\n      resumeID: DataTypes.STRING,\r\n      clinicID: DataTypes.STRING,\r\n      roleID: DataTypes.INTEGER,\r\n      status: DataTypes.INTEGER,\r\n      address: DataTypes.STRING,\r\n    },\r\n    {\r\n      sequelize,\r\n      modelName: \"User\",\r\n    }\r\n  );\r\n  return User;\r\n};\r\n"]}},"mtime":1651628686000},"{\"sourceRoot\":\"/Users/mac/Desktop/Final_Project_DTU/src/app/service/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/mac/Desktop/Final_Project_DTU\",\"filename\":\"/Users/mac/Desktop/Final_Project_DTU/src/app/service/NotificationService.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/mac/Desktop/Final_Project_DTU\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar _dateNow = require(\"../../util/dateNow\");\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar db = require(\"../models/index\");\n\nvar _require = require(\"uuid\"),\n    uuidv4 = _require.v4;\n\nvar getNotificationByUserID = function getNotificationByUserID(userID, roleID) {\n  return new Promise( /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(resolve, reject) {\n      var notifications;\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n\n              if (!(roleID === 2)) {\n                _context.next = 7;\n                break;\n              }\n\n              _context.next = 4;\n              return db.Notification.findAll({\n                where: {\n                  UserId: userID\n                },\n                raw: true,\n                order: [[\"createdAt\", \"DESC\"]]\n              });\n\n            case 4:\n              notifications = _context.sent;\n              _context.next = 11;\n              break;\n\n            case 7:\n              if (!(roleID === 3)) {\n                _context.next = 11;\n                break;\n              }\n\n              _context.next = 10;\n              return db.Notification.findAll({\n                where: {\n                  fromUserID: userID\n                },\n                raw: true,\n                order: [[\"createdAt\", \"DESC\"]]\n              });\n\n            case 10:\n              notifications = _context.sent;\n\n            case 11:\n              if (notifications) {\n                resolve(notifications);\n              } else {\n                resolve([]);\n              }\n\n              _context.next = 17;\n              break;\n\n            case 14:\n              _context.prev = 14;\n              _context.t0 = _context[\"catch\"](0);\n              reject(_context.t0);\n\n            case 17:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 14]]);\n    }));\n\n    return function (_x, _x2) {\n      return _ref.apply(this, arguments);\n    };\n  }());\n};\n\nvar createNotification = function createNotification(data) {\n  return new Promise( /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(resolve, reject) {\n      var newNotification;\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return db.Notification.create({\n                id: uuidv4(),\n                AppointmentId: data.appointmentId,\n                title: data.title,\n                content: data.content,\n                link: data.link,\n                fromUserID: data.fromUserID,\n                UserId: data.doctorID,\n                createdAt: new Date(),\n                updatedAt: new Date()\n              });\n\n            case 3:\n              newNotification = _context2.sent;\n              resolve(newNotification);\n              _context2.next = 10;\n              break;\n\n            case 7:\n              _context2.prev = 7;\n              _context2.t0 = _context2[\"catch\"](0);\n              reject(_context2.t0);\n\n            case 10:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[0, 7]]);\n    }));\n\n    return function (_x3, _x4) {\n      return _ref2.apply(this, arguments);\n    };\n  }());\n};\n\nmodule.exports = {\n  getNotificationByUserID: getNotificationByUserID,\n  createNotification: createNotification\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIk5vdGlmaWNhdGlvblNlcnZpY2UuanMiXSwibmFtZXMiOlsiZGIiLCJyZXF1aXJlIiwidXVpZHY0IiwidjQiLCJnZXROb3RpZmljYXRpb25CeVVzZXJJRCIsInVzZXJJRCIsInJvbGVJRCIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiTm90aWZpY2F0aW9uIiwiZmluZEFsbCIsIndoZXJlIiwiVXNlcklkIiwicmF3Iiwib3JkZXIiLCJub3RpZmljYXRpb25zIiwiZnJvbVVzZXJJRCIsImNyZWF0ZU5vdGlmaWNhdGlvbiIsImRhdGEiLCJjcmVhdGUiLCJpZCIsIkFwcG9pbnRtZW50SWQiLCJhcHBvaW50bWVudElkIiwidGl0bGUiLCJjb250ZW50IiwibGluayIsImRvY3RvcklEIiwiY3JlYXRlZEF0IiwiRGF0ZSIsInVwZGF0ZWRBdCIsIm5ld05vdGlmaWNhdGlvbiIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7O0FBRUE7Ozs7OztBQUZBLElBQU1BLEVBQUUsR0FBR0MsT0FBTyxDQUFDLGlCQUFELENBQWxCOztBQUNBLGVBQXVCQSxPQUFPLENBQUMsTUFBRCxDQUE5QjtBQUFBLElBQVlDLE1BQVosWUFBUUMsRUFBUjs7QUFFQSxJQUFJQyx1QkFBdUIsR0FBRyxTQUExQkEsdUJBQTBCLENBQUNDLE1BQUQsRUFBU0MsTUFBVCxFQUFvQjtBQUNoRCxTQUFPLElBQUlDLE9BQUo7QUFBQSx1RUFBWSxpQkFBT0MsT0FBUCxFQUFnQkMsTUFBaEI7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUEsb0JBR1hILE1BQU0sS0FBSyxDQUhBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUEscUJBSVNOLEVBQUUsQ0FBQ1UsWUFBSCxDQUFnQkMsT0FBaEIsQ0FBd0I7QUFDNUNDLGdCQUFBQSxLQUFLLEVBQUU7QUFBRUMsa0JBQUFBLE1BQU0sRUFBRVI7QUFBVixpQkFEcUM7QUFFNUNTLGdCQUFBQSxHQUFHLEVBQUUsSUFGdUM7QUFHNUNDLGdCQUFBQSxLQUFLLEVBQUUsQ0FBQyxDQUFDLFdBQUQsRUFBYyxNQUFkLENBQUQ7QUFIcUMsZUFBeEIsQ0FKVDs7QUFBQTtBQUliQyxjQUFBQSxhQUphO0FBQUE7QUFBQTs7QUFBQTtBQUFBLG9CQVNKVixNQUFNLEtBQUssQ0FUUDtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBLHFCQVVTTixFQUFFLENBQUNVLFlBQUgsQ0FBZ0JDLE9BQWhCLENBQXdCO0FBQzVDQyxnQkFBQUEsS0FBSyxFQUFFO0FBQUVLLGtCQUFBQSxVQUFVLEVBQUVaO0FBQWQsaUJBRHFDO0FBRTVDUyxnQkFBQUEsR0FBRyxFQUFFLElBRnVDO0FBRzVDQyxnQkFBQUEsS0FBSyxFQUFFLENBQUMsQ0FBQyxXQUFELEVBQWMsTUFBZCxDQUFEO0FBSHFDLGVBQXhCLENBVlQ7O0FBQUE7QUFVYkMsY0FBQUEsYUFWYTs7QUFBQTtBQWdCZixrQkFBSUEsYUFBSixFQUFtQjtBQUNqQlIsZ0JBQUFBLE9BQU8sQ0FBQ1EsYUFBRCxDQUFQO0FBQ0QsZUFGRCxNQUVPO0FBQ0xSLGdCQUFBQSxPQUFPLENBQUMsRUFBRCxDQUFQO0FBQ0Q7O0FBcEJjO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBc0JmQyxjQUFBQSxNQUFNLGFBQU47O0FBdEJlO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEtBQVo7O0FBQUE7QUFBQTtBQUFBO0FBQUEsTUFBUDtBQXlCRCxDQTFCRDs7QUEyQkEsSUFBSVMsa0JBQWtCLEdBQUcsU0FBckJBLGtCQUFxQixDQUFDQyxJQUFELEVBQVU7QUFDakMsU0FBTyxJQUFJWixPQUFKO0FBQUEsd0VBQVksa0JBQU9DLE9BQVAsRUFBZ0JDLE1BQWhCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxxQkFFYVQsRUFBRSxDQUFDVSxZQUFILENBQWdCVSxNQUFoQixDQUF1QjtBQUNqREMsZ0JBQUFBLEVBQUUsRUFBRW5CLE1BQU0sRUFEdUM7QUFFakRvQixnQkFBQUEsYUFBYSxFQUFFSCxJQUFJLENBQUNJLGFBRjZCO0FBR2pEQyxnQkFBQUEsS0FBSyxFQUFFTCxJQUFJLENBQUNLLEtBSHFDO0FBSWpEQyxnQkFBQUEsT0FBTyxFQUFFTixJQUFJLENBQUNNLE9BSm1DO0FBS2pEQyxnQkFBQUEsSUFBSSxFQUFFUCxJQUFJLENBQUNPLElBTHNDO0FBTWpEVCxnQkFBQUEsVUFBVSxFQUFFRSxJQUFJLENBQUNGLFVBTmdDO0FBT2pESixnQkFBQUEsTUFBTSxFQUFFTSxJQUFJLENBQUNRLFFBUG9DO0FBUWpEQyxnQkFBQUEsU0FBUyxFQUFFLElBQUlDLElBQUosRUFSc0M7QUFTakRDLGdCQUFBQSxTQUFTLEVBQUUsSUFBSUQsSUFBSjtBQVRzQyxlQUF2QixDQUZiOztBQUFBO0FBRVhFLGNBQUFBLGVBRlc7QUFjZnZCLGNBQUFBLE9BQU8sQ0FBQ3VCLGVBQUQsQ0FBUDtBQWRlO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBZ0JmdEIsY0FBQUEsTUFBTSxjQUFOOztBQWhCZTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxLQUFaOztBQUFBO0FBQUE7QUFBQTtBQUFBLE1BQVA7QUFtQkQsQ0FwQkQ7O0FBcUJBdUIsTUFBTSxDQUFDQyxPQUFQLEdBQWlCO0FBQ2Y3QixFQUFBQSx1QkFBdUIsRUFBdkJBLHVCQURlO0FBRWZjLEVBQUFBLGtCQUFrQixFQUFsQkE7QUFGZSxDQUFqQiIsInNvdXJjZVJvb3QiOiIvVXNlcnMvbWFjL0Rlc2t0b3AvRmluYWxfUHJvamVjdF9EVFUvc3JjL2FwcC9zZXJ2aWNlLyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGRiID0gcmVxdWlyZShcIi4uL21vZGVscy9pbmRleFwiKTtcclxuY29uc3QgeyB2NDogdXVpZHY0IH0gPSByZXF1aXJlKFwidXVpZFwiKTtcclxuaW1wb3J0IHsgZm9ybWF0RGF0ZSwgZ2V0VGltZU5vdyB9IGZyb20gXCIuLi8uLi91dGlsL2RhdGVOb3dcIjtcclxubGV0IGdldE5vdGlmaWNhdGlvbkJ5VXNlcklEID0gKHVzZXJJRCwgcm9sZUlEKSA9PiB7XHJcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGxldCBub3RpZmljYXRpb25zO1xyXG4gICAgICBpZiAocm9sZUlEID09PSAyKSB7XHJcbiAgICAgICAgbm90aWZpY2F0aW9ucyA9IGF3YWl0IGRiLk5vdGlmaWNhdGlvbi5maW5kQWxsKHtcclxuICAgICAgICAgIHdoZXJlOiB7IFVzZXJJZDogdXNlcklEIH0sXHJcbiAgICAgICAgICByYXc6IHRydWUsXHJcbiAgICAgICAgICBvcmRlcjogW1tcImNyZWF0ZWRBdFwiLCBcIkRFU0NcIl1dLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9IGVsc2UgaWYgKHJvbGVJRCA9PT0gMykge1xyXG4gICAgICAgIG5vdGlmaWNhdGlvbnMgPSBhd2FpdCBkYi5Ob3RpZmljYXRpb24uZmluZEFsbCh7XHJcbiAgICAgICAgICB3aGVyZTogeyBmcm9tVXNlcklEOiB1c2VySUQgfSxcclxuICAgICAgICAgIHJhdzogdHJ1ZSxcclxuICAgICAgICAgIG9yZGVyOiBbW1wiY3JlYXRlZEF0XCIsIFwiREVTQ1wiXV0sXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKG5vdGlmaWNhdGlvbnMpIHtcclxuICAgICAgICByZXNvbHZlKG5vdGlmaWNhdGlvbnMpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJlc29sdmUoW10pO1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIHJlamVjdChlKTtcclxuICAgIH1cclxuICB9KTtcclxufTtcclxubGV0IGNyZWF0ZU5vdGlmaWNhdGlvbiA9IChkYXRhKSA9PiB7XHJcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGxldCBuZXdOb3RpZmljYXRpb24gPSBhd2FpdCBkYi5Ob3RpZmljYXRpb24uY3JlYXRlKHtcclxuICAgICAgICBpZDogdXVpZHY0KCksXHJcbiAgICAgICAgQXBwb2ludG1lbnRJZDogZGF0YS5hcHBvaW50bWVudElkLFxyXG4gICAgICAgIHRpdGxlOiBkYXRhLnRpdGxlLFxyXG4gICAgICAgIGNvbnRlbnQ6IGRhdGEuY29udGVudCxcclxuICAgICAgICBsaW5rOiBkYXRhLmxpbmssXHJcbiAgICAgICAgZnJvbVVzZXJJRDogZGF0YS5mcm9tVXNlcklELFxyXG4gICAgICAgIFVzZXJJZDogZGF0YS5kb2N0b3JJRCxcclxuICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCksXHJcbiAgICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLFxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHJlc29sdmUobmV3Tm90aWZpY2F0aW9uKTtcclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgcmVqZWN0KGUpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59O1xyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICBnZXROb3RpZmljYXRpb25CeVVzZXJJRCxcclxuICBjcmVhdGVOb3RpZmljYXRpb24sXHJcbn07XHJcbiJdfQ==","map":{"version":3,"sources":["NotificationService.js"],"names":["db","require","uuidv4","v4","getNotificationByUserID","userID","roleID","Promise","resolve","reject","Notification","findAll","where","UserId","raw","order","notifications","fromUserID","createNotification","data","create","id","AppointmentId","appointmentId","title","content","link","doctorID","createdAt","Date","updatedAt","newNotification","module","exports"],"mappings":";;AAEA;;;;;;AAFA,IAAMA,EAAE,GAAGC,OAAO,CAAC,iBAAD,CAAlB;;AACA,eAAuBA,OAAO,CAAC,MAAD,CAA9B;AAAA,IAAYC,MAAZ,YAAQC,EAAR;;AAEA,IAAIC,uBAAuB,GAAG,SAA1BA,uBAA0B,CAACC,MAAD,EAASC,MAAT,EAAoB;AAChD,SAAO,IAAIC,OAAJ;AAAA,uEAAY,iBAAOC,OAAP,EAAgBC,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA,oBAGXH,MAAM,KAAK,CAHA;AAAA;AAAA;AAAA;;AAAA;AAAA,qBAISN,EAAE,CAACU,YAAH,CAAgBC,OAAhB,CAAwB;AAC5CC,gBAAAA,KAAK,EAAE;AAAEC,kBAAAA,MAAM,EAAER;AAAV,iBADqC;AAE5CS,gBAAAA,GAAG,EAAE,IAFuC;AAG5CC,gBAAAA,KAAK,EAAE,CAAC,CAAC,WAAD,EAAc,MAAd,CAAD;AAHqC,eAAxB,CAJT;;AAAA;AAIbC,cAAAA,aAJa;AAAA;AAAA;;AAAA;AAAA,oBASJV,MAAM,KAAK,CATP;AAAA;AAAA;AAAA;;AAAA;AAAA,qBAUSN,EAAE,CAACU,YAAH,CAAgBC,OAAhB,CAAwB;AAC5CC,gBAAAA,KAAK,EAAE;AAAEK,kBAAAA,UAAU,EAAEZ;AAAd,iBADqC;AAE5CS,gBAAAA,GAAG,EAAE,IAFuC;AAG5CC,gBAAAA,KAAK,EAAE,CAAC,CAAC,WAAD,EAAc,MAAd,CAAD;AAHqC,eAAxB,CAVT;;AAAA;AAUbC,cAAAA,aAVa;;AAAA;AAgBf,kBAAIA,aAAJ,EAAmB;AACjBR,gBAAAA,OAAO,CAACQ,aAAD,CAAP;AACD,eAFD,MAEO;AACLR,gBAAAA,OAAO,CAAC,EAAD,CAAP;AACD;;AApBc;AAAA;;AAAA;AAAA;AAAA;AAsBfC,cAAAA,MAAM,aAAN;;AAtBe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAZ;;AAAA;AAAA;AAAA;AAAA,MAAP;AAyBD,CA1BD;;AA2BA,IAAIS,kBAAkB,GAAG,SAArBA,kBAAqB,CAACC,IAAD,EAAU;AACjC,SAAO,IAAIZ,OAAJ;AAAA,wEAAY,kBAAOC,OAAP,EAAgBC,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAEaT,EAAE,CAACU,YAAH,CAAgBU,MAAhB,CAAuB;AACjDC,gBAAAA,EAAE,EAAEnB,MAAM,EADuC;AAEjDoB,gBAAAA,aAAa,EAAEH,IAAI,CAACI,aAF6B;AAGjDC,gBAAAA,KAAK,EAAEL,IAAI,CAACK,KAHqC;AAIjDC,gBAAAA,OAAO,EAAEN,IAAI,CAACM,OAJmC;AAKjDC,gBAAAA,IAAI,EAAEP,IAAI,CAACO,IALsC;AAMjDT,gBAAAA,UAAU,EAAEE,IAAI,CAACF,UANgC;AAOjDJ,gBAAAA,MAAM,EAAEM,IAAI,CAACQ,QAPoC;AAQjDC,gBAAAA,SAAS,EAAE,IAAIC,IAAJ,EARsC;AASjDC,gBAAAA,SAAS,EAAE,IAAID,IAAJ;AATsC,eAAvB,CAFb;;AAAA;AAEXE,cAAAA,eAFW;AAcfvB,cAAAA,OAAO,CAACuB,eAAD,CAAP;AAde;AAAA;;AAAA;AAAA;AAAA;AAgBftB,cAAAA,MAAM,cAAN;;AAhBe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAZ;;AAAA;AAAA;AAAA;AAAA,MAAP;AAmBD,CApBD;;AAqBAuB,MAAM,CAACC,OAAP,GAAiB;AACf7B,EAAAA,uBAAuB,EAAvBA,uBADe;AAEfc,EAAAA,kBAAkB,EAAlBA;AAFe,CAAjB","sourceRoot":"/Users/mac/Desktop/Final_Project_DTU/src/app/service/","sourcesContent":["const db = require(\"../models/index\");\r\nconst { v4: uuidv4 } = require(\"uuid\");\r\nimport { formatDate, getTimeNow } from \"../../util/dateNow\";\r\nlet getNotificationByUserID = (userID, roleID) => {\r\n  return new Promise(async (resolve, reject) => {\r\n    try {\r\n      let notifications;\r\n      if (roleID === 2) {\r\n        notifications = await db.Notification.findAll({\r\n          where: { UserId: userID },\r\n          raw: true,\r\n          order: [[\"createdAt\", \"DESC\"]],\r\n        });\r\n      } else if (roleID === 3) {\r\n        notifications = await db.Notification.findAll({\r\n          where: { fromUserID: userID },\r\n          raw: true,\r\n          order: [[\"createdAt\", \"DESC\"]],\r\n        });\r\n      }\r\n      if (notifications) {\r\n        resolve(notifications);\r\n      } else {\r\n        resolve([]);\r\n      }\r\n    } catch (e) {\r\n      reject(e);\r\n    }\r\n  });\r\n};\r\nlet createNotification = (data) => {\r\n  return new Promise(async (resolve, reject) => {\r\n    try {\r\n      let newNotification = await db.Notification.create({\r\n        id: uuidv4(),\r\n        AppointmentId: data.appointmentId,\r\n        title: data.title,\r\n        content: data.content,\r\n        link: data.link,\r\n        fromUserID: data.fromUserID,\r\n        UserId: data.doctorID,\r\n        createdAt: new Date(),\r\n        updatedAt: new Date(),\r\n      });\r\n\r\n      resolve(newNotification);\r\n    } catch (e) {\r\n      reject(e);\r\n    }\r\n  });\r\n};\r\nmodule.exports = {\r\n  getNotificationByUserID,\r\n  createNotification,\r\n};\r\n"]}},"mtime":1651649312000},"{\"sourceRoot\":\"/Users/mac/Desktop/Final_Project_DTU/src/util/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/mac/Desktop/Final_Project_DTU\",\"filename\":\"/Users/mac/Desktop/Final_Project_DTU/src/util/dateNow.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/mac/Desktop/Final_Project_DTU\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar formatDate = function formatDate(date) {\n  var d = new Date(date),\n      month = \"\" + (d.getMonth() + 1),\n      day = \"\" + d.getDate(),\n      year = d.getFullYear();\n  if (month.length < 2) month = \"0\" + month;\n  if (day.length < 2) day = \"0\" + day;\n  return [year, month, day].join(\"-\");\n};\n\nvar getTimeNow = function getTimeNow() {\n  var time = new Date();\n  var timeNow = (\"0\" + time.getHours()).slice(-2) + \":\" + (\"0\" + time.getMinutes()).slice(-2) + \":\" + (\"0\" + time.getSeconds()).slice(-2);\n  return timeNow;\n};\n\nmodule.exports = {\n  formatDate: formatDate,\n  getTimeNow: getTimeNow\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRhdGVOb3cuanMiXSwibmFtZXMiOlsiZm9ybWF0RGF0ZSIsImRhdGUiLCJkIiwiRGF0ZSIsIm1vbnRoIiwiZ2V0TW9udGgiLCJkYXkiLCJnZXREYXRlIiwieWVhciIsImdldEZ1bGxZZWFyIiwibGVuZ3RoIiwiam9pbiIsImdldFRpbWVOb3ciLCJ0aW1lIiwidGltZU5vdyIsImdldEhvdXJzIiwic2xpY2UiLCJnZXRNaW51dGVzIiwiZ2V0U2Vjb25kcyIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBSUEsVUFBVSxHQUFHLFNBQWJBLFVBQWEsQ0FBQ0MsSUFBRCxFQUFVO0FBQ3pCLE1BQUlDLENBQUMsR0FBRyxJQUFJQyxJQUFKLENBQVNGLElBQVQsQ0FBUjtBQUFBLE1BQ0VHLEtBQUssR0FBRyxNQUFNRixDQUFDLENBQUNHLFFBQUYsS0FBZSxDQUFyQixDQURWO0FBQUEsTUFFRUMsR0FBRyxHQUFHLEtBQUtKLENBQUMsQ0FBQ0ssT0FBRixFQUZiO0FBQUEsTUFHRUMsSUFBSSxHQUFHTixDQUFDLENBQUNPLFdBQUYsRUFIVDtBQUtBLE1BQUlMLEtBQUssQ0FBQ00sTUFBTixHQUFlLENBQW5CLEVBQXNCTixLQUFLLEdBQUcsTUFBTUEsS0FBZDtBQUN0QixNQUFJRSxHQUFHLENBQUNJLE1BQUosR0FBYSxDQUFqQixFQUFvQkosR0FBRyxHQUFHLE1BQU1BLEdBQVo7QUFFcEIsU0FBTyxDQUFDRSxJQUFELEVBQU9KLEtBQVAsRUFBY0UsR0FBZCxFQUFtQkssSUFBbkIsQ0FBd0IsR0FBeEIsQ0FBUDtBQUNELENBVkQ7O0FBV0EsSUFBSUMsVUFBVSxHQUFHLFNBQWJBLFVBQWEsR0FBTTtBQUNyQixNQUFJQyxJQUFJLEdBQUcsSUFBSVYsSUFBSixFQUFYO0FBQ0EsTUFBSVcsT0FBTyxHQUNULENBQUMsTUFBTUQsSUFBSSxDQUFDRSxRQUFMLEVBQVAsRUFBd0JDLEtBQXhCLENBQThCLENBQUMsQ0FBL0IsSUFDQSxHQURBLEdBRUEsQ0FBQyxNQUFNSCxJQUFJLENBQUNJLFVBQUwsRUFBUCxFQUEwQkQsS0FBMUIsQ0FBZ0MsQ0FBQyxDQUFqQyxDQUZBLEdBR0EsR0FIQSxHQUlBLENBQUMsTUFBTUgsSUFBSSxDQUFDSyxVQUFMLEVBQVAsRUFBMEJGLEtBQTFCLENBQWdDLENBQUMsQ0FBakMsQ0FMRjtBQU1BLFNBQU9GLE9BQVA7QUFDRCxDQVREOztBQVVBSyxNQUFNLENBQUNDLE9BQVAsR0FBaUI7QUFDZnBCLEVBQUFBLFVBQVUsRUFBVkEsVUFEZTtBQUVmWSxFQUFBQSxVQUFVLEVBQVZBO0FBRmUsQ0FBakIiLCJzb3VyY2VSb290IjoiL1VzZXJzL21hYy9EZXNrdG9wL0ZpbmFsX1Byb2plY3RfRFRVL3NyYy91dGlsLyIsInNvdXJjZXNDb250ZW50IjpbImxldCBmb3JtYXREYXRlID0gKGRhdGUpID0+IHtcclxuICBsZXQgZCA9IG5ldyBEYXRlKGRhdGUpLFxyXG4gICAgbW9udGggPSBcIlwiICsgKGQuZ2V0TW9udGgoKSArIDEpLFxyXG4gICAgZGF5ID0gXCJcIiArIGQuZ2V0RGF0ZSgpLFxyXG4gICAgeWVhciA9IGQuZ2V0RnVsbFllYXIoKTtcclxuXHJcbiAgaWYgKG1vbnRoLmxlbmd0aCA8IDIpIG1vbnRoID0gXCIwXCIgKyBtb250aDtcclxuICBpZiAoZGF5Lmxlbmd0aCA8IDIpIGRheSA9IFwiMFwiICsgZGF5O1xyXG5cclxuICByZXR1cm4gW3llYXIsIG1vbnRoLCBkYXldLmpvaW4oXCItXCIpO1xyXG59O1xyXG5sZXQgZ2V0VGltZU5vdyA9ICgpID0+IHtcclxuICBsZXQgdGltZSA9IG5ldyBEYXRlKCk7XHJcbiAgbGV0IHRpbWVOb3cgPVxyXG4gICAgKFwiMFwiICsgdGltZS5nZXRIb3VycygpKS5zbGljZSgtMikgK1xyXG4gICAgXCI6XCIgK1xyXG4gICAgKFwiMFwiICsgdGltZS5nZXRNaW51dGVzKCkpLnNsaWNlKC0yKSArXHJcbiAgICBcIjpcIiArXHJcbiAgICAoXCIwXCIgKyB0aW1lLmdldFNlY29uZHMoKSkuc2xpY2UoLTIpO1xyXG4gIHJldHVybiB0aW1lTm93O1xyXG59O1xyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICBmb3JtYXREYXRlLFxyXG4gIGdldFRpbWVOb3csXHJcbn07XHJcbiJdfQ==","map":{"version":3,"sources":["dateNow.js"],"names":["formatDate","date","d","Date","month","getMonth","day","getDate","year","getFullYear","length","join","getTimeNow","time","timeNow","getHours","slice","getMinutes","getSeconds","module","exports"],"mappings":";;AAAA,IAAIA,UAAU,GAAG,SAAbA,UAAa,CAACC,IAAD,EAAU;AACzB,MAAIC,CAAC,GAAG,IAAIC,IAAJ,CAASF,IAAT,CAAR;AAAA,MACEG,KAAK,GAAG,MAAMF,CAAC,CAACG,QAAF,KAAe,CAArB,CADV;AAAA,MAEEC,GAAG,GAAG,KAAKJ,CAAC,CAACK,OAAF,EAFb;AAAA,MAGEC,IAAI,GAAGN,CAAC,CAACO,WAAF,EAHT;AAKA,MAAIL,KAAK,CAACM,MAAN,GAAe,CAAnB,EAAsBN,KAAK,GAAG,MAAMA,KAAd;AACtB,MAAIE,GAAG,CAACI,MAAJ,GAAa,CAAjB,EAAoBJ,GAAG,GAAG,MAAMA,GAAZ;AAEpB,SAAO,CAACE,IAAD,EAAOJ,KAAP,EAAcE,GAAd,EAAmBK,IAAnB,CAAwB,GAAxB,CAAP;AACD,CAVD;;AAWA,IAAIC,UAAU,GAAG,SAAbA,UAAa,GAAM;AACrB,MAAIC,IAAI,GAAG,IAAIV,IAAJ,EAAX;AACA,MAAIW,OAAO,GACT,CAAC,MAAMD,IAAI,CAACE,QAAL,EAAP,EAAwBC,KAAxB,CAA8B,CAAC,CAA/B,IACA,GADA,GAEA,CAAC,MAAMH,IAAI,CAACI,UAAL,EAAP,EAA0BD,KAA1B,CAAgC,CAAC,CAAjC,CAFA,GAGA,GAHA,GAIA,CAAC,MAAMH,IAAI,CAACK,UAAL,EAAP,EAA0BF,KAA1B,CAAgC,CAAC,CAAjC,CALF;AAMA,SAAOF,OAAP;AACD,CATD;;AAUAK,MAAM,CAACC,OAAP,GAAiB;AACfpB,EAAAA,UAAU,EAAVA,UADe;AAEfY,EAAAA,UAAU,EAAVA;AAFe,CAAjB","sourceRoot":"/Users/mac/Desktop/Final_Project_DTU/src/util/","sourcesContent":["let formatDate = (date) => {\r\n  let d = new Date(date),\r\n    month = \"\" + (d.getMonth() + 1),\r\n    day = \"\" + d.getDate(),\r\n    year = d.getFullYear();\r\n\r\n  if (month.length < 2) month = \"0\" + month;\r\n  if (day.length < 2) day = \"0\" + day;\r\n\r\n  return [year, month, day].join(\"-\");\r\n};\r\nlet getTimeNow = () => {\r\n  let time = new Date();\r\n  let timeNow =\r\n    (\"0\" + time.getHours()).slice(-2) +\r\n    \":\" +\r\n    (\"0\" + time.getMinutes()).slice(-2) +\r\n    \":\" +\r\n    (\"0\" + time.getSeconds()).slice(-2);\r\n  return timeNow;\r\n};\r\nmodule.exports = {\r\n  formatDate,\r\n  getTimeNow,\r\n};\r\n"]}},"mtime":1651628686000},"{\"sourceRoot\":\"/Users/mac/Desktop/Final_Project_DTU/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/mac/Desktop/Final_Project_DTU\",\"filename\":\"/Users/mac/Desktop/Final_Project_DTU/src/routes/site.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/mac/Desktop/Final_Project_DTU\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar express = require(\"express\");\n\nvar router = express.Router();\n\nvar multer = require(\"multer\");\n\nvar upload = multer({\n  dest: \"src/public/uploads/\"\n});\n\nvar siteController = require(\"../app/controllers/SiteController\");\n\nrouter.get(\"/clinics/:clinicId\", siteController.displayDoctors);\nrouter.get(\"/detailDoctor/:doctorId\", siteController.doctorDetail);\nrouter.use(\"/allDoctor\", siteController.searchAllDoctor);\nrouter.use(\"/allClinic\", siteController.searchAllClinic);\nrouter.use(\"/\", siteController.index);\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNpdGUuanMiXSwibmFtZXMiOlsiZXhwcmVzcyIsInJlcXVpcmUiLCJyb3V0ZXIiLCJSb3V0ZXIiLCJtdWx0ZXIiLCJ1cGxvYWQiLCJkZXN0Iiwic2l0ZUNvbnRyb2xsZXIiLCJnZXQiLCJkaXNwbGF5RG9jdG9ycyIsImRvY3RvckRldGFpbCIsInVzZSIsInNlYXJjaEFsbERvY3RvciIsInNlYXJjaEFsbENsaW5pYyIsImluZGV4IiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFJQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQyxTQUFELENBQXJCOztBQUNBLElBQUlDLE1BQU0sR0FBR0YsT0FBTyxDQUFDRyxNQUFSLEVBQWI7O0FBQ0EsSUFBSUMsTUFBTSxHQUFHSCxPQUFPLENBQUMsUUFBRCxDQUFwQjs7QUFDQSxJQUFNSSxNQUFNLEdBQUdELE1BQU0sQ0FBQztBQUNwQkUsRUFBQUEsSUFBSSxFQUFFO0FBRGMsQ0FBRCxDQUFyQjs7QUFJQSxJQUFNQyxjQUFjLEdBQUdOLE9BQU8sQ0FBQyxtQ0FBRCxDQUE5Qjs7QUFDQUMsTUFBTSxDQUFDTSxHQUFQLENBQVcsb0JBQVgsRUFBaUNELGNBQWMsQ0FBQ0UsY0FBaEQ7QUFDQVAsTUFBTSxDQUFDTSxHQUFQLENBQVcseUJBQVgsRUFBc0NELGNBQWMsQ0FBQ0csWUFBckQ7QUFDQVIsTUFBTSxDQUFDUyxHQUFQLENBQVcsWUFBWCxFQUF5QkosY0FBYyxDQUFDSyxlQUF4QztBQUNBVixNQUFNLENBQUNTLEdBQVAsQ0FBVyxZQUFYLEVBQXlCSixjQUFjLENBQUNNLGVBQXhDO0FBQ0FYLE1BQU0sQ0FBQ1MsR0FBUCxDQUFXLEdBQVgsRUFBZ0JKLGNBQWMsQ0FBQ08sS0FBL0I7QUFDQUMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCZCxNQUFqQiIsInNvdXJjZVJvb3QiOiIvVXNlcnMvbWFjL0Rlc2t0b3AvRmluYWxfUHJvamVjdF9EVFUvc3JjL3JvdXRlcy8iLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZXhwcmVzcyA9IHJlcXVpcmUoXCJleHByZXNzXCIpO1xyXG52YXIgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcclxubGV0IG11bHRlciA9IHJlcXVpcmUoXCJtdWx0ZXJcIik7XHJcbmNvbnN0IHVwbG9hZCA9IG11bHRlcih7XHJcbiAgZGVzdDogXCJzcmMvcHVibGljL3VwbG9hZHMvXCIsXHJcbn0pO1xyXG5cclxuY29uc3Qgc2l0ZUNvbnRyb2xsZXIgPSByZXF1aXJlKFwiLi4vYXBwL2NvbnRyb2xsZXJzL1NpdGVDb250cm9sbGVyXCIpO1xyXG5yb3V0ZXIuZ2V0KFwiL2NsaW5pY3MvOmNsaW5pY0lkXCIsIHNpdGVDb250cm9sbGVyLmRpc3BsYXlEb2N0b3JzKTtcclxucm91dGVyLmdldChcIi9kZXRhaWxEb2N0b3IvOmRvY3RvcklkXCIsIHNpdGVDb250cm9sbGVyLmRvY3RvckRldGFpbCk7XHJcbnJvdXRlci51c2UoXCIvYWxsRG9jdG9yXCIsIHNpdGVDb250cm9sbGVyLnNlYXJjaEFsbERvY3Rvcilcclxucm91dGVyLnVzZShcIi9hbGxDbGluaWNcIiwgc2l0ZUNvbnRyb2xsZXIuc2VhcmNoQWxsQ2xpbmljKVxyXG5yb3V0ZXIudXNlKFwiL1wiLCBzaXRlQ29udHJvbGxlci5pbmRleCk7XHJcbm1vZHVsZS5leHBvcnRzID0gcm91dGVyO1xyXG4iXX0=","map":{"version":3,"sources":["site.js"],"names":["express","require","router","Router","multer","upload","dest","siteController","get","displayDoctors","doctorDetail","use","searchAllDoctor","searchAllClinic","index","module","exports"],"mappings":";;AAAA,IAAIA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAArB;;AACA,IAAIC,MAAM,GAAGF,OAAO,CAACG,MAAR,EAAb;;AACA,IAAIC,MAAM,GAAGH,OAAO,CAAC,QAAD,CAApB;;AACA,IAAMI,MAAM,GAAGD,MAAM,CAAC;AACpBE,EAAAA,IAAI,EAAE;AADc,CAAD,CAArB;;AAIA,IAAMC,cAAc,GAAGN,OAAO,CAAC,mCAAD,CAA9B;;AACAC,MAAM,CAACM,GAAP,CAAW,oBAAX,EAAiCD,cAAc,CAACE,cAAhD;AACAP,MAAM,CAACM,GAAP,CAAW,yBAAX,EAAsCD,cAAc,CAACG,YAArD;AACAR,MAAM,CAACS,GAAP,CAAW,YAAX,EAAyBJ,cAAc,CAACK,eAAxC;AACAV,MAAM,CAACS,GAAP,CAAW,YAAX,EAAyBJ,cAAc,CAACM,eAAxC;AACAX,MAAM,CAACS,GAAP,CAAW,GAAX,EAAgBJ,cAAc,CAACO,KAA/B;AACAC,MAAM,CAACC,OAAP,GAAiBd,MAAjB","sourceRoot":"/Users/mac/Desktop/Final_Project_DTU/src/routes/","sourcesContent":["var express = require(\"express\");\r\nvar router = express.Router();\r\nlet multer = require(\"multer\");\r\nconst upload = multer({\r\n  dest: \"src/public/uploads/\",\r\n});\r\n\r\nconst siteController = require(\"../app/controllers/SiteController\");\r\nrouter.get(\"/clinics/:clinicId\", siteController.displayDoctors);\r\nrouter.get(\"/detailDoctor/:doctorId\", siteController.doctorDetail);\r\nrouter.use(\"/allDoctor\", siteController.searchAllDoctor)\r\nrouter.use(\"/allClinic\", siteController.searchAllClinic)\r\nrouter.use(\"/\", siteController.index);\r\nmodule.exports = router;\r\n"]}},"mtime":1651628686000},"{\"sourceRoot\":\"/Users/mac/Desktop/Final_Project_DTU/src/app/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/mac/Desktop/Final_Project_DTU\",\"filename\":\"/Users/mac/Desktop/Final_Project_DTU/src/app/controllers/SiteController.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/mac/Desktop/Final_Project_DTU\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar _dateNow = require(\"../../util/dateNow\");\n\nvar _ClinicService = require(\"../service/ClinicService\");\n\nvar _ServiceService = require(\"../service/ServiceService\");\n\nvar _DoctorService = require(\"../service/DoctorService\");\n\nvar _AppoinmentService = require(\"../service/AppoinmentService\");\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nvar express = require(\"express\");\n\nvar router = express.Router();\n\nvar SiteController = /*#__PURE__*/function () {\n  function SiteController() {\n    _classCallCheck(this, SiteController);\n  }\n\n  _createClass(SiteController, [{\n    key: \"index\",\n    value: function () {\n      var _index = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(req, res, next) {\n        var data, clinics, doctors, doctorsWithClinicName, _iterator, _step, e;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return (0, _ClinicService.findAllClinicAnDoctorWithClinic)();\n\n              case 3:\n                data = _context.sent;\n                clinics = data[0];\n                doctors = data[1];\n                doctorsWithClinicName = [];\n                _iterator = _createForOfIteratorHelper(doctors);\n\n                try {\n                  for (_iterator.s(); !(_step = _iterator.n()).done;) {\n                    e = _step.value;\n                    e.clinicName = e[\"Clinic.name\"];\n                    doctorsWithClinicName.push(e);\n                  }\n                } catch (err) {\n                  _iterator.e(err);\n                } finally {\n                  _iterator.f();\n                }\n\n                res.render(\"user/home\", {\n                  clinics: clinics,\n                  doctors: doctorsWithClinicName\n                });\n                _context.next = 15;\n                break;\n\n              case 12:\n                _context.prev = 12;\n                _context.t0 = _context[\"catch\"](0);\n                console.log(_context.t0);\n\n              case 15:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[0, 12]]);\n      }));\n\n      function index(_x, _x2, _x3) {\n        return _index.apply(this, arguments);\n      }\n\n      return index;\n    }()\n  }, {\n    key: \"displayDoctors\",\n    value: function () {\n      var _displayDoctors = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(req, res, next) {\n        var clinicId, doctors, clinic, listDoctorsRender, _iterator2, _step2, e;\n\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                clinicId = req.params.clinicId;\n                _context2.next = 3;\n                return (0, _DoctorService.getDoctorByClinicId)(clinicId);\n\n              case 3:\n                doctors = _context2.sent;\n                _context2.next = 6;\n                return (0, _ClinicService.getClinicById)(clinicId);\n\n              case 6:\n                clinic = _context2.sent;\n                listDoctorsRender = [];\n                _iterator2 = _createForOfIteratorHelper(doctors);\n\n                try {\n                  for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n                    e = _step2.value;\n                    e.clinicName = e[\"Clinic.name\"];\n                    listDoctorsRender.push(e);\n                  } //res.send(doctors);\n\n                } catch (err) {\n                  _iterator2.e(err);\n                } finally {\n                  _iterator2.f();\n                }\n\n                res.render(\"user/doctorFollowClinic\", {\n                  doctors: listDoctorsRender,\n                  clinic: clinic\n                });\n\n              case 11:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      function displayDoctors(_x4, _x5, _x6) {\n        return _displayDoctors.apply(this, arguments);\n      }\n\n      return displayDoctors;\n    }()\n  }, {\n    key: \"doctorDetail\",\n    value: function () {\n      var _doctorDetail = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(req, res, next) {\n        var doctorId, serviceFee, timeWorks, result, doctor, doctorSchedules, filterTimeWork, i, _i, j;\n\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.prev = 0;\n                doctorId = req.params.doctorId;\n                _context3.next = 4;\n                return (0, _ServiceService.getServiceByDoctorId)(doctorId);\n\n              case 4:\n                serviceFee = _context3.sent;\n                timeWorks = [{\n                  id: doctorId,\n                  startTime: \"08:00:00\",\n                  endTime: \"10:00:00\",\n                  serviceFee: serviceFee.fee\n                }, {\n                  id: doctorId,\n                  startTime: \"10:00:00\",\n                  endTime: \"12:00:00\",\n                  serviceFee: serviceFee.fee\n                }, {\n                  id: doctorId,\n                  startTime: \"13:00:00\",\n                  endTime: \"15:00:00\",\n                  serviceFee: serviceFee.fee\n                }, {\n                  id: doctorId,\n                  startTime: \"15:00:00\",\n                  endTime: \"17:00:00\",\n                  serviceFee: serviceFee.fee\n                }, {\n                  id: doctorId,\n                  startTime: \"18:00:00\",\n                  endTime: \"20:00:00\",\n                  serviceFee: serviceFee.fee\n                }, {\n                  id: doctorId,\n                  startTime: \"20:00:00\",\n                  endTime: \"22:00:00\",\n                  serviceFee: serviceFee.fee\n                }];\n                _context3.next = 8;\n                return (0, _DoctorService.getDoctorAppointmentAndResumeById)(doctorId);\n\n              case 8:\n                result = _context3.sent;\n                doctor = result[0];\n                doctorSchedules = result[1];\n                doctor.resumeDescription = doctor[\"Resume.description\"];\n                doctor.resumeStarNo = doctor[\"Resume.starNo\"];\n                doctor.clinicName = doctor[\"Clinic.name\"]; //check time book with time now\n\n                filterTimeWork = [];\n\n                for (i = 0; i < timeWorks.length; i++) {\n                  if (timeWorks[i].startTime <= (0, _dateNow.getTimeNow)()) {\n                    filterTimeWork.push(timeWorks[i]);\n                  }\n                } // check time book not match with time work\n\n\n                _i = 0;\n\n              case 17:\n                if (!(_i < filterTimeWork.length)) {\n                  _context3.next = 31;\n                  break;\n                }\n\n                j = 0;\n\n              case 19:\n                if (!(j < doctorSchedules.length)) {\n                  _context3.next = 28;\n                  break;\n                }\n\n                if (!(filterTimeWork.length > 0)) {\n                  _context3.next = 24;\n                  break;\n                }\n\n                if (doctorSchedules[j].startTime == filterTimeWork[_i].startTime) {\n                  filterTimeWork.splice(_i, 1);\n                }\n\n                _context3.next = 25;\n                break;\n\n              case 24:\n                return _context3.abrupt(\"break\", 28);\n\n              case 25:\n                j++;\n                _context3.next = 19;\n                break;\n\n              case 28:\n                _i++;\n                _context3.next = 17;\n                break;\n\n              case 31:\n                console.log(result);\n                res.render(\"user/detailDoctor\", {\n                  doctor: doctor,\n                  timeWorks: filterTimeWork,\n                  serviceFee: serviceFee,\n                  messageBooking: req.session.messageBooking\n                }); // res.send(doctor);\n                //clear message\n\n                req.session.messageBooking = null;\n                _context3.next = 39;\n                break;\n\n              case 36:\n                _context3.prev = 36;\n                _context3.t0 = _context3[\"catch\"](0);\n                console.log(_context3.t0);\n\n              case 39:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, null, [[0, 36]]);\n      }));\n\n      function doctorDetail(_x7, _x8, _x9) {\n        return _doctorDetail.apply(this, arguments);\n      }\n\n      return doctorDetail;\n    }()\n  }, {\n    key: \"searchAllDoctor\",\n    value: function () {\n      var _searchAllDoctor = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(req, res, next) {\n        var doctors, listDoctorRender, _iterator3, _step3, e;\n\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return (0, _DoctorService.getAllDoctorClinicAndReview)();\n\n              case 2:\n                doctors = _context4.sent;\n                listDoctorRender = [];\n                _iterator3 = _createForOfIteratorHelper(doctors);\n\n                try {\n                  for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n                    e = _step3.value;\n                    e.clinicName = e[\"Clinic.name\"];\n                    e.starNo = e[\"Reviews.starNo\"];\n                    listDoctorRender.push(e);\n                  }\n                } catch (err) {\n                  _iterator3.e(err);\n                } finally {\n                  _iterator3.f();\n                }\n\n                console.log(listDoctorRender);\n                res.render(\"user/searchAllDoctor\", {\n                  listDoctorRender: listDoctorRender\n                });\n\n              case 8:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4);\n      }));\n\n      function searchAllDoctor(_x10, _x11, _x12) {\n        return _searchAllDoctor.apply(this, arguments);\n      }\n\n      return searchAllDoctor;\n    }()\n  }, {\n    key: \"searchAllClinic\",\n    value: function () {\n      var _searchAllClinic = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5(req, res, next) {\n        var clinics;\n        return regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _context5.next = 2;\n                return (0, _DoctorService.getAllClinic)();\n\n              case 2:\n                clinics = _context5.sent;\n                console.log(clinics);\n                res.render(\"user/searchAllClinic\", {\n                  clinics: clinics\n                });\n\n              case 5:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5);\n      }));\n\n      function searchAllClinic(_x13, _x14, _x15) {\n        return _searchAllClinic.apply(this, arguments);\n      }\n\n      return searchAllClinic;\n    }()\n  }]);\n\n  return SiteController;\n}();\n\nmodule.exports = new SiteController();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlNpdGVDb250cm9sbGVyLmpzIl0sIm5hbWVzIjpbImV4cHJlc3MiLCJyZXF1aXJlIiwicm91dGVyIiwiUm91dGVyIiwiU2l0ZUNvbnRyb2xsZXIiLCJyZXEiLCJyZXMiLCJuZXh0IiwiZGF0YSIsImNsaW5pY3MiLCJkb2N0b3JzIiwiZG9jdG9yc1dpdGhDbGluaWNOYW1lIiwiZSIsImNsaW5pY05hbWUiLCJwdXNoIiwicmVuZGVyIiwiY29uc29sZSIsImxvZyIsImNsaW5pY0lkIiwicGFyYW1zIiwiY2xpbmljIiwibGlzdERvY3RvcnNSZW5kZXIiLCJkb2N0b3JJZCIsInNlcnZpY2VGZWUiLCJ0aW1lV29ya3MiLCJpZCIsInN0YXJ0VGltZSIsImVuZFRpbWUiLCJmZWUiLCJyZXN1bHQiLCJkb2N0b3IiLCJkb2N0b3JTY2hlZHVsZXMiLCJyZXN1bWVEZXNjcmlwdGlvbiIsInJlc3VtZVN0YXJObyIsImZpbHRlclRpbWVXb3JrIiwiaSIsImxlbmd0aCIsImoiLCJzcGxpY2UiLCJtZXNzYWdlQm9va2luZyIsInNlc3Npb24iLCJsaXN0RG9jdG9yUmVuZGVyIiwic3Rhck5vIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7QUFFQTs7QUFDQTs7QUFJQTs7QUFDQTs7QUFNQTs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBZEEsSUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBRCxDQUF2Qjs7QUFDQSxJQUFNQyxNQUFNLEdBQUdGLE9BQU8sQ0FBQ0csTUFBUixFQUFmOztJQWNNQyxjOzs7Ozs7OzsyRUFDSixpQkFBWUMsR0FBWixFQUFpQkMsR0FBakIsRUFBc0JDLElBQXRCO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsdUJBRXFCLHFEQUZyQjs7QUFBQTtBQUVRQyxnQkFBQUEsSUFGUjtBQUdRQyxnQkFBQUEsT0FIUixHQUdrQkQsSUFBSSxDQUFDLENBQUQsQ0FIdEI7QUFJUUUsZ0JBQUFBLE9BSlIsR0FJa0JGLElBQUksQ0FB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a0JBQUFBLE9BQU8sRUFBUEE7QUFBRixpQkFBbkM7O0FBSkY7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsTzs7Ozs7Ozs7Ozs7OztBQU9Ga0MsTUFBTSxDQUFDQyxPQUFQLEdBQWlCLElBQUl4QyxjQUFKLEVBQWpCIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9tYWMvRGVza3RvcC9GaW5hbF9Qcm9qZWN0X0RUVS9zcmMvYXBwL2NvbnRyb2xsZXJzLyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKFwiZXhwcmVzc1wiKTtcclxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcclxuaW1wb3J0IHsgZm9ybWF0RGF0ZSwgZ2V0VGltZU5vdyB9IGZyb20gXCIuLi8uLi91dGlsL2RhdGVOb3dcIjtcclxuaW1wb3J0IHtcclxuICBmaW5kQWxsQ2xpbmljQW5Eb2N0b3JXaXRoQ2xpbmljLFxyXG4gIGdldENsaW5pY0J5SWQsXHJcbn0gZnJvbSBcIi4uL3NlcnZpY2UvQ2xpbmljU2VydmljZVwiO1xyXG5pbXBvcnQgeyBnZXRTZXJ2aWNlQnlEb2N0b3JJZCB9IGZyb20gXCIuLi9zZXJ2aWNlL1NlcnZpY2VTZXJ2aWNlXCI7XHJcbmltcG9ydCB7XHJcbiAgZ2V0RG9jdG9yQnlDbGluaWNJZCxcclxuICBnZXREb2N0b3JBcHBvaW50bWVudEFuZFJlc3VtZUJ5SWQsXHJcbiAgZ2V0QWxsRG9jdG9yQ2xpbmljQW5kUmV2aWV3LFxyXG4gIGdldEFsbENsaW5pYyxcclxufSBmcm9tIFwiLi4vc2VydmljZS9Eb2N0b3JTZXJ2aWNlXCI7XHJcbmltcG9ydCB7IGdldEFwcG9pbnRtZW50c0J5VXNlcklEIH0gZnJvbSBcIi4uL3NlcnZpY2UvQXBwb2lubWVudFNlcnZpY2VcIjtcclxuY2xhc3MgU2l0ZUNvbnRyb2xsZXIge1xyXG4gIGFzeW5jIGluZGV4KHJlcSwgcmVzLCBuZXh0KSB7XHJcbiAgICB0cnkge1xyXG4gICAgICBsZXQgZGF0YSA9IGF3YWl0IGZpbmRBbGxDbGluaWNBbkRvY3RvcldpdGhDbGluaWMoKTtcclxuICAgICAgbGV0IGNsaW5pY3MgPSBkYXRhWzBdO1xyXG4gICAgICBsZXQgZG9jdG9ycyA9IGRhdGFbMV07XHJcbiAgICAgIGxldCBkb2N0b3JzV2l0aENsaW5pY05hbWUgPSBbXTtcclxuICAgICAgZm9yIChsZXQgZSBvZiBkb2N0b3JzKSB7XHJcbiAgICAgICAgZS5jbGluaWNOYW1lID0gZVtcIkNsaW5pYy5uYW1lXCJdO1xyXG4gICAgICAgIGRvY3RvcnNXaXRoQ2xpbmljTmFtZS5wdXNoKGUpO1xyXG4gICAgICB9XHJcbiAgICAgIHJlcy5yZW5kZXIoXCJ1c2VyL2hvbWVcIiwge1xyXG4gICAgICAgIGNsaW5pY3M6IGNsaW5pY3MsXHJcbiAgICAgICAgZG9jdG9yczogZG9jdG9yc1dpdGhDbGluaWNOYW1lLFxyXG4gICAgICB9KTtcclxuICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgfVxyXG4gIH1cclxuICBhc3luYyBkaXNwbGF5RG9jdG9ycyhyZXEsIHJlcywgbmV4dCkge1xyXG4gICAgY29uc3QgY2xpbmljSWQgPSByZXEucGFyYW1zLmNsaW5pY0lkO1xyXG4gICAgbGV0IGRvY3RvcnMgPSBhd2FpdCBnZXREb2N0b3JCeUNsaW5pY0lkKGNsaW5pY0lkKTtcclxuICAgIGxldCBjbGluaWMgPSBhd2FpdCBnZXRDbGluaWNCeUlkKGNsaW5pY0lkKTtcclxuICAgIGxldCBsaXN0RG9jdG9yc1JlbmRlciA9IFtdO1xyXG4gICAgZm9yIChsZXQgZSBvZiBkb2N0b3JzKSB7XHJcbiAgICAgIGUuY2xpbmljTmFtZSA9IGVbXCJDbGluaWMubmFtZVwiXTtcclxuICAgICAgbGlzdERvY3RvcnNSZW5kZXIucHVzaChlKTtcclxuICAgIH1cclxuICAgIC8vcmVzLnNlbmQoZG9jdG9ycyk7XHJcbiAgICByZXMucmVuZGVyKFwidXNlci9kb2N0b3JGb2xsb3dDbGluaWNcIiwge1xyXG4gICAgICBkb2N0b3JzOiBsaXN0RG9jdG9yc1JlbmRlcixcclxuICAgICAgY2xpbmljOiBjbGluaWMsXHJcbiAgICB9KTtcclxuICB9XHJcbiAgYXN5bmMgZG9jdG9yRGV0YWlsKHJlcSwgcmVzLCBuZXh0KSB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBkb2N0b3JJZCA9IHJlcS5wYXJhbXMuZG9jdG9ySWQ7XHJcbiAgICAgIGxldCBzZXJ2aWNlRmVlID0gYXdhaXQgZ2V0U2VydmljZUJ5RG9jdG9ySWQoZG9jdG9ySWQpO1xyXG5cclxuICAgICAgbGV0IHRpbWVXb3JrcyA9IFtcclxuICAgICAgICB7XHJcbiAgICAgICAgICBpZDogZG9jdG9ySWQsXHJcbiAgICAgICAgICBzdGFydFRpbWU6IFwiMDg6MDA6MDBcIixcclxuICAgICAgICAgIGVuZFRpbWU6IFwiMTA6MDA6MDBcIixcclxuICAgICAgICAgIHNlcnZpY2VGZWU6IHNlcnZpY2VGZWUuZmVlLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgaWQ6IGRvY3RvcklkLFxyXG4gICAgICAgICAgc3RhcnRUaW1lOiBcIjEwOjAwOjAwXCIsXHJcbiAgICAgICAgICBlbmRUaW1lOiBcIjEyOjAwOjAwXCIsXHJcbiAgICAgICAgICBzZXJ2aWNlRmVlOiBzZXJ2aWNlRmVlLmZlZSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGlkOiBkb2N0b3JJZCxcclxuICAgICAgICAgIHN0YXJ0VGltZTogXCIxMzowMDowMFwiLFxyXG4gICAgICAgICAgZW5kVGltZTogXCIxNTowMDowMFwiLFxyXG4gICAgICAgICAgc2VydmljZUZlZTogc2VydmljZUZlZS5mZWUsXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICBpZDogZG9jdG9ySWQsXHJcbiAgICAgICAgICBzdGFydFRpbWU6IFwiMTU6MDA6MDBcIixcclxuICAgICAgICAgIGVuZFRpbWU6IFwiMTc6MDA6MDBcIixcclxuICAgICAgICAgIHNlcnZpY2VGZWU6IHNlcnZpY2VGZWUuZmVlLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgaWQ6IGRvY3RvcklkLFxyXG4gICAgICAgICAgc3RhcnRUaW1lOiBcIjE4OjAwOjAwXCIsXHJcbiAgICAgICAgICBlbmRUaW1lOiBcIjIwOjAwOjAwXCIsXHJcbiAgICAgICAgICBzZXJ2aWNlRmVlOiBzZXJ2aWNlRmVlLmZlZSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGlkOiBkb2N0b3JJZCxcclxuICAgICAgICAgIHN0YXJ0VGltZTogXCIyMDowMDowMFwiLFxyXG4gICAgICAgICAgZW5kVGltZTogXCIyMjowMDowMFwiLFxyXG4gICAgICAgICAgc2VydmljZUZlZTogc2VydmljZUZlZS5mZWUsXHJcbiAgICAgICAgfSxcclxuICAgICAgXTtcclxuICAgICAgbGV0IHJlc3VsdCA9IGF3YWl0IGdldERvY3RvckFwcG9pbnRtZW50QW5kUmVzdW1lQnlJZChkb2N0b3JJZCk7XHJcbiAgICAgIGxldCBkb2N0b3IgPSByZXN1bHRbMF07XHJcbiAgICAgIGxldCBkb2N0b3JTY2hlZHVsZXMgPSByZXN1bHRbMV07XHJcbiAgICAgIGRvY3Rvci5yZXN1bWVEZXNjcmlwdGlvbiA9IGRvY3RvcltcIlJlc3VtZS5kZXNjcmlwdGlvblwiXTtcclxuICAgICAgZG9jdG9yLnJlc3VtZVN0YXJObyA9IGRvY3RvcltcIlJlc3VtZS5zdGFyTm9cIl07XHJcbiAgICAgIGRvY3Rvci5jbGluaWNOYW1lID0gZG9jdG9yW1wiQ2xpbmljLm5hbWVcIl07XHJcbiAgICAgIC8vY2hlY2sgdGltZSBib29rIHdpdGggdGltZSBub3dcclxuICAgICAgbGV0IGZpbHRlclRpbWVXb3JrID0gW107XHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGltZVdvcmtzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgaWYgKHRpbWVXb3Jrc1tpXS5zdGFydFRpbWUgPD0gZ2V0VGltZU5vdygpKSB7XHJcbiAgICAgICAgICBmaWx0ZXJUaW1lV29yay5wdXNoKHRpbWVXb3Jrc1tpXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIC8vIGNoZWNrIHRpbWUgYm9vayBub3QgbWF0Y2ggd2l0aCB0aW1lIHdvcmtcclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmaWx0ZXJUaW1lV29yay5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgZG9jdG9yU2NoZWR1bGVzLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICBpZiAoZmlsdGVyVGltZVdvcmsubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBpZiAoZG9jdG9yU2NoZWR1bGVzW2pdLnN0YXJ0VGltZSA9PSBmaWx0ZXJUaW1lV29ya1tpXS5zdGFydFRpbWUpIHtcclxuICAgICAgICAgICAgICBmaWx0ZXJUaW1lV29yay5zcGxpY2UoaSwgMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhmaWx0ZXJUaW1lV29ya1tpXSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7XHJcbiAgICAgIHJlcy5yZW5kZXIoXCJ1c2VyL2RldGFpbERvY3RvclwiLCB7XHJcbiAgICAgICAgZG9jdG9yOiBkb2N0b3IsXHJcbiAgICAgICAgdGltZVdvcmtzOiBmaWx0ZXJUaW1lV29yayxcclxuICAgICAgICBzZXJ2aWNlRmVlOiBzZXJ2aWNlRmVlLFxyXG4gICAgICAgIG1lc3NhZ2VCb29raW5nOiByZXEuc2Vzc2lvbi5tZXNzYWdlQm9va2luZyxcclxuICAgICAgfSk7XHJcbiAgICAgIC8vIHJlcy5zZW5kKGRvY3Rvcik7XHJcbiAgICAgIC8vY2xlYXIgbWVzc2FnZVxyXG4gICAgICByZXEuc2Vzc2lvbi5tZXNzYWdlQm9va2luZyA9IG51bGw7XHJcbiAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGFzeW5jIHNlYXJjaEFsbERvY3RvcihyZXEsIHJlcywgbmV4dCkge1xyXG4gICAgbGV0IGRvY3RvcnMgPSBhd2FpdCBnZXRBbGxEb2N0b3JDbGluaWNBbmRSZXZpZXcoKTtcclxuICAgIGxldCBsaXN0RG9jdG9yUmVuZGVyID0gW107XHJcbiAgICBmb3IgKGxldCBlIG9mIGRvY3RvcnMpIHtcclxuICAgICAgZS5jbGluaWNOYW1lID0gZVtcIkNsaW5pYy5uYW1lXCJdO1xyXG4gICAgICBlLnN0YXJObyA9IGVbXCJSZXZpZXdzLnN0YXJOb1wiXTtcclxuICAgICAgbGlzdERvY3RvclJlbmRlci5wdXNoKGUpO1xyXG4gICAgfVxyXG4gICAgY29uc29sZS5sb2cobGlzdERvY3RvclJlbmRlcik7XHJcblxyXG4gICAgcmVzLnJlbmRlcihcInVzZXIvc2VhcmNoQWxsRG9jdG9yXCIsIHsgbGlzdERvY3RvclJlbmRlciB9KTtcclxuICB9XHJcblxyXG4gIGFzeW5jIHNlYXJjaEFsbENsaW5pYyhyZXEsIHJlcywgbmV4dCkge1xyXG4gICAgbGV0IGNsaW5pY3MgPSBhd2FpdCBnZXRBbGxDbGluaWMoKTtcclxuICAgIGNvbnNvbGUubG9nKGNsaW5pY3MpO1xyXG5cclxuICAgIHJlcy5yZW5kZXIoXCJ1c2VyL3NlYXJjaEFsbENsaW5pY1wiLCB7IGNsaW5pY3MgfSk7XHJcbiAgfVxyXG59XHJcbm1vZHVsZS5leHBvcnRzID0gbmV3IFNpdGVDb250cm9sbGVyKCk7XHJcbiJdfQ==","map":{"version":3,"sources":["SiteController.js"],"names":["express","require","router","Router","SiteController","req","res","next","data","clinics","doctors","doctorsWithClinicName","e","clinicName","push","render","console","log","clinicId","params","clinic","listDoctorsRender","doctorId","serviceFee","timeWorks","id","startTime","endTime","fee","result","doctor","doctorSchedules","resumeDescription","resumeStarNo","filterTimeWork","i","length","j","splice","messageBooking","session","listDoctorRender","starNo","module","exports"],"mappings":"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","sourceRoot":"/Users/mac/Desktop/Final_Project_DTU/src/app/controllers/","sourcesContent":["const express = require(\"express\");\r\nconst router = express.Router();\r\nimport { formatDate, getTimeNow } from \"../../util/dateNow\";\r\nimport {\r\n  findAllClinicAnDoctorWithClinic,\r\n  getClinicById,\r\n} from \"../service/ClinicService\";\r\nimport { getServiceByDoctorId } from \"../service/ServiceService\";\r\nimport {\r\n  getDoctorByClinicId,\r\n  getDoctorAppointmentAndResumeById,\r\n  getAllDoctorClinicAndReview,\r\n  getAllClinic,\r\n} from \"../service/DoctorService\";\r\nimport { getAppointmentsByUserID } from \"../service/AppoinmentService\";\r\nclass SiteController {\r\n  async index(req, res, next) {\r\n    try {\r\n      let data = await findAllClinicAnDoctorWithClinic();\r\n      let clinics = data[0];\r\n      let doctors = data[1];\r\n      let doctorsWithClinicName = [];\r\n      for (let e of doctors) {\r\n        e.clinicName = e[\"Clinic.name\"];\r\n        doctorsWithClinicName.push(e);\r\n      }\r\n      res.render(\"user/home\", {\r\n        clinics: clinics,\r\n        doctors: doctorsWithClinicName,\r\n      });\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  }\r\n  async displayDoctors(req, res, next) {\r\n    const clinicId = req.params.clinicId;\r\n    let doctors = await getDoctorByClinicId(clinicId);\r\n    let clinic = await getClinicById(clinicId);\r\n    let listDoctorsRender = [];\r\n    for (let e of doctors) {\r\n      e.clinicName = e[\"Clinic.name\"];\r\n      listDoctorsRender.push(e);\r\n    }\r\n    //res.send(doctors);\r\n    res.render(\"user/doctorFollowClinic\", {\r\n      doctors: listDoctorsRender,\r\n      clinic: clinic,\r\n    });\r\n  }\r\n  async doctorDetail(req, res, next) {\r\n    try {\r\n      const doctorId = req.params.doctorId;\r\n      let serviceFee = await getServiceByDoctorId(doctorId);\r\n\r\n      let timeWorks = [\r\n        {\r\n          id: doctorId,\r\n          startTime: \"08:00:00\",\r\n          endTime: \"10:00:00\",\r\n          serviceFee: serviceFee.fee,\r\n        },\r\n        {\r\n          id: doctorId,\r\n          startTime: \"10:00:00\",\r\n          endTime: \"12:00:00\",\r\n          serviceFee: serviceFee.fee,\r\n        },\r\n        {\r\n          id: doctorId,\r\n          startTime: \"13:00:00\",\r\n          endTime: \"15:00:00\",\r\n          serviceFee: serviceFee.fee,\r\n        },\r\n        {\r\n          id: doctorId,\r\n          startTime: \"15:00:00\",\r\n          endTime: \"17:00:00\",\r\n          serviceFee: serviceFee.fee,\r\n        },\r\n        {\r\n          id: doctorId,\r\n          startTime: \"18:00:00\",\r\n          endTime: \"20:00:00\",\r\n          serviceFee: serviceFee.fee,\r\n        },\r\n        {\r\n          id: doctorId,\r\n          startTime: \"20:00:00\",\r\n          endTime: \"22:00:00\",\r\n          serviceFee: serviceFee.fee,\r\n        },\r\n      ];\r\n      let result = await getDoctorAppointmentAndResumeById(doctorId);\r\n      let doctor = result[0];\r\n      let doctorSchedules = result[1];\r\n      doctor.resumeDescription = doctor[\"Resume.description\"];\r\n      doctor.resumeStarNo = doctor[\"Resume.starNo\"];\r\n      doctor.clinicName = doctor[\"Clinic.name\"];\r\n      //check time book with time now\r\n      let filterTimeWork = [];\r\n      for (let i = 0; i < timeWorks.length; i++) {\r\n        if (timeWorks[i].startTime <= getTimeNow()) {\r\n          filterTimeWork.push(timeWorks[i]);\r\n        }\r\n      }\r\n      // check time book not match with time work\r\n      for (let i = 0; i < filterTimeWork.length; i++) {\r\n        for (let j = 0; j < doctorSchedules.length; j++) {\r\n          if (filterTimeWork.length > 0) {\r\n            if (doctorSchedules[j].startTime == filterTimeWork[i].startTime) {\r\n              filterTimeWork.splice(i, 1);\r\n            }\r\n          } else {\r\n            break;\r\n          }\r\n        }\r\n        // console.log(filterTimeWork[i]);\r\n      }\r\n\r\n      console.log(result);\r\n      res.render(\"user/detailDoctor\", {\r\n        doctor: doctor,\r\n        timeWorks: filterTimeWork,\r\n        serviceFee: serviceFee,\r\n        messageBooking: req.session.messageBooking,\r\n      });\r\n      // res.send(doctor);\r\n      //clear message\r\n      req.session.messageBooking = null;\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  }\r\n\r\n  async searchAllDoctor(req, res, next) {\r\n    let doctors = await getAllDoctorClinicAndReview();\r\n    let listDoctorRender = [];\r\n    for (let e of doctors) {\r\n      e.clinicName = e[\"Clinic.name\"];\r\n      e.starNo = e[\"Reviews.starNo\"];\r\n      listDoctorRender.push(e);\r\n    }\r\n    console.log(listDoctorRender);\r\n\r\n    res.render(\"user/searchAllDoctor\", { listDoctorRender });\r\n  }\r\n\r\n  async searchAllClinic(req, res, next) {\r\n    let clinics = await getAllClinic();\r\n    console.log(clinics);\r\n\r\n    res.render(\"user/searchAllClinic\", { clinics });\r\n  }\r\n}\r\nmodule.exports = new SiteController();\r\n"]}},"mtime":1678719425146},"{\"sourceRoot\":\"/Users/mac/Desktop/Final_Project_DTU/src/app/service/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/mac/Desktop/Final_Project_DTU\",\"filename\":\"/Users/mac/Desktop/Final_Project_DTU/src/app/service/ClinicService.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/mac/Desktop/Final_Project_DTU\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar db = require('../models/index');\n\nvar _require = require('uuid'),\n    uuidv4 = _require.v4;\n\nvar findAllClinicAnDoctorWithClinic = function findAllClinicAnDoctorWithClinic() {\n  return new Promise( /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(resolve, reject) {\n      var clinics, doctorsWithClinics;\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return db.Clinic.findAll({\n                raw: true\n              });\n\n            case 3:\n              clinics = _context.sent;\n              _context.next = 6;\n              return db.User.findAll({\n                where: {\n                  roleID: 2,\n                  status: 1\n                },\n                raw: true,\n                include: [{\n                  model: db.Clinic\n                }]\n              });\n\n            case 6:\n              doctorsWithClinics = _context.sent;\n\n              if (doctorsWithClinics || clinics) {\n                resolve([clinics, doctorsWithClinics]);\n              } else {\n                resolve();\n              }\n\n              _context.next = 13;\n              break;\n\n            case 10:\n              _context.prev = 10;\n              _context.t0 = _context[\"catch\"](0);\n              reject(_context.t0);\n\n            case 13:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 10]]);\n    }));\n\n    return function (_x, _x2) {\n      return _ref.apply(this, arguments);\n    };\n  }());\n};\n\nvar getListClinics = function getListClinics() {\n  return new Promise( /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(resolve, reject) {\n      var listClinics;\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return db.Clinic.findAll({\n                raw: true\n              });\n\n            case 3:\n              listClinics = _context2.sent;\n\n              if (listClinics) {\n                resolve(listClinics);\n              } else {\n                resolve();\n              }\n\n              _context2.next = 10;\n              break;\n\n            case 7:\n              _context2.prev = 7;\n              _context2.t0 = _context2[\"catch\"](0);\n              reject(_context2.t0);\n\n            case 10:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[0, 7]]);\n    }));\n\n    return function (_x3, _x4) {\n      return _ref2.apply(this, arguments);\n    };\n  }());\n};\n\nvar getListClinicsDoctor = function getListClinicsDoctor() {\n  return new Promise( /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(resolve, reject) {\n      var listClinics;\n      return regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.prev = 0;\n              _context3.next = 3;\n              return db.Clinic.findAll({\n                raw: true,\n                include: [{\n                  model: db.User,\n                  where: {\n                    clinicID: db.Clinic.id\n                  }\n                }]\n              });\n\n            case 3:\n              listClinics = _context3.sent;\n\n              if (listClinics) {\n                resolve(listClinics);\n              } else {\n                resolve();\n              }\n\n              _context3.next = 10;\n              break;\n\n            case 7:\n              _context3.prev = 7;\n              _context3.t0 = _context3[\"catch\"](0);\n              reject(_context3.t0);\n\n            case 10:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, null, [[0, 7]]);\n    }));\n\n    return function (_x5, _x6) {\n      return _ref3.apply(this, arguments);\n    };\n  }());\n};\n\nvar getClinicById = function getClinicById(id) {\n  return new Promise( /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(resolve, reject) {\n      var clinic, doctors;\n      return regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.prev = 0;\n              _context4.next = 3;\n              return db.Clinic.findOne({\n                where: {\n                  id: id\n                },\n                raw: true\n              });\n\n            case 3:\n              clinic = _context4.sent;\n              _context4.next = 6;\n              return db.User.findAll({\n                where: {\n                  clinicID: clinic.id\n                },\n                raw: true\n              });\n\n            case 6:\n              doctors = _context4.sent;\n\n              if (clinic) {\n                resolve([clinic, doctors]);\n              } else {\n                resolve({});\n              }\n\n              _context4.next = 13;\n              break;\n\n            case 10:\n              _context4.prev = 10;\n              _context4.t0 = _context4[\"catch\"](0);\n              reject(_context4.t0);\n\n            case 13:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4, null, [[0, 10]]);\n    }));\n\n    return function (_x7, _x8) {\n      return _ref4.apply(this, arguments);\n    };\n  }());\n};\n\nvar createNewClinic = function createNewClinic(data) {\n  return new Promise( /*#__PURE__*/function () {\n    var _ref5 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5(resolve, reject) {\n      var clinic;\n      return regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              _context5.prev = 0;\n              _context5.next = 3;\n              return db.Clinic.findOne({\n                where: {\n                  name: data.name\n                },\n                raw: true\n              });\n\n            case 3:\n              clinic = _context5.sent;\n\n              if (!clinic) {\n                _context5.next = 8;\n                break;\n              }\n\n              resolve('Khoa đã tồn tại');\n              _context5.next = 11;\n              break;\n\n            case 8:\n              _context5.next = 10;\n              return db.Clinic.create({\n                id: uuidv4(),\n                name: data.name,\n                description: data.description,\n                image: data.image\n              });\n\n            case 10:\n              resolve('Thêm thành công !');\n\n            case 11:\n              _context5.next = 16;\n              break;\n\n            case 13:\n              _context5.prev = 13;\n              _context5.t0 = _context5[\"catch\"](0);\n              reject(_context5.t0);\n\n            case 16:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5, null, [[0, 13]]);\n    }));\n\n    return function (_x9, _x10) {\n      return _ref5.apply(this, arguments);\n    };\n  }());\n};\n\nvar updateClinic = function updateClinic(data) {\n  return new Promise( /*#__PURE__*/function () {\n    var _ref6 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee6(resolve, reject) {\n      var clinic;\n      return regeneratorRuntime.wrap(function _callee6$(_context6) {\n        while (1) {\n          switch (_context6.prev = _context6.next) {\n            case 0:\n              _context6.prev = 0;\n              _context6.next = 3;\n              return db.Clinic.findOne({\n                where: {\n                  id: data.id\n                }\n              });\n\n            case 3:\n              clinic = _context6.sent;\n\n              if (!clinic) {\n                _context6.next = 13;\n                break;\n              }\n\n              clinic.name = data.name;\n              clinic.description = data.description;\n\n              if (data.image != '') {\n                clinic.image = data.image;\n              }\n\n              _context6.next = 10;\n              return clinic.save();\n\n            case 10:\n              resolve('Cập nhật thành công !'); //return\n\n              _context6.next = 14;\n              break;\n\n            case 13:\n              resolve(); //return\n\n            case 14:\n              _context6.next = 19;\n              break;\n\n            case 16:\n              _context6.prev = 16;\n              _context6.t0 = _context6[\"catch\"](0);\n              reject(_context6.t0);\n\n            case 19:\n            case \"end\":\n              return _context6.stop();\n          }\n        }\n      }, _callee6, null, [[0, 16]]);\n    }));\n\n    return function (_x11, _x12) {\n      return _ref6.apply(this, arguments);\n    };\n  }());\n};\n\nvar deleteClinic = function deleteClinic(id) {\n  return new Promise( /*#__PURE__*/function () {\n    var _ref7 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee7(resolve, reject) {\n      var clinic;\n      return regeneratorRuntime.wrap(function _callee7$(_context7) {\n        while (1) {\n          switch (_context7.prev = _context7.next) {\n            case 0:\n              _context7.prev = 0;\n              _context7.next = 3;\n              return db.Clinic.findOne({\n                where: {\n                  id: id\n                }\n              });\n\n            case 3:\n              clinic = _context7.sent;\n\n              if (!clinic) {\n                _context7.next = 10;\n                break;\n              }\n\n              _context7.next = 7;\n              return clinic.destroy();\n\n            case 7:\n              resolve('Xóa thành công !');\n              _context7.next = 12;\n              break;\n\n            case 10:\n              console.log('delete fail');\n              resolve();\n\n            case 12:\n              _context7.next = 17;\n              break;\n\n            case 14:\n              _context7.prev = 14;\n              _context7.t0 = _context7[\"catch\"](0);\n              reject(_context7.t0);\n\n            case 17:\n            case \"end\":\n              return _context7.stop();\n          }\n        }\n      }, _callee7, null, [[0, 14]]);\n    }));\n\n    return function (_x13, _x14) {\n      return _ref7.apply(this, arguments);\n    };\n  }());\n};\n\nmodule.exports = {\n  findAllClinicAnDoctorWithClinic: findAllClinicAnDoctorWithClinic,\n  getListClinics: getListClinics,\n  createNewClinic: createNewClinic,\n  updateClinic: updateClinic,\n  getClinicById: getClinicById,\n  deleteClinic: deleteClinic,\n  getListClinicsDoctor: getListClinicsDoctor\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkNsaW5pY1NlcnZpY2UuanMiXSwibmFtZXMiOlsiZGIiLCJyZXF1aXJlIiwidXVpZHY0IiwidjQiLCJmaW5kQWxsQ2xpbmljQW5Eb2N0b3JXaXRoQ2xpbmljIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJDbGluaWMiLCJmaW5kQWxsIiwicmF3IiwiY2xpbmljcyIsIlVzZXIiLCJ3aGVyZSIsInJvbGVJRCIsInN0YXR1cyIsImluY2x1ZGUiLCJtb2RlbCIsImRvY3RvcnNXaXRoQ2xpbmljcyIsImdldExpc3RDbGluaWNzIiwibGlzdENsaW5pY3MiLCJnZXRMaXN0Q2xpbmljc0RvY3RvciIsImNsaW5pY0lEIiwiaWQiLCJnZXRDbGluaWNCeUlkIiwiZmluZE9uZSIsImNsaW5pYyIsImRvY3RvcnMiLCJjcmVhdGVOZXdDbGluaWMiLCJkYXRhIiwibmFtZSIsImNyZWF0ZSIsImRlc2NyaXB0aW9uIiwiaW1hZ2UiLCJ1cGRhdGVDbGluaWMiLCJzYXZlIiwiZGVsZXRlQ2xpbmljIiwiZGVzdHJveSIsImNvbnNvbGUiLCJsb2ciLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFNQSxFQUFFLEdBQUdDLE9BQU8sQ0FBQyxpQkFBRCxDQUFsQjs7QUFDQSxlQUF1QkEsT0FBTyxDQUFDLE1BQUQsQ0FBOUI7QUFBQSxJQUFZQyxNQUFaLFlBQVFDLEVBQVI7O0FBRUEsSUFBSUMsK0JBQStCLEdBQUcsU0FBbENBLCtCQUFrQyxHQUFNO0FBQzFDLFNBQU8sSUFBSUMsT0FBSjtBQUFBLHVFQUFZLGlCQUFPQyxPQUFQLEVBQWdCQyxNQUFoQjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEscUJBRUtQLEVBQUUsQ0FBQ1EsTUFBSCxDQUFVQyxPQUFWLENBQWtCO0FBQ3BDQyxnQkFBQUEsR0FBRyxFQUFFO0FBRCtCLGVBQWxCLENBRkw7O0FBQUE7QUFFWEMsY0FBQUEsT0FGVztBQUFBO0FBQUEscUJBTWdCWCxF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O0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBYWZDLGNBQUFBLE1BQU0sY0FBTjs7QUFiZTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxLQUFaOztBQUFBO0FBQUE7QUFBQTtBQUFBLE1BQVA7QUFnQkQsQ0FqQkQ7O0FBbUJBaUMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCO0FBQ2ZyQyxFQUFBQSwrQkFBK0IsRUFBL0JBLCtCQURlO0FBRWZlLEVBQUFBLGNBQWMsRUFBZEEsY0FGZTtBQUdmUyxFQUFBQSxlQUFlLEVBQWZBLGVBSGU7QUFJZk0sRUFBQUEsWUFBWSxFQUFaQSxZQUplO0FBS2ZWLEVBQUFBLGFBQWEsRUFBYkEsYUFMZTtBQU1mWSxFQUFBQSxZQUFZLEVBQVpBLFlBTmU7QUFPZmYsRUFBQUEsb0JBQW9CLEVBQXBCQTtBQVBlLENBQWpCIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9tYWMvRGVza3RvcC9GaW5hbF9Qcm9qZWN0X0RUVS9zcmMvYXBwL3NlcnZpY2UvIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZGIgPSByZXF1aXJlKCcuLi9tb2RlbHMvaW5kZXgnKTtcclxuY29uc3QgeyB2NDogdXVpZHY0IH0gPSByZXF1aXJlKCd1dWlkJyk7XHJcblxyXG5sZXQgZmluZEFsbENsaW5pY0FuRG9jdG9yV2l0aENsaW5pYyA9ICgpID0+IHtcclxuICByZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgbGV0IGNsaW5pY3MgPSBhd2FpdCBkYi5DbGluaWMuZmluZEFsbCh7XHJcbiAgICAgICAgcmF3OiB0cnVlLFxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGxldCBkb2N0b3JzV2l0aENsaW5pY3MgPSBhd2FpdCBkYi5Vc2VyLmZpbmRBbGwoe1xyXG4gICAgICAgIHdoZXJlOiB7IHJvbGVJRDogMiwgc3RhdHVzOiAxIH0sXHJcbiAgICAgICAgcmF3OiB0cnVlLFxyXG4gICAgICAgIGluY2x1ZGU6IFtcclxuICAgICAgICAgIHtcclxuICAgICAgICAgICAgbW9kZWw6IGRiLkNsaW5pYyxcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgXSxcclxuICAgICAgfSk7XHJcbiAgICAgIGlmIChkb2N0b3JzV2l0aENsaW5pY3MgfHwgY2xpbmljcykge1xyXG4gICAgICAgIHJlc29sdmUoW2NsaW5pY3MsIGRvY3RvcnNXaXRoQ2xpbmljc10pO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICByZWplY3QoZSk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn07XHJcblxyXG5sZXQgZ2V0TGlzdENsaW5pY3MgPSAoKSA9PiB7XHJcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGxldCBsaXN0Q2xpbmljcyA9IGF3YWl0IGRiLkNsaW5pYy5maW5kQWxsKHtcclxuICAgICAgICByYXc6IHRydWUsXHJcbiAgICAgIH0pO1xyXG4gICAgICBpZiAobGlzdENsaW5pY3MpIHtcclxuICAgICAgICByZXNvbHZlKGxpc3RDbGluaWNzKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgcmVqZWN0KGUpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59O1xyXG5cclxubGV0IGdldExpc3RDbGluaWNzRG9jdG9yID0gKCkgPT4ge1xyXG4gIHJldHVybiBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBsZXQgbGlzdENsaW5pY3MgPSBhd2FpdCBkYi5DbGluaWMuZmluZEFsbCh7XHJcbiAgICAgICAgcmF3OiB0cnVlLFxyXG4gICAgICAgIGluY2x1ZGU6IFtcclxuICAgICAgICAgIHtcclxuICAgICAgICAgICAgbW9kZWw6IGRiLlVzZXIsXHJcbiAgICAgICAgICAgIHdoZXJlOiB7IGNsaW5pY0lEOiBkYi5DbGluaWMuaWQgfSxcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgXSxcclxuICAgICAgfSk7XHJcbiAgICAgIGlmIChsaXN0Q2xpbmljcykge1xyXG4gICAgICAgIHJlc29sdmUobGlzdENsaW5pY3MpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICByZWplY3QoZSk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn07XHJcblxyXG5sZXQgZ2V0Q2xpbmljQnlJZCA9IChpZCkgPT4ge1xyXG4gIHJldHVybiBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBsZXQgY2xpbmljID0gYXdhaXQgZGIuQ2xpbmljLmZpbmRPbmUoe1xyXG4gICAgICAgIHdoZXJlOiB7IGlkOiBpZCB9LFxyXG4gICAgICAgIHJhdzogdHJ1ZSxcclxuICAgICAgfSk7XHJcbiAgICAgIGxldCBkb2N0b3JzID0gYXdhaXQgZGIuVXNlci5maW5kQWxsKHtcclxuICAgICAgICB3aGVyZTogeyBjbGluaWNJRDogY2xpbmljLmlkIH0sXHJcbiAgICAgICAgcmF3OiB0cnVlLFxyXG4gICAgICB9KTtcclxuICAgICAgaWYgKGNsaW5pYykge1xyXG4gICAgICAgIHJlc29sdmUoW2NsaW5pYywgZG9jdG9yc10pO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJlc29sdmUoe30pO1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIHJlamVjdChlKTtcclxuICAgIH1cclxuICB9KTtcclxufTtcclxuXHJcbmxldCBjcmVhdGVOZXdDbGluaWMgPSAoZGF0YSkgPT4ge1xyXG4gIHJldHVybiBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBsZXQgY2xpbmljID0gYXdhaXQgZGIuQ2xpbmljLmZpbmRPbmUoe1xyXG4gICAgICAgIHdoZXJlOiB7IG5hbWU6IGRhdGEubmFtZSB9LFxyXG4gICAgICAgIHJhdzogdHJ1ZSxcclxuICAgICAgfSk7XHJcbiAgICAgIGlmIChjbGluaWMpIHtcclxuICAgICAgICByZXNvbHZlKCdLaG9hIMSRw6MgdOG7k24gdOG6oWknKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBhd2FpdCBkYi5DbGluaWMuY3JlYXRlKHtcclxuICAgICAgICAgIGlkOiB1dWlkdjQoKSxcclxuICAgICAgICAgIG5hbWU6IGRhdGEubmFtZSxcclxuICAgICAgICAgIGRlc2NyaXB0aW9uOiBkYXRhLmRlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgaW1hZ2U6IGRhdGEuaW1hZ2UsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmVzb2x2ZSgnVGjDqm0gdGjDoG5oIGPDtG5nICEnKTtcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICByZWplY3QoZSk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn07XHJcblxyXG5sZXQgdXBkYXRlQ2xpbmljID0gKGRhdGEpID0+IHtcclxuICByZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgbGV0IGNsaW5pYyA9IGF3YWl0IGRiLkNsaW5pYy5maW5kT25lKHtcclxuICAgICAgICB3aGVyZTogeyBpZDogZGF0YS5pZCB9LFxyXG4gICAgICB9KTtcclxuICAgICAgaWYgKGNsaW5pYykge1xyXG4gICAgICAgIGNsaW5pYy5uYW1lID0gZGF0YS5uYW1lO1xyXG4gICAgICAgIGNsaW5pYy5kZXNjcmlwdGlvbiA9IGRhdGEuZGVzY3JpcHRpb247XHJcbiAgICAgICAgaWYgKGRhdGEuaW1hZ2UgIT0gJycpIHtcclxuICAgICAgICAgIGNsaW5pYy5pbWFnZSA9IGRhdGEuaW1hZ2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGF3YWl0IGNsaW5pYy5zYXZlKCk7XHJcbiAgICAgICAgcmVzb2x2ZSgnQ+G6rXAgbmjhuq10IHRow6BuaCBjw7RuZyAhJyk7IC8vcmV0dXJuXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmVzb2x2ZSgpOyAvL3JldHVyblxyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIHJlamVjdChlKTtcclxuICAgIH1cclxuICB9KTtcclxufTtcclxuXHJcbmxldCBkZWxldGVDbGluaWMgPSAoaWQpID0+IHtcclxuICByZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgbGV0IGNsaW5pYyA9IGF3YWl0IGRiLkNsaW5pYy5maW5kT25lKHtcclxuICAgICAgICB3aGVyZTogeyBpZDogaWQgfSxcclxuICAgICAgfSk7XHJcbiAgICAgIGlmIChjbGluaWMpIHtcclxuICAgICAgICBhd2FpdCBjbGluaWMuZGVzdHJveSgpO1xyXG4gICAgICAgIHJlc29sdmUoJ1jDs2EgdGjDoG5oIGPDtG5nICEnKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnZGVsZXRlIGZhaWwnKTtcclxuICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgcmVqZWN0KGUpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59O1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgZmluZEFsbENsaW5pY0FuRG9jdG9yV2l0aENsaW5pYyxcclxuICBnZXRMaXN0Q2xpbmljcyxcclxuICBjcmVhdGVOZXdDbGluaWMsXHJcbiAgdXBkYXRlQ2xpbmljLFxyXG4gIGdldENsaW5pY0J5SWQsXHJcbiAgZGVsZXRlQ2xpbmljLFxyXG4gIGdldExpc3RDbGluaWNzRG9jdG9yLFxyXG59O1xyXG4iXX0=","map":{"version":3,"sources":["ClinicService.js"],"names":["db","require","uuidv4","v4","findAllClinicAnDoctorWithClinic","Promise","resolve","reject","Clinic","findAll","raw","clinics","User","where","roleID","status","include","model","doctorsWithClinics","getListClinics","listClinics","getListClinicsDoctor","clinicID","id","getClinicById","findOne","clinic","doctors","createNewClinic","data","name","create","description","image","updateClinic","save","deleteClinic","destroy","console","log","module","exports"],"mappings":"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","sourceRoot":"/Users/mac/Desktop/Final_Project_DTU/src/app/service/","sourcesContent":["const db = require('../models/index');\r\nconst { v4: uuidv4 } = require('uuid');\r\n\r\nlet findAllClinicAnDoctorWithClinic = () => {\r\n  return new Promise(async (resolve, reject) => {\r\n    try {\r\n      let clinics = await db.Clinic.findAll({\r\n        raw: true,\r\n      });\r\n\r\n      let doctorsWithClinics = await db.User.findAll({\r\n        where: { roleID: 2, status: 1 },\r\n        raw: true,\r\n        include: [\r\n          {\r\n            model: db.Clinic,\r\n          },\r\n        ],\r\n      });\r\n      if (doctorsWithClinics || clinics) {\r\n        resolve([clinics, doctorsWithClinics]);\r\n      } else {\r\n        resolve();\r\n      }\r\n    } catch (e) {\r\n      reject(e);\r\n    }\r\n  });\r\n};\r\n\r\nlet getListClinics = () => {\r\n  return new Promise(async (resolve, reject) => {\r\n    try {\r\n      let listClinics = await db.Clinic.findAll({\r\n        raw: true,\r\n      });\r\n      if (listClinics) {\r\n        resolve(listClinics);\r\n      } else {\r\n        resolve();\r\n      }\r\n    } catch (e) {\r\n      reject(e);\r\n    }\r\n  });\r\n};\r\n\r\nlet getListClinicsDoctor = () => {\r\n  return new Promise(async (resolve, reject) => {\r\n    try {\r\n      let listClinics = await db.Clinic.findAll({\r\n        raw: true,\r\n        include: [\r\n          {\r\n            model: db.User,\r\n            where: { clinicID: db.Clinic.id },\r\n          },\r\n        ],\r\n      });\r\n      if (listClinics) {\r\n        resolve(listClinics);\r\n      } else {\r\n        resolve();\r\n      }\r\n    } catch (e) {\r\n      reject(e);\r\n    }\r\n  });\r\n};\r\n\r\nlet getClinicById = (id) => {\r\n  return new Promise(async (resolve, reject) => {\r\n    try {\r\n      let clinic = await db.Clinic.findOne({\r\n        where: { id: id },\r\n        raw: true,\r\n      });\r\n      let doctors = await db.User.findAll({\r\n        where: { clinicID: clinic.id },\r\n        raw: true,\r\n      });\r\n      if (clinic) {\r\n        resolve([clinic, doctors]);\r\n      } else {\r\n        resolve({});\r\n      }\r\n    } catch (e) {\r\n      reject(e);\r\n    }\r\n  });\r\n};\r\n\r\nlet createNewClinic = (data) => {\r\n  return new Promise(async (resolve, reject) => {\r\n    try {\r\n      let clinic = await db.Clinic.findOne({\r\n        where: { name: data.name },\r\n        raw: true,\r\n      });\r\n      if (clinic) {\r\n        resolve('Khoa đã tồn tại');\r\n      } else {\r\n        await db.Clinic.create({\r\n          id: uuidv4(),\r\n          name: data.name,\r\n          description: data.description,\r\n          image: data.image,\r\n        });\r\n        resolve('Thêm thành công !');\r\n      }\r\n    } catch (e) {\r\n      reject(e);\r\n    }\r\n  });\r\n};\r\n\r\nlet updateClinic = (data) => {\r\n  return new Promise(async (resolve, reject) => {\r\n    try {\r\n      let clinic = await db.Clinic.findOne({\r\n        where: { id: data.id },\r\n      });\r\n      if (clinic) {\r\n        clinic.name = data.name;\r\n        clinic.description = data.description;\r\n        if (data.image != '') {\r\n          clinic.image = data.image;\r\n        }\r\n        await clinic.save();\r\n        resolve('Cập nhật thành công !'); //return\r\n      } else {\r\n        resolve(); //return\r\n      }\r\n    } catch (e) {\r\n      reject(e);\r\n    }\r\n  });\r\n};\r\n\r\nlet deleteClinic = (id) => {\r\n  return new Promise(async (resolve, reject) => {\r\n    try {\r\n      let clinic = await db.Clinic.findOne({\r\n        where: { id: id },\r\n      });\r\n      if (clinic) {\r\n        await clinic.destroy();\r\n        resolve('Xóa thành công !');\r\n      } else {\r\n        console.log('delete fail');\r\n        resolve();\r\n      }\r\n    } catch (e) {\r\n      reject(e);\r\n    }\r\n  });\r\n};\r\n\r\nmodule.exports = {\r\n  findAllClinicAnDoctorWithClinic,\r\n  getListClinics,\r\n  createNewClinic,\r\n  updateClinic,\r\n  getClinicById,\r\n  deleteClinic,\r\n  getListClinicsDoctor,\r\n};\r\n"]}},"mtime":1651628686000},"{\"sourceRoot\":\"/Users/mac/Desktop/Final_Project_DTU/src/app/service/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/mac/Desktop/Final_Project_DTU\",\"filename\":\"/Users/mac/Desktop/Final_Project_DTU/src/app/service/ServiceService.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/mac/Desktop/Final_Project_DTU\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar bcrypt = require(\"bcryptjs\");\n\nvar db = require(\"../models/index\");\n\nvar salt = bcrypt.genSaltSync(10);\n\nvar getServiceByDoctorId = function getServiceByDoctorId(id) {\n  return new Promise( /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(resolve, reject) {\n      var service;\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return db.Service.findOne({\n                where: {\n                  UserId: id\n                },\n                raw: true\n              });\n\n            case 3:\n              service = _context.sent;\n              resolve(service);\n              _context.next = 10;\n              break;\n\n            case 7:\n              _context.prev = 7;\n              _context.t0 = _context[\"catch\"](0);\n              reject(_context.t0);\n\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 7]]);\n    }));\n\n    return function (_x, _x2) {\n      return _ref.apply(this, arguments);\n    };\n  }());\n};\n\nvar updateServiceFeeByID = function updateServiceFeeByID(doctorID, serviceFee) {\n  return new Promise( /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(resolve, reject) {\n      var service;\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return db.Service.findOne({\n                where: {\n                  UserId: doctorID\n                }\n              });\n\n            case 3:\n              service = _context2.sent;\n\n              if (service) {\n                service.fee = serviceFee;\n                service.updatedAt = new Date();\n                service.createdAt = new Date();\n                service.save();\n                resolve();\n              } else {\n                resolve();\n              }\n\n              _context2.next = 10;\n              break;\n\n            case 7:\n              _context2.prev = 7;\n              _context2.t0 = _context2[\"catch\"](0);\n              reject(_context2.t0);\n\n            case 10:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[0, 7]]);\n    }));\n\n    return function (_x3, _x4) {\n      return _ref2.apply(this, arguments);\n    };\n  }());\n};\n\nmodule.exports = {\n  getServiceByDoctorId: getServiceByDoctorId,\n  updateServiceFeeByID: updateServiceFeeByID\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlNlcnZpY2VTZXJ2aWNlLmpzIl0sIm5hbWVzIjpbImJjcnlwdCIsInJlcXVpcmUiLCJkYiIsInNhbHQiLCJnZW5TYWx0U3luYyIsImdldFNlcnZpY2VCeURvY3RvcklkIiwiaWQiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsIlNlcnZpY2UiLCJmaW5kT25lIiwid2hlcmUiLCJVc2VySWQiLCJyYXciLCJzZXJ2aWNlIiwidXBkYXRlU2VydmljZUZlZUJ5SUQiLCJkb2N0b3JJRCIsInNlcnZpY2VGZWUiLCJmZWUiLCJ1cGRhdGVkQXQiLCJEYXRlIiwiY3JlYXRlZEF0Iiwic2F2ZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQU1BLE1BQU0sR0FBR0MsT0FBTyxDQUFDLFVBQUQsQ0FBdEI7O0FBQ0EsSUFBTUMsRUFBRSxHQUFHRCxPQUFPLENBQUMsaUJBQUQsQ0FBbEI7O0FBQ0EsSUFBSUUsSUFBSSxHQUFHSCxNQUFNLENBQUNJLFdBQVAsQ0FBbUIsRUFBbkIsQ0FBWDs7QUFFQSxJQUFJQyxvQkFBb0IsR0FBRyxTQUF2QkEsb0JBQXVCLENBQUNDLEVBQUQsRUFBUTtBQUNqQyxTQUFPLElBQUlDLE9BQUo7QUFBQSx1RUFBWSxpQkFBT0MsT0FBUCxFQUFnQkMsTUFBaEI7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLHFCQUVLUCxFQUFFLENBQUNRLE9BQUgsQ0FBV0MsT0FBWCxDQUFtQjtBQUNyQ0MsZ0JBQUFBLEtBQUssRUFBRTtBQUFFQyxrQkFBQUEsTUFBTSxFQUFFUDtBQUFWLGlCQUQ4QjtBQUVyQ1EsZ0JBQUFBLEdBQUcsRUFBRTtBQUZnQyxlQUFuQixDQUZMOztBQUFBO0FBRVhDLGNBQUFBLE9BRlc7QUFNZlAsY0FBQUEsT0FBTyxDQUFDTyxPQUFELENBQVA7QUFOZTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQVFmTixjQUFBQSxNQUFNLGFBQU47O0FBUmU7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsS0FBWjs7QUFBQTtBQUFBO0FBQUE7QUFBQSxNQUFQO0FBV0QsQ0FaRDs7QUFhQSxJQUFJTyxvQkFBb0IsR0FBRyxTQUF2QkEsb0JBQXVCLENBQUNDLFFBQUQsRUFBV0MsVUFBWCxFQUEwQjtBQUNuRCxTQUFPLElBQUlYLE9BQUo7QUFBQSx3RUFBWSxrQkFBT0MsT0FBUCxFQUFnQkMsTUFBaEI7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLHFCQUVLUCxFQUFFLENBQUNRLE9BQUgsQ0FBV0MsT0FBWCxDQUFtQjtBQUNyQ0MsZ0JBQUFBLEtBQUssRUFBRTtBQUFFQyxrQkFBQUEsTUFBTSxFQUFFSTtBQUFWO0FBRDhCLGVBQW5CLENBRkw7O0FBQUE7QUFFWEYsY0FBQUEsT0FGVzs7QUFLZixrQkFBSUEsT0FBSixFQUFhO0FBQ1hBLGdCQUFBQSxPQUFPLENBQUNJLEdBQVIsR0FBY0QsVUFBZDtBQUNBSCxnQkFBQUEsT0FBTyxDQUFDSyxTQUFSLEdBQW9CLElBQUlDLElBQUosRUFBcEI7QUFDQU4sZ0JBQUFBLE9BQU8sQ0FBQ08sU0FBUixHQUFvQixJQUFJRCxJQUFKLEVBQXBCO0FBQ0FOLGdCQUFBQSxPQUFPLENBQUNRLElBQVI7QUFDQWYsZ0JBQUFBLE9BQU87QUFDUixlQU5ELE1BTU87QUFDTEEsZ0JBQUFBLE9BQU87QUFDUjs7QUFiYztBQUFBOztBQUFBO0FBQUE7QUFBQTtBQWVmQyxjQUFBQSxNQUFNLGNBQU47O0FBZmU7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsS0FBWjs7QUFBQTtBQUFBO0FBQUE7QUFBQSxNQUFQO0FBa0JELENBbkJEOztBQXFCQWUsTUFBTSxDQUFDQyxPQUFQLEdBQWlCO0FBQ2ZwQixFQUFBQSxvQkFBb0IsRUFBcEJBLG9CQURlO0FBRWZXLEVBQUFBLG9CQUFvQixFQUFwQkE7QUFGZSxDQUFqQiIsInNvdXJjZVJvb3QiOiIvVXNlcnMvbWFjL0Rlc2t0b3AvRmluYWxfUHJvamVjdF9EVFUvc3JjL2FwcC9zZXJ2aWNlLyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGJjcnlwdCA9IHJlcXVpcmUoXCJiY3J5cHRqc1wiKTtcclxuY29uc3QgZGIgPSByZXF1aXJlKFwiLi4vbW9kZWxzL2luZGV4XCIpO1xyXG5sZXQgc2FsdCA9IGJjcnlwdC5nZW5TYWx0U3luYygxMCk7XHJcblxyXG5sZXQgZ2V0U2VydmljZUJ5RG9jdG9ySWQgPSAoaWQpID0+IHtcclxuICByZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgbGV0IHNlcnZpY2UgPSBhd2FpdCBkYi5TZXJ2aWNlLmZpbmRPbmUoe1xyXG4gICAgICAgIHdoZXJlOiB7IFVzZXJJZDogaWQgfSxcclxuICAgICAgICByYXc6IHRydWUsXHJcbiAgICAgIH0pO1xyXG4gICAgICByZXNvbHZlKHNlcnZpY2UpO1xyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICByZWplY3QoZSk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn07XHJcbmxldCB1cGRhdGVTZXJ2aWNlRmVlQnlJRCA9IChkb2N0b3JJRCwgc2VydmljZUZlZSkgPT4ge1xyXG4gIHJldHVybiBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBsZXQgc2VydmljZSA9IGF3YWl0IGRiLlNlcnZpY2UuZmluZE9uZSh7XHJcbiAgICAgICAgd2hlcmU6IHsgVXNlcklkOiBkb2N0b3JJRCB9LFxyXG4gICAgICB9KTtcclxuICAgICAgaWYgKHNlcnZpY2UpIHtcclxuICAgICAgICBzZXJ2aWNlLmZlZSA9IHNlcnZpY2VGZWU7XHJcbiAgICAgICAgc2VydmljZS51cGRhdGVkQXQgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICAgIHNlcnZpY2UuY3JlYXRlZEF0ID0gbmV3IERhdGUoKTtcclxuICAgICAgICBzZXJ2aWNlLnNhdmUoKTtcclxuICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICByZWplY3QoZXJyb3IpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59O1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgZ2V0U2VydmljZUJ5RG9jdG9ySWQsXHJcbiAgdXBkYXRlU2VydmljZUZlZUJ5SUQsXHJcbn07XHJcbiJdfQ==","map":{"version":3,"sources":["ServiceService.js"],"names":["bcrypt","require","db","salt","genSaltSync","getServiceByDoctorId","id","Promise","resolve","reject","Service","findOne","where","UserId","raw","service","updateServiceFeeByID","doctorID","serviceFee","fee","updatedAt","Date","createdAt","save","module","exports"],"mappings":";;;;;;AAAA,IAAMA,MAAM,GAAGC,OAAO,CAAC,UAAD,CAAtB;;AACA,IAAMC,EAAE,GAAGD,OAAO,CAAC,iBAAD,CAAlB;;AACA,IAAIE,IAAI,GAAGH,MAAM,CAACI,WAAP,CAAmB,EAAnB,CAAX;;AAEA,IAAIC,oBAAoB,GAAG,SAAvBA,oBAAuB,CAACC,EAAD,EAAQ;AACjC,SAAO,IAAIC,OAAJ;AAAA,uEAAY,iBAAOC,OAAP,EAAgBC,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAEKP,EAAE,CAACQ,OAAH,CAAWC,OAAX,CAAmB;AACrCC,gBAAAA,KAAK,EAAE;AAAEC,kBAAAA,MAAM,EAAEP;AAAV,iBAD8B;AAErCQ,gBAAAA,GAAG,EAAE;AAFgC,eAAnB,CAFL;;AAAA;AAEXC,cAAAA,OAFW;AAMfP,cAAAA,OAAO,CAACO,OAAD,CAAP;AANe;AAAA;;AAAA;AAAA;AAAA;AAQfN,cAAAA,MAAM,aAAN;;AARe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAZ;;AAAA;AAAA;AAAA;AAAA,MAAP;AAWD,CAZD;;AAaA,IAAIO,oBAAoB,GAAG,SAAvBA,oBAAuB,CAACC,QAAD,EAAWC,UAAX,EAA0B;AACnD,SAAO,IAAIX,OAAJ;AAAA,wEAAY,kBAAOC,OAAP,EAAgBC,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAEKP,EAAE,CAACQ,OAAH,CAAWC,OAAX,CAAmB;AACrCC,gBAAAA,KAAK,EAAE;AAAEC,kBAAAA,MAAM,EAAEI;AAAV;AAD8B,eAAnB,CAFL;;AAAA;AAEXF,cAAAA,OAFW;;AAKf,kBAAIA,OAAJ,EAAa;AACXA,gBAAAA,OAAO,CAACI,GAAR,GAAcD,UAAd;AACAH,gBAAAA,OAAO,CAACK,SAAR,GAAoB,IAAIC,IAAJ,EAApB;AACAN,gBAAAA,OAAO,CAACO,SAAR,GAAoB,IAAID,IAAJ,EAApB;AACAN,gBAAAA,OAAO,CAACQ,IAAR;AACAf,gBAAAA,OAAO;AACR,eAND,MAMO;AACLA,gBAAAA,OAAO;AACR;;AAbc;AAAA;;AAAA;AAAA;AAAA;AAefC,cAAAA,MAAM,cAAN;;AAfe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAZ;;AAAA;AAAA;AAAA;AAAA,MAAP;AAkBD,CAnBD;;AAqBAe,MAAM,CAACC,OAAP,GAAiB;AACfpB,EAAAA,oBAAoB,EAApBA,oBADe;AAEfW,EAAAA,oBAAoB,EAApBA;AAFe,CAAjB","sourceRoot":"/Users/mac/Desktop/Final_Project_DTU/src/app/service/","sourcesContent":["const bcrypt = require(\"bcryptjs\");\r\nconst db = require(\"../models/index\");\r\nlet salt = bcrypt.genSaltSync(10);\r\n\r\nlet getServiceByDoctorId = (id) => {\r\n  return new Promise(async (resolve, reject) => {\r\n    try {\r\n      let service = await db.Service.findOne({\r\n        where: { UserId: id },\r\n        raw: true,\r\n      });\r\n      resolve(service);\r\n    } catch (e) {\r\n      reject(e);\r\n    }\r\n  });\r\n};\r\nlet updateServiceFeeByID = (doctorID, serviceFee) => {\r\n  return new Promise(async (resolve, reject) => {\r\n    try {\r\n      let service = await db.Service.findOne({\r\n        where: { UserId: doctorID },\r\n      });\r\n      if (service) {\r\n        service.fee = serviceFee;\r\n        service.updatedAt = new Date();\r\n        service.createdAt = new Date();\r\n        service.save();\r\n        resolve();\r\n      } else {\r\n        resolve();\r\n      }\r\n    } catch (error) {\r\n      reject(error);\r\n    }\r\n  });\r\n};\r\n\r\nmodule.exports = {\r\n  getServiceByDoctorId,\r\n  updateServiceFeeByID,\r\n};\r\n"]}},"mtime":1651628686000},"{\"sourceRoot\":\"/Users/mac/Desktop/Final_Project_DTU/src/app/service/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/mac/Desktop/Final_Project_DTU\",\"filename\":\"/Users/mac/Desktop/Final_Project_DTU/src/app/service/DoctorService.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/mac/Desktop/Final_Project_DTU\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar _dateNow = require(\"../../util/dateNow\");\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar bcrypt = require(\"bcryptjs\");\n\nvar db = require(\"../models/index\");\n\nvar _require = require(\"sequelize\"),\n    Op = _require.Op;\n\nvar getDoctorByClinicId = function getDoctorByClinicId(clinicId) {\n  return new Promise( /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(resolve, reject) {\n      var user;\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return db.User.findAll({\n                where: {\n                  clinicID: clinicId,\n                  roleID: 2,\n                  status: 1\n                },\n                raw: true,\n                include: [{\n                  model: db.Clinic\n                }]\n              });\n\n            case 3:\n              user = _context.sent;\n\n              if (user) {\n                resolve(user);\n              } else {\n                resolve(null);\n              }\n\n              _context.next = 10;\n              break;\n\n            case 7:\n              _context.prev = 7;\n              _context.t0 = _context[\"catch\"](0);\n              reject(_context.t0);\n\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 7]]);\n    }));\n\n    return function (_x, _x2) {\n      return _ref.apply(this, arguments);\n    };\n  }());\n};\n\nvar getResumeById = function getResumeById(resumeId) {\n  return new Promise( /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(resolve, reject) {\n      var resume;\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return db.Resume.findOne({\n                where: {\n                  id: resumeId\n                },\n                raw: true\n              });\n\n            case 3:\n              resume = _context2.sent;\n\n              if (resume) {\n                resolve(resume);\n              } else {\n                resolve(null);\n              }\n\n              _context2.next = 10;\n              break;\n\n            case 7:\n              _context2.prev = 7;\n              _context2.t0 = _context2[\"catch\"](0);\n              reject(_context2.t0);\n\n            case 10:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[0, 7]]);\n    }));\n\n    return function (_x3, _x4) {\n      return _ref2.apply(this, arguments);\n    };\n  }());\n};\n\nvar getDoctorAppointmentAndResumeById = function getDoctorAppointmentAndResumeById(doctorId) {\n  return new Promise( /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(resolve, reject) {\n      var dateNow, user, appointment;\n      return regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.prev = 0;\n              dateNow = new Date().toString();\n              _context3.next = 4;\n              return db.User.findOne({\n                where: {\n                  id: doctorId,\n                  roleID: 2,\n                  status: 1\n                },\n                raw: true,\n                include: [{\n                  model: db.Resume\n                }, {\n                  model: db.Clinic\n                }]\n              });\n\n            case 4:\n              user = _context3.sent;\n              _context3.next = 7;\n              return db.Appointment.findAll({\n                where: {\n                  doctorID: doctorId,\n                  date: (0, _dateNow.formatDate)(dateNow),\n                  isCanceled: _defineProperty({}, Op.or, [0, null])\n                },\n                raw: true\n              });\n\n            case 7:\n              appointment = _context3.sent;\n\n              if (user || appointment) {\n                resolve([user, appointment]);\n              } else {\n                resolve(null);\n              }\n\n              _context3.next = 14;\n              break;\n\n            case 11:\n              _context3.prev = 11;\n              _context3.t0 = _context3[\"catch\"](0);\n              reject(_context3.t0);\n\n            case 14:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, null, [[0, 11]]);\n    }));\n\n    return function (_x5, _x6) {\n      return _ref3.apply(this, arguments);\n    };\n  }());\n};\n\nvar updateResume = function updateResume(data) {\n  return new Promise( /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(resolve, reject) {\n      var resume;\n      return regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.prev = 0;\n              _context4.next = 3;\n              return db.Resume.findOne({\n                where: {\n                  id: data.id\n                }\n              });\n\n            case 3:\n              resume = _context4.sent;\n\n              if (!resume) {\n                _context4.next = 12;\n                break;\n              }\n\n              resume.title = data.title;\n              resume.description = data.description.trim();\n              _context4.next = 9;\n              return resume.save();\n\n            case 9:\n              resolve(resume);\n              _context4.next = 13;\n              break;\n\n            case 12:\n              resolve();\n\n            case 13:\n              _context4.next = 18;\n              break;\n\n            case 15:\n              _context4.prev = 15;\n              _context4.t0 = _context4[\"catch\"](0);\n              reject(_context4.t0);\n\n            case 18:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4, null, [[0, 15]]);\n    }));\n\n    return function (_x7, _x8) {\n      return _ref4.apply(this, arguments);\n    };\n  }());\n};\n\nvar updateFollowDoctorIdStatus = function updateFollowDoctorIdStatus(id) {\n  return new Promise( /*#__PURE__*/function () {\n    var _ref5 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5(resolve, reject) {\n      var doctor;\n      return regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              _context5.prev = 0;\n              _context5.next = 3;\n              return db.User.findOne({\n                where: {\n                  id: id\n                }\n              });\n\n            case 3:\n              doctor = _context5.sent;\n\n              if (!doctor) {\n                _context5.next = 11;\n                break;\n              }\n\n              if (doctor.status === 1) {\n                doctor.status = 2;\n              } else {\n                doctor.status = 1;\n              }\n\n              _context5.next = 8;\n              return doctor.save();\n\n            case 8:\n              resolve(doctor);\n              _context5.next = 12;\n              break;\n\n            case 11:\n              resolve();\n\n            case 12:\n              _context5.next = 17;\n              break;\n\n            case 14:\n              _context5.prev = 14;\n              _context5.t0 = _context5[\"catch\"](0);\n              reject(_context5.t0);\n\n            case 17:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5, null, [[0, 14]]);\n    }));\n\n    return function (_x9, _x10) {\n      return _ref5.apply(this, arguments);\n    };\n  }());\n};\n\nvar getAllDoctorClinicAndReview = function getAllDoctorClinicAndReview() {\n  return new Promise( /*#__PURE__*/function () {\n    var _ref6 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee6(resolve, reject) {\n      var doctor;\n      return regeneratorRuntime.wrap(function _callee6$(_context6) {\n        while (1) {\n          switch (_context6.prev = _context6.next) {\n            case 0:\n              _context6.prev = 0;\n              _context6.next = 3;\n              return db.User.findAll({\n                where: {\n                  roleID: 2,\n                  status: 1\n                },\n                include: [{\n                  model: db.Review\n                }, {\n                  model: db.Clinic\n                }],\n                raw: true\n              });\n\n            case 3:\n              doctor = _context6.sent;\n\n              if (doctor) {\n                resolve(doctor);\n              } else {\n                resolve([]);\n              }\n\n              _context6.next = 10;\n              break;\n\n            case 7:\n              _context6.prev = 7;\n              _context6.t0 = _context6[\"catch\"](0);\n              reject(_context6.t0);\n\n            case 10:\n            case \"end\":\n              return _context6.stop();\n          }\n        }\n      }, _callee6, null, [[0, 7]]);\n    }));\n\n    return function (_x11, _x12) {\n      return _ref6.apply(this, arguments);\n    };\n  }());\n};\n\nvar getAllClinic = function getAllClinic() {\n  return new Promise( /*#__PURE__*/function () {\n    var _ref7 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee7(resolve, reject) {\n      var clinic;\n      return regeneratorRuntime.wrap(function _callee7$(_context7) {\n        while (1) {\n          switch (_context7.prev = _context7.next) {\n            case 0:\n              _context7.prev = 0;\n              _context7.next = 3;\n              return db.Clinic.findAll({\n                raw: true\n              });\n\n            case 3:\n              clinic = _context7.sent;\n\n              if (clinic) {\n                resolve(clinic);\n              } else {\n                resolve([]);\n              }\n\n              _context7.next = 10;\n              break;\n\n            case 7:\n              _context7.prev = 7;\n              _context7.t0 = _context7[\"catch\"](0);\n              reject(_context7.t0);\n\n            case 10:\n            case \"end\":\n              return _context7.stop();\n          }\n        }\n      }, _callee7, null, [[0, 7]]);\n    }));\n\n    return function (_x13, _x14) {\n      return _ref7.apply(this, arguments);\n    };\n  }());\n};\n\nmodule.exports = {\n  getResumeById: getResumeById,\n  updateFollowDoctorIdStatus: updateFollowDoctorIdStatus,\n  getDoctorByClinicId: getDoctorByClinicId,\n  updateResume: updateResume,\n  getDoctorAppointmentAndResumeById: getDoctorAppointmentAndResumeById,\n  getAllDoctorClinicAndReview: getAllDoctorClinicAndReview,\n  getAllClinic: getAllClinic\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkRvY3RvclNlcnZpY2UuanMiXSwibmFtZXMiOlsiYmNyeXB0IiwicmVxdWlyZSIsImRiIiwiT3AiLCJnZXREb2N0b3JCeUNsaW5pY0lkIiwiY2xpbmljSWQiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsIlVzZXIiLCJmaW5kQWxsIiwid2hlcmUiLCJjbGluaWNJRCIsInJvbGVJRCIsInN0YXR1cyIsInJhdyIsImluY2x1ZGUiLCJtb2RlbCIsIkNsaW5pYyIsInVzZXIiLCJnZXRSZXN1bWVCeUlkIiwicmVzdW1lSWQiLCJSZXN1bWUiLCJmaW5kT25lIiwiaWQiLCJyZXN1bWUiLCJnZXREb2N0b3JBcHBvaW50bWVudEFuZFJlc3VtZUJ5SWQiLCJkb2N0b3JJZCIsImRhdGVOb3ciLCJEYXRlIiwidG9TdHJpbmciLCJBcHBvaW50bWVudCIsImRvY3RvcklEIiwiZGF0ZSIsImlzQ2FuY2VsZWQiLCJvciIsImFwcG9pbnRtZW50IiwidXBkYXRlUmVzdW1lIiwiZGF0YSIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJ0cmltIiwic2F2ZSIsInVwZGF0ZUZvbGxvd0RvY3RvcklkU3RhdHVzIiwiZG9jdG9yIiwiZ2V0QWxsRG9jdG9yQ2xpbmljQW5kUmV2aWV3IiwiUmV2aWV3IiwiZ2V0QWxsQ2xpbmljIiwiY2xpbmljIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7QUFHQTs7Ozs7Ozs7QUFIQSxJQUFNQSxNQUFNLEdBQUdDLE9BQU8sQ0FBQyxVQUFELENBQXRCOztBQUNBLElBQU1DLEVBQUUsR0FBR0QsT0FBTyxDQUFDLGlCQUFELENBQWxCOztBQUNBLGVBQWVBLE9BQU8sQ0FBQyxXQUFELENBQXRCO0FBQUEsSUFBUUUsRUFBUixZQUFRQSxFQUFSOztBQUVBLElBQUlDLG1CQUFtQixHQUFHLFNBQXRCQSxtQkFBc0IsQ0FBQ0MsUUFBRCxFQUFjO0FBQ3RDLFNBQU8sSUFBSUMsT0FBSjtBQUFBLHVFQUFZLGlCQUFPQyxPQUFQLEVBQWdCQyxNQUFo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QVksa0JBQU9DLE9BQVAsRUFBZ0JDLE1BQWhCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxxQkFFSU4sRUFBRSxDQUFDZ0IsTUFBSCxDQUFVUixPQUFWLENBQWtCO0FBQ25DSyxnQkFBQUEsR0FBRyxFQUFFO0FBRDhCLGVBQWxCLENBRko7O0FBQUE7QUFFWGlDLGNBQUFBLE1BRlc7O0FBS2Ysa0JBQUlBLE1BQUosRUFBWTtBQUNWekMsZ0JBQUFBLE9BQU8sQ0FBQ3lDLE1BQUQsQ0FBUDtBQUNELGVBRkQsTUFFTztBQUNMekMsZ0JBQUFBLE9BQU8sQ0FBQyxFQUFELENBQVA7QUFDRDs7QUFUYztBQUFBOztBQUFBO0FBQUE7QUFBQTtBQVdmQyxjQUFBQSxNQUFNLGNBQU47O0FBWGU7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsS0FBWjs7QUFBQTtBQUFBO0FBQUE7QUFBQSxNQUFQO0FBY0QsQ0FmRDs7QUFpQkF5QyxNQUFNLENBQUNDLE9BQVAsR0FBaUI7QUFDZjlCLEVBQUFBLGFBQWEsRUFBYkEsYUFEZTtBQUVmdUIsRUFBQUEsMEJBQTBCLEVBQTFCQSwwQkFGZTtBQUdmdkMsRUFBQUEsbUJBQW1CLEVBQW5CQSxtQkFIZTtBQUlmaUMsRUFBQUEsWUFBWSxFQUFaQSxZQUplO0FBS2ZYLEVBQUFBLGlDQUFpQyxFQUFqQ0EsaUNBTGU7QUFNZm1CLEVBQUFBLDJCQUEyQixFQUEzQkEsMkJBTmU7QUFPZkUsRUFBQUEsWUFBWSxFQUFaQTtBQVBlLENBQWpCIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9tYWMvRGVza3RvcC9GaW5hbF9Qcm9qZWN0X0RUVS9zcmMvYXBwL3NlcnZpY2UvIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgYmNyeXB0ID0gcmVxdWlyZShcImJjcnlwdGpzXCIpO1xyXG5jb25zdCBkYiA9IHJlcXVpcmUoXCIuLi9tb2RlbHMvaW5kZXhcIik7XHJcbmNvbnN0IHsgT3AgfSA9IHJlcXVpcmUoXCJzZXF1ZWxpemVcIik7XHJcbmltcG9ydCB7IGZvcm1hdERhdGUgfSBmcm9tIFwiLi4vLi4vdXRpbC9kYXRlTm93XCI7XHJcbmxldCBnZXREb2N0b3JCeUNsaW5pY0lkID0gKGNsaW5pY0lkKSA9PiB7XHJcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGxldCB1c2VyID0gYXdhaXQgZGIuVXNlci5maW5kQWxsKHtcclxuICAgICAgICB3aGVyZTogeyBjbGluaWNJRDogY2xpbmljSWQsIHJvbGVJRDogMiwgc3RhdHVzOiAxIH0sXHJcbiAgICAgICAgcmF3OiB0cnVlLFxyXG4gICAgICAgIGluY2x1ZGU6IFtcclxuICAgICAgICAgIHtcclxuICAgICAgICAgICAgbW9kZWw6IGRiLkNsaW5pYyxcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgXSxcclxuICAgICAgfSk7XHJcbiAgICAgIGlmICh1c2VyKSB7XHJcbiAgICAgICAgcmVzb2x2ZSh1c2VyKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXNvbHZlKG51bGwpO1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIHJlamVjdChlKTtcclxuICAgIH1cclxuICB9KTtcclxufTtcclxubGV0IGdldFJlc3VtZUJ5SWQgPSAocmVzdW1lSWQpID0+IHtcclxuICByZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgbGV0IHJlc3VtZSA9IGF3YWl0IGRiLlJlc3VtZS5maW5kT25lKHtcclxuICAgICAgICB3aGVyZTogeyBpZDogcmVzdW1lSWQgfSxcclxuICAgICAgICByYXc6IHRydWUsXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgaWYgKHJlc3VtZSkge1xyXG4gICAgICAgIHJlc29sdmUocmVzdW1lKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXNvbHZlKG51bGwpO1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIHJlamVjdChlKTtcclxuICAgIH1cclxuICB9KTtcclxufTtcclxubGV0IGdldERvY3RvckFwcG9pbnRtZW50QW5kUmVzdW1lQnlJZCA9IChkb2N0b3JJZCkgPT4ge1xyXG4gIHJldHVybiBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBsZXQgZGF0ZU5vdyA9IG5ldyBEYXRlKCkudG9TdHJpbmcoKTtcclxuICAgICAgbGV0IHVzZXIgPSBhd2FpdCBkYi5Vc2VyLmZpbmRPbmUoe1xyXG4gICAgICAgIHdoZXJlOiB7IGlkOiBkb2N0b3JJZCwgcm9sZUlEOiAyLCBzdGF0dXM6IDEgfSxcclxuICAgICAgICByYXc6IHRydWUsXHJcbiAgICAgICAgaW5jbHVkZTogW1xyXG4gICAgICAgICAge1xyXG4gICAgICAgICAgICBtb2RlbDogZGIuUmVzdW1lLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHtcclxuICAgICAgICAgICAgbW9kZWw6IGRiLkNsaW5pYyxcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgXSxcclxuICAgICAgfSk7XHJcbiAgICAgIGxldCBhcHBvaW50bWVudCA9IGF3YWl0IGRiLkFwcG9pbnRtZW50LmZpbmRBbGwoe1xyXG4gICAgICAgIHdoZXJlOiB7XHJcbiAgICAgICAgICBkb2N0b3JJRDogZG9jdG9ySWQsXHJcbiAgICAgICAgICBkYXRlOiBmb3JtYXREYXRlKGRhdGVOb3cpLFxyXG4gICAgICAgICAgaXNDYW5jZWxlZDogeyBbT3Aub3JdOiBbMCwgbnVsbF0gfSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIHJhdzogdHJ1ZSxcclxuICAgICAgfSk7XHJcbiAgICAgIGlmICh1c2VyIHx8IGFwcG9pbnRtZW50KSB7XHJcbiAgICAgICAgcmVzb2x2ZShbdXNlciwgYXBwb2ludG1lbnRdKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXNvbHZlKG51bGwpO1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIHJlamVjdChlKTtcclxuICAgIH1cclxuICB9KTtcclxufTtcclxubGV0IHVwZGF0ZVJlc3VtZSA9IChkYXRhKSA9PiB7XHJcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGxldCByZXN1bWUgPSBhd2FpdCBkYi5SZXN1bWUuZmluZE9uZSh7XHJcbiAgICAgICAgd2hlcmU6IHsgaWQ6IGRhdGEuaWQgfSxcclxuICAgICAgfSk7XHJcbiAgICAgIGlmIChyZXN1bWUpIHtcclxuICAgICAgICByZXN1bWUudGl0bGUgPSBkYXRhLnRpdGxlO1xyXG4gICAgICAgIHJlc3VtZS5kZXNjcmlwdGlvbiA9IGRhdGEuZGVzY3JpcHRpb24udHJpbSgpO1xyXG4gICAgICAgIGF3YWl0IHJlc3VtZS5zYXZlKCk7XHJcbiAgICAgICAgcmVzb2x2ZShyZXN1bWUpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICByZWplY3QoZSk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn07XHJcbmxldCB1cGRhdGVGb2xsb3dEb2N0b3JJZFN0YXR1cyA9IChpZCkgPT4ge1xyXG4gIHJldHVybiBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBsZXQgZG9jdG9yID0gYXdhaXQgZGIuVXNlci5maW5kT25lKHtcclxuICAgICAgICB3aGVyZTogeyBpZDogaWQgfSxcclxuICAgICAgfSk7XHJcbiAgICAgIGlmIChkb2N0b3IpIHtcclxuICAgICAgICBpZiAoZG9jdG9yLnN0YXR1cyA9PT0gMSkge1xyXG4gICAgICAgICAgZG9jdG9yLnN0YXR1cyA9IDI7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGRvY3Rvci5zdGF0dXMgPSAxO1xyXG4gICAgICAgIH1cclxuICAgICAgICBhd2FpdCBkb2N0b3Iuc2F2ZSgpO1xyXG4gICAgICAgIHJlc29sdmUoZG9jdG9yKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgcmVqZWN0KGUpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59O1xyXG5cclxubGV0IGdldEFsbERvY3RvckNsaW5pY0FuZFJldmlldyA9ICgpID0+IHtcclxuICByZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgbGV0IGRvY3RvciA9IGF3YWl0IGRiLlVzZXIuZmluZEFsbCh7XHJcbiAgICAgICAgd2hlcmU6IHsgcm9sZUlEOiAyLCBzdGF0dXM6IDEgfSxcclxuICAgICAgICBpbmNsdWRlOiBbXHJcbiAgICAgICAgICB7XHJcbiAgICAgICAgICAgIG1vZGVsOiBkYi5SZXZpZXcsXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAge1xyXG4gICAgICAgICAgICBtb2RlbDogZGIuQ2xpbmljLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICBdLFxyXG4gICAgICAgIHJhdzogdHJ1ZSxcclxuICAgICAgfSk7XHJcbiAgICAgIGlmIChkb2N0b3IpIHtcclxuICAgICAgICByZXNvbHZlKGRvY3Rvcik7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmVzb2x2ZShbXSk7XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIHJlamVjdChlcnJvcik7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn07XHJcblxyXG5sZXQgZ2V0QWxsQ2xpbmljID0gKCkgPT4ge1xyXG4gIHJldHVybiBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBsZXQgY2xpbmljID0gYXdhaXQgZGIuQ2xpbmljLmZpbmRBbGwoe1xyXG4gICAgICAgIHJhdzogdHJ1ZSxcclxuICAgICAgfSk7XHJcbiAgICAgIGlmIChjbGluaWMpIHtcclxuICAgICAgICByZXNvbHZlKGNsaW5pYyk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmVzb2x2ZShbXSk7XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIHJlamVjdChlcnJvcik7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn07XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICBnZXRSZXN1bWVCeUlkLFxyXG4gIHVwZGF0ZUZvbGxvd0RvY3RvcklkU3RhdHVzLFxyXG4gIGdldERvY3RvckJ5Q2xpbmljSWQsXHJcbiAgdXBkYXRlUmVzdW1lLFxyXG4gIGdldERvY3RvckFwcG9pbnRtZW50QW5kUmVzdW1lQnlJZCxcclxuICBnZXRBbGxEb2N0b3JDbGluaWNBbmRSZXZpZXcsXHJcbiAgZ2V0QWxsQ2xpbmljLFxyXG59O1xyXG4iXX0=","map":{"version":3,"sources":["DoctorService.js"],"names":["bcrypt","require","db","Op","getDoctorByClinicId","clinicId","Promise","resolve","reject","User","findAll","where","clinicID","roleID","status","raw","include","model","Clinic","user","getResumeById","resumeId","Resume","findOne","id","resume","getDoctorAppointmentAndResumeById","doctorId","dateNow","Date","toString","Appointment","doctorID","date","isCanceled","or","appointment","updateResume","data","title","description","trim","save","updateFollowDoctorIdStatus","doctor","getAllDoctorClinicAndReview","Review","getAllClinic","clinic","module","exports"],"mappings":"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","sourceRoot":"/Users/mac/Desktop/Final_Project_DTU/src/app/service/","sourcesContent":["const bcrypt = require(\"bcryptjs\");\r\nconst db = require(\"../models/index\");\r\nconst { Op } = require(\"sequelize\");\r\nimport { formatDate } from \"../../util/dateNow\";\r\nlet getDoctorByClinicId = (clinicId) => {\r\n  return new Promise(async (resolve, reject) => {\r\n    try {\r\n      let user = await db.User.findAll({\r\n        where: { clinicID: clinicId, roleID: 2, status: 1 },\r\n        raw: true,\r\n        include: [\r\n          {\r\n            model: db.Clinic,\r\n          },\r\n        ],\r\n      });\r\n      if (user) {\r\n        resolve(user);\r\n      } else {\r\n        resolve(null);\r\n      }\r\n    } catch (e) {\r\n      reject(e);\r\n    }\r\n  });\r\n};\r\nlet getResumeById = (resumeId) => {\r\n  return new Promise(async (resolve, reject) => {\r\n    try {\r\n      let resume = await db.Resume.findOne({\r\n        where: { id: resumeId },\r\n        raw: true,\r\n      });\r\n\r\n      if (resume) {\r\n        resolve(resume);\r\n      } else {\r\n        resolve(null);\r\n      }\r\n    } catch (e) {\r\n      reject(e);\r\n    }\r\n  });\r\n};\r\nlet getDoctorAppointmentAndResumeById = (doctorId) => {\r\n  return new Promise(async (resolve, reject) => {\r\n    try {\r\n      let dateNow = new Date().toString();\r\n      let user = await db.User.findOne({\r\n        where: { id: doctorId, roleID: 2, status: 1 },\r\n        raw: true,\r\n        include: [\r\n          {\r\n            model: db.Resume,\r\n          },\r\n          {\r\n            model: db.Clinic,\r\n          },\r\n        ],\r\n      });\r\n      let appointment = await db.Appointment.findAll({\r\n        where: {\r\n          doctorID: doctorId,\r\n          date: formatDate(dateNow),\r\n          isCanceled: { [Op.or]: [0, null] },\r\n        },\r\n        raw: true,\r\n      });\r\n      if (user || appointment) {\r\n        resolve([user, appointment]);\r\n      } else {\r\n        resolve(null);\r\n      }\r\n    } catch (e) {\r\n      reject(e);\r\n    }\r\n  });\r\n};\r\nlet updateResume = (data) => {\r\n  return new Promise(async (resolve, reject) => {\r\n    try {\r\n      let resume = await db.Resume.findOne({\r\n        where: { id: data.id },\r\n      });\r\n      if (resume) {\r\n        resume.title = data.title;\r\n        resume.description = data.description.trim();\r\n        await resume.save();\r\n        resolve(resume);\r\n      } else {\r\n        resolve();\r\n      }\r\n    } catch (e) {\r\n      reject(e);\r\n    }\r\n  });\r\n};\r\nlet updateFollowDoctorIdStatus = (id) => {\r\n  return new Promise(async (resolve, reject) => {\r\n    try {\r\n      let doctor = await db.User.findOne({\r\n        where: { id: id },\r\n      });\r\n      if (doctor) {\r\n        if (doctor.status === 1) {\r\n          doctor.status = 2;\r\n        } else {\r\n          doctor.status = 1;\r\n        }\r\n        await doctor.save();\r\n        resolve(doctor);\r\n      } else {\r\n        resolve();\r\n      }\r\n    } catch (e) {\r\n      reject(e);\r\n    }\r\n  });\r\n};\r\n\r\nlet getAllDoctorClinicAndReview = () => {\r\n  return new Promise(async (resolve, reject) => {\r\n    try {\r\n      let doctor = await db.User.findAll({\r\n        where: { roleID: 2, status: 1 },\r\n        include: [\r\n          {\r\n            model: db.Review,\r\n          },\r\n          {\r\n            model: db.Clinic,\r\n          },\r\n        ],\r\n        raw: true,\r\n      });\r\n      if (doctor) {\r\n        resolve(doctor);\r\n      } else {\r\n        resolve([]);\r\n      }\r\n    } catch (error) {\r\n      reject(error);\r\n    }\r\n  });\r\n};\r\n\r\nlet getAllClinic = () => {\r\n  return new Promise(async (resolve, reject) => {\r\n    try {\r\n      let clinic = await db.Clinic.findAll({\r\n        raw: true,\r\n      });\r\n      if (clinic) {\r\n        resolve(clinic);\r\n      } else {\r\n        resolve([]);\r\n      }\r\n    } catch (error) {\r\n      reject(error);\r\n    }\r\n  });\r\n};\r\n\r\nmodule.exports = {\r\n  getResumeById,\r\n  updateFollowDoctorIdStatus,\r\n  getDoctorByClinicId,\r\n  updateResume,\r\n  getDoctorAppointmentAndResumeById,\r\n  getAllDoctorClinicAndReview,\r\n  getAllClinic,\r\n};\r\n"]}},"mtime":1651633426000},"{\"sourceRoot\":\"/Users/mac/Desktop/Final_Project_DTU/src/app/service/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/mac/Desktop/Final_Project_DTU\",\"filename\":\"/Users/mac/Desktop/Final_Project_DTU/src/app/service/AppoinmentService.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/mac/Desktop/Final_Project_DTU\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar _bodyParser = require(\"body-parser\");\n\nvar _dateNow = require(\"../../util/dateNow\");\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar db = require(\"../models/index\");\n\nvar _require = require(\"sequelize\"),\n    Op = _require.Op;\n\nvar _require2 = require(\"uuid\"),\n    uuidv4 = _require2.v4;\n\nvar getAppointmentsByUserID = function getAppointmentsByUserID(userID, roleID) {\n  return new Promise( /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(resolve, reject) {\n      var appointment;\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n\n              if (!(roleID == 2)) {\n                _context.next = 7;\n                break;\n              }\n\n              _context.next = 4;\n              return db.Appointment.findAll({\n                where: {\n                  doctorID: userID,\n                  isCanceled: _defineProperty({}, Op.or, [0, null])\n                },\n                raw: true\n              });\n\n            case 4:\n              appointment = _context.sent;\n              _context.next = 11;\n              break;\n\n            case 7:\n              if (!(roleID == 3)) {\n                _context.next = 11;\n                break;\n              }\n\n              _context.next = 10;\n              return db.Appointment.findAll({\n                where: {\n                  userID: userID,\n                  isCanceled: _defineProperty({}, Op.or, [0, null])\n                },\n                raw: true\n              });\n\n            case 10:\n              appointment = _context.sent;\n\n            case 11:\n              if (appointment) {\n                resolve(appointment);\n              } else {\n                resolve([]);\n              }\n\n              _context.next = 17;\n              break;\n\n            case 14:\n              _context.prev = 14;\n              _context.t0 = _context[\"catch\"](0);\n              reject(_context.t0);\n\n            case 17:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 14]]);\n    }));\n\n    return function (_x, _x2) {\n      return _ref.apply(this, arguments);\n    };\n  }());\n};\n\nvar getAppointmentsAndTransactionsByUserID = function getAppointmentsAndTransactionsByUserID(userID, roleID) {\n  return new Promise( /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(resolve, reject) {\n      var appointment;\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n\n              if (!(roleID == 2)) {\n                _context2.next = 7;\n                break;\n              }\n\n              _context2.next = 4;\n              return db.Appointment.findAll({\n                where: {\n                  doctorID: userID\n                },\n                raw: true,\n                include: db.TransactionHistory,\n                order: [[\"startTime\", \"ASC\"]]\n              });\n\n            case 4:\n              appointment = _context2.sent;\n              _context2.next = 11;\n              break;\n\n            case 7:\n              if (!(roleID == 3)) {\n                _context2.next = 11;\n                break;\n              }\n\n              _context2.next = 10;\n              return db.Appointment.findAll({\n                where: {\n                  userID: userID\n                },\n                raw: true,\n                include: db.TransactionHistory,\n                order: [[\"startTime\", \"ASC\"]]\n              });\n\n            case 10:\n              appointment = _context2.sent;\n\n            case 11:\n              if (appointment) {\n                resolve(appointment);\n              } else {\n                resolve([]);\n              }\n\n              _context2.next = 17;\n              break;\n\n            case 14:\n              _context2.prev = 14;\n              _context2.t0 = _context2[\"catch\"](0);\n              reject(_context2.t0);\n\n            case 17:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[0, 14]]);\n    }));\n\n    return function (_x3, _x4) {\n      return _ref2.apply(this, arguments);\n    };\n  }());\n};\n\nvar getAppointmentsByTitle = function getAppointmentsByTitle(title) {\n  return new Promise( /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(resolve, reject) {\n      var appointment;\n      return regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.prev = 0;\n              _context3.next = 3;\n              return db.Appointment.findOne({\n                where: {\n                  title: title\n                },\n                raw: true\n              });\n\n            case 3:\n              appointment = _context3.sent;\n\n              if (appointment) {\n                resolve(appointment);\n              } else {\n                resolve([]);\n              }\n\n              _context3.next = 10;\n              break;\n\n            case 7:\n              _context3.prev = 7;\n              _context3.t0 = _context3[\"catch\"](0);\n              reject(_context3.t0);\n\n            case 10:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, null, [[0, 7]]);\n    }));\n\n    return function (_x5, _x6) {\n      return _ref3.apply(this, arguments);\n    };\n  }());\n};\n\nvar getAppointmentById = function getAppointmentById(id) {\n  return new Promise( /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(resolve, reject) {\n      var appointment;\n      return regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.prev = 0;\n              _context4.next = 3;\n              return db.Appointment.findOne({\n                where: {\n                  id: id\n                },\n                raw: true\n              });\n\n            case 3:\n              appointment = _context4.sent;\n\n              if (appointment) {\n                resolve(appointment);\n              } else {\n                resolve([]);\n              }\n\n              _context4.next = 10;\n              break;\n\n            case 7:\n              _context4.prev = 7;\n              _context4.t0 = _context4[\"catch\"](0);\n              reject(_context4.t0);\n\n            case 10:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4, null, [[0, 7]]);\n    }));\n\n    return function (_x7, _x8) {\n      return _ref4.apply(this, arguments);\n    };\n  }());\n};\n\nvar getAppandMessage = function getAppandMessage() {\n  return new Promise( /*#__PURE__*/function () {\n    var _ref5 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5(resolve, reject) {\n      var appointment;\n      return regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              _context5.prev = 0;\n              _context5.next = 3;\n              return db.Appointment.findAll({\n                include: db.Message\n              });\n\n            case 3:\n              appointment = _context5.sent;\n\n              if (appointment) {\n                resolve(appointment);\n              } else {\n                resolve([]);\n              }\n\n              _context5.next = 10;\n              break;\n\n            case 7:\n              _context5.prev = 7;\n              _context5.t0 = _context5[\"catch\"](0);\n              reject(_context5.t0);\n\n            case 10:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5, null, [[0, 7]]);\n    }));\n\n    return function (_x9, _x10) {\n      return _ref5.apply(this, arguments);\n    };\n  }());\n};\n\nvar createNewAppointment = function createNewAppointment(userID, data) {\n  return new Promise( /*#__PURE__*/function () {\n    var _ref6 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee6(resolve, reject) {\n      var createAppointment;\n      return regeneratorRuntime.wrap(function _callee6$(_context6) {\n        while (1) {\n          switch (_context6.prev = _context6.next) {\n            case 0:\n              _context6.prev = 0;\n              _context6.next = 3;\n              return db.Appointment.create({\n                id: uuidv4(),\n                userID: userID,\n                doctorID: data.doctorID,\n                title: data.title,\n                startTime: data.startTime,\n                date: data.date,\n                endTime: data.endTime\n              });\n\n            case 3:\n              createAppointment = _context6.sent;\n              resolve(createAppointment.id);\n              _context6.next = 10;\n              break;\n\n            case 7:\n              _context6.prev = 7;\n              _context6.t0 = _context6[\"catch\"](0);\n              reject(_context6.t0);\n\n            case 10:\n            case \"end\":\n              return _context6.stop();\n          }\n        }\n      }, _callee6, null, [[0, 7]]);\n    }));\n\n    return function (_x11, _x12) {\n      return _ref6.apply(this, arguments);\n    };\n  }());\n};\n\nvar checkingAvailableTime = function checkingAvailableTime(time, date, appointment) {\n  var dateNow = (0, _dateNow.formatDate)(new Date().toString());\n  var timeNow = (0, _dateNow.getTimeNow)();\n\n  if (date < dateNow || date == dateNow && time < timeNow) {\n    return false;\n  }\n\n  for (var i = 0; i < appointment.length; i++) {\n    if (appointment[i].startTime == time && appointment[i].date == date) {\n      return false;\n    }\n  }\n\n  return true;\n};\n\nvar updateAppointment = function updateAppointment(data) {\n  return new Promise( /*#__PURE__*/function () {\n    var _ref7 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee7(resolve, reject) {\n      var appointment;\n      return regeneratorRuntime.wrap(function _callee7$(_context7) {\n        while (1) {\n          switch (_context7.prev = _context7.next) {\n            case 0:\n              _context7.prev = 0;\n              _context7.next = 3;\n              return db.Appointment.findOne({\n                where: {\n                  id: data.id\n                }\n              });\n\n            case 3:\n              appointment = _context7.sent;\n\n              if (!appointment) {\n                _context7.next = 10;\n                break;\n              }\n\n              _context7.next = 7;\n              return db.Appointment.update({\n                id: data.id,\n                userID: userID,\n                doctorID: data.doctorID,\n                title: data.title,\n                date: data.date,\n                startTime: data.startTime,\n                endTime: data.endTime,\n                isCancel: false\n              });\n\n            case 7:\n              resolve(\"Update Successfully!\");\n              _context7.next = 11;\n              break;\n\n            case 10:\n              resolve(null);\n\n            case 11:\n              _context7.next = 16;\n              break;\n\n            case 13:\n              _context7.prev = 13;\n              _context7.t0 = _context7[\"catch\"](0);\n              reject(_context7.t0);\n\n            case 16:\n            case \"end\":\n              return _context7.stop();\n          }\n        }\n      }, _callee7, null, [[0, 13]]);\n    }));\n\n    return function (_x13, _x14) {\n      return _ref7.apply(this, arguments);\n    };\n  }());\n};\n\nvar cancelAppointment = function cancelAppointment(id) {\n  return new Promise( /*#__PURE__*/function () {\n    var _ref8 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee8(resolve, reject) {\n      var appointment;\n      return regeneratorRuntime.wrap(function _callee8$(_context8) {\n        while (1) {\n          switch (_context8.prev = _context8.next) {\n            case 0:\n              _context8.prev = 0;\n              _context8.next = 3;\n              return db.Appointment.findOne({\n                where: {\n                  id: id\n                }\n              });\n\n            case 3:\n              appointment = _context8.sent;\n\n              if (!appointment) {\n                _context8.next = 11;\n                break;\n              }\n\n              appointment.isCanceled = true;\n              _context8.next = 8;\n              return appointment.save();\n\n            case 8:\n              resolve(appointment);\n              _context8.next = 12;\n              break;\n\n            case 11:\n              resolve(null);\n\n            case 12:\n              _context8.next = 17;\n              break;\n\n            case 14:\n              _context8.prev = 14;\n              _context8.t0 = _context8[\"catch\"](0);\n              reject(_context8.t0);\n\n            case 17:\n            case \"end\":\n              return _context8.stop();\n          }\n        }\n      }, _callee8, null, [[0, 14]]);\n    }));\n\n    return function (_x15, _x16) {\n      return _ref8.apply(this, arguments);\n    };\n  }());\n};\n\nvar getAppointmentsOnDayByUserID = function getAppointmentsOnDayByUserID(userID, roleID, date) {\n  return new Promise( /*#__PURE__*/function () {\n    var _ref9 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee9(resolve, reject) {\n      var appointment;\n      return regeneratorRuntime.wrap(function _callee9$(_context9) {\n        while (1) {\n          switch (_context9.prev = _context9.next) {\n            case 0:\n              _context9.prev = 0;\n\n              if (!(roleID == 2)) {\n                _context9.next = 7;\n                break;\n              }\n\n              _context9.next = 4;\n              return db.Appointment.findAll({\n                where: {\n                  doctorID: userID,\n                  isCanceled: _defineProperty({}, Op.or, [0, null, 1]),\n                  date: date\n                },\n                raw: true,\n                order: [[\"startTime\", \"ASC\"]]\n              });\n\n            case 4:\n              appointment = _context9.sent;\n              _context9.next = 11;\n              break;\n\n            case 7:\n              if (!(roleID == 3)) {\n                _context9.next = 11;\n                break;\n              }\n\n              _context9.next = 10;\n              return db.Appointment.findAll({\n                where: {\n                  userID: userID,\n                  isCanceled: _defineProperty({}, Op.or, [0, null]),\n                  date: date\n                },\n                raw: true,\n                order: [[\"startTime\", \"ASC\"]]\n              });\n\n            case 10:\n              appointment = _context9.sent;\n\n            case 11:\n              if (appointment) {\n                resolve(appointment);\n              } else {\n                resolve([]);\n              }\n\n              _context9.next = 17;\n              break;\n\n            case 14:\n              _context9.prev = 14;\n              _context9.t0 = _context9[\"catch\"](0);\n              reject(_context9.t0);\n\n            case 17:\n            case \"end\":\n              return _context9.stop();\n          }\n        }\n      }, _callee9, null, [[0, 14]]);\n    }));\n\n    return function (_x17, _x18) {\n      return _ref9.apply(this, arguments);\n    };\n  }());\n};\n\nmodule.exports = {\n  getAppointmentsByUserID: getAppointmentsByUserID,\n  getAppointmentsByTitle: getAppointmentsByTitle,\n  getAppandMessage: getAppandMessage,\n  updateAppointment: updateAppointment,\n  checkingAvailableTime: checkingAvailableTime,\n  getAppointmentById: getAppointmentById,\n  cancelAppointment: cancelAppointment,\n  getAppointmentsOnDayByUserID: getAppointmentsOnDayByUserID,\n  createNewAppointment: createNewAppointment,\n  getAppointmentsAndTransactionsByUserID: getAppointmentsAndTransactionsByUserID\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkFwcG9pbm1lbnRTZXJ2aWNlLmpzIl0sIm5hbWVzIjpbImRiIiwicmVxdWlyZSIsIk9wIiwidXVpZHY0IiwidjQiLCJnZXRBcHBvaW50bWVudHNCeVVzZXJJRCIsInVzZXJJRCIsInJvbGVJRCIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiQXBwb2ludG1lbnQiLCJmaW5kQWxsIiwid2hlcmUiLCJkb2N0b3JJRCIsImlzQ2FuY2VsZWQiLCJvciIsInJhdyIsImFwcG9pbnRtZW50IiwiZ2V0QXBwb2ludG1lbnRzQW5kVHJhbnNhY3Rpb25zQnlVc2VySUQiLCJpbmNsdWRlIiwiVHJhbnNhY3Rpb25IaXN0b3J5Iiwib3JkZXIiLCJnZXRBcHBvaW50bWVudHNCeVRpdGxlIiwidGl0bGUiLCJmaW5kT25lIiwiZ2V0QXBwb2ludG1lbnRCeUlkIiwiaWQiLCJnZXRBcHBhbmRNZXNzYWdlIiwiTWVzc2FnZSIsImNyZWF0ZU5ld0FwcG9pbnRtZW50IiwiZGF0YSIsImNyZWF0ZSIsInN0YXJ0VGltZSIsImRhdGUiLCJlbmRUaW1lIiwiY3JlYXRlQXBwb2ludG1lbnQiLCJjaGVja2luZ0F2YWlsYWJsZVRpbWUiLCJ0aW1lIiwiZGF0ZU5vdyIsIkRhdGUiLCJ0b1N0cmluZyIsInRpbWVOb3ciLCJpIiwibGVuZ3RoIiwidXBkYXRlQXBwb2ludG1lbnQiLCJ1cGRhdGUiLCJpc0NhbmNlbCIsImNhbmNlbEFwcG9pbnRtZW50Iiwic2F2ZSIsImdldEFwcG9pbnRtZW50c09uRGF5QnlVc2VySUQiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOztBQUdBOztBQUNBOzs7Ozs7OztBQUpBLElBQU1BLEVBQUUsR0FBR0MsT0FBTyxDQUFDLGlCQUFELENBQWxCOztBQUNBLGVBQWVBLE9BQU8sQ0FBQyxXQUFELENBQXRCO0FBQUEsSUFBUUMsRUFBUixZQUFRQSxFQUFSOztBQUNBLGdCQUF1QkQsT0FBTyxDQUFDLE1BQUQsQ0FBOUI7QUFBQSxJQUFZRSxNQUFaLGFB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YWxfUHJvamVjdF9EVFUvc3JjL2FwcC9zZXJ2aWNlLyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGRiID0gcmVxdWlyZShcIi4uL21vZGVscy9pbmRleFwiKTtcclxuY29uc3QgeyBPcCB9ID0gcmVxdWlyZShcInNlcXVlbGl6ZVwiKTtcclxuY29uc3QgeyB2NDogdXVpZHY0IH0gPSByZXF1aXJlKFwidXVpZFwiKTtcclxuaW1wb3J0IHsgcmF3IH0gZnJvbSBcImJvZHktcGFyc2VyXCI7XHJcbmltcG9ydCB7IGZvcm1hdERhdGUsZ2V0VGltZU5vdyB9IGZyb20gXCIuLi8uLi91dGlsL2RhdGVOb3dcIjtcclxubGV0IGdldEFwcG9pbnRtZW50c0J5VXNlcklEID0gKHVzZXJJRCwgcm9sZUlEKSA9PiB7XHJcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGxldCBhcHBvaW50bWVudDtcclxuICAgICAgaWYgKHJvbGVJRCA9PSAyKSB7XHJcbiAgICAgICAgYXBwb2ludG1lbnQgPSBhd2FpdCBkYi5BcHBvaW50bWVudC5maW5kQWxsKHtcclxuICAgICAgICAgIHdoZXJlOiB7IGRvY3RvcklEOiB1c2VySUQsIGlzQ2FuY2VsZWQ6IHsgW09wLm9yXTogWzAsIG51bGxdIH0gfSxcclxuICAgICAgICAgIHJhdzogdHJ1ZSxcclxuICAgICAgICB9KTtcclxuICAgICAgfSBlbHNlIGlmIChyb2xlSUQgPT0gMykge1xyXG4gICAgICAgIGFwcG9pbnRtZW50ID0gYXdhaXQgZGIuQXBwb2ludG1lbnQuZmluZEFsbCh7XHJcbiAgICAgICAgICB3aGVyZTogeyB1c2VySUQ6IHVzZXJJRCwgaXNDYW5jZWxlZDogeyBbT3Aub3JdOiBbMCwgbnVsbF0gfSB9LFxyXG4gICAgICAgICAgcmF3OiB0cnVlLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChhcHBvaW50bWVudCkge1xyXG4gICAgICAgIHJlc29sdmUoYXBwb2ludG1lbnQpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJlc29sdmUoW10pO1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIHJlamVjdChlKTtcclxuICAgIH1cclxuICB9KTtcclxufTtcclxubGV0IGdldEFwcG9pbnRtZW50c0FuZFRyYW5zYWN0aW9uc0J5VXNlcklEID0gKHVzZXJJRCwgcm9sZUlEKSA9PiB7XHJcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGxldCBhcHBvaW50bWVudDtcclxuICAgICAgaWYgKHJvbGVJRCA9PSAyKSB7XHJcbiAgICAgICAgYXBwb2ludG1lbnQgPSBhd2FpdCBkYi5BcHBvaW50bWVudC5maW5kQWxsKHtcclxuICAgICAgICAgIHdoZXJlOiB7IGRvY3RvcklEOiB1c2VySUQgfSxcclxuICAgICAgICAgIHJhdzogdHJ1ZSxcclxuICAgICAgICAgIGluY2x1ZGU6IGRiLlRyYW5zYWN0aW9uSGlzdG9yeSxcclxuICAgICAgICAgIG9yZGVyOiBbW1wic3RhcnRUaW1lXCIsIFwiQVNDXCJdXSxcclxuICAgICAgICB9KTtcclxuICAgICAgfSBlbHNlIGlmIChyb2xlSUQgPT0gMykge1xyXG4gICAgICAgIGFwcG9pbnRtZW50ID0gYXdhaXQgZGIuQXBwb2ludG1lbnQuZmluZEFsbCh7XHJcbiAgICAgICAgICB3aGVyZTogeyB1c2VySUQ6IHVzZXJJRCB9LFxyXG4gICAgICAgICAgcmF3OiB0cnVlLFxyXG4gICAgICAgICAgaW5jbHVkZTogZGIuVHJhbnNhY3Rpb25IaXN0b3J5LFxyXG4gICAgICAgICAgb3JkZXI6IFtbXCJzdGFydFRpbWVcIiwgXCJBU0NcIl1dLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChhcHBvaW50bWVudCkge1xyXG4gICAgICAgIHJlc29sdmUoYXBwb2ludG1lbnQpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJlc29sdmUoW10pO1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIHJlamVjdChlKTtcclxuICAgIH1cclxuICB9KTtcclxufTtcclxubGV0IGdldEFwcG9pbnRtZW50c0J5VGl0bGUgPSAodGl0bGUpID0+IHtcclxuICByZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgbGV0IGFwcG9pbnRtZW50ID0gYXdhaXQgZGIuQXBwb2ludG1lbnQuZmluZE9uZSh7XHJcbiAgICAgICAgd2hlcmU6IHsgdGl0bGU6IHRpdGxlIH0sXHJcbiAgICAgICAgcmF3OiB0cnVlLFxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGlmIChhcHBvaW50bWVudCkge1xyXG4gICAgICAgIHJlc29sdmUoYXBwb2ludG1lbnQpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJlc29sdmUoW10pO1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIHJlamVjdChlKTtcclxuICAgIH1cclxuICB9KTtcclxufTtcclxubGV0IGdldEFwcG9pbnRtZW50QnlJZCA9IChpZCkgPT4ge1xyXG4gIHJldHVybiBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBsZXQgYXBwb2ludG1lbnQgPSBhd2FpdCBkYi5BcHBvaW50bWVudC5maW5kT25lKHtcclxuICAgICAgICB3aGVyZTogeyBpZDogaWQgfSxcclxuICAgICAgICByYXc6IHRydWUsXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgaWYgKGFwcG9pbnRtZW50KSB7XHJcbiAgICAgICAgcmVzb2x2ZShhcHBvaW50bWVudCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmVzb2x2ZShbXSk7XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgcmVqZWN0KGUpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59O1xyXG5sZXQgZ2V0QXBwYW5kTWVzc2FnZSA9ICgpID0+IHtcclxuICByZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgbGV0IGFwcG9pbnRtZW50ID0gYXdhaXQgZGIuQXBwb2ludG1lbnQuZmluZEFsbCh7XHJcbiAgICAgICAgaW5jbHVkZTogZGIuTWVzc2FnZSxcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBpZiAoYXBwb2ludG1lbnQpIHtcclxuICAgICAgICByZXNvbHZlKGFwcG9pbnRtZW50KTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXNvbHZlKFtdKTtcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICByZWplY3QoZSk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn07XHJcbmxldCBjcmVhdGVOZXdBcHBvaW50bWVudCA9ICh1c2VySUQsIGRhdGEpID0+IHtcclxuICByZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgbGV0IGNyZWF0ZUFwcG9pbnRtZW50ID0gYXdhaXQgZGIuQXBwb2ludG1lbnQuY3JlYXRlKHtcclxuICAgICAgICBpZDogdXVpZHY0KCksXHJcbiAgICAgICAgdXNlcklEOiB1c2VySUQsXHJcbiAgICAgICAgZG9jdG9ySUQ6IGRhdGEuZG9jdG9ySUQsXHJcbiAgICAgICAgdGl0bGU6IGRhdGEudGl0bGUsXHJcbiAgICAgICAgc3RhcnRUaW1lOiBkYXRhLnN0YXJ0VGltZSxcclxuICAgICAgICBkYXRlOiBkYXRhLmRhdGUsXHJcbiAgICAgICAgZW5kVGltZTogZGF0YS5lbmRUaW1lLFxyXG4gICAgICB9KTtcclxuICAgICAgcmVzb2x2ZShjcmVhdGVBcHBvaW50bWVudC5pZCk7XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIHJlamVjdChlKTtcclxuICAgIH1cclxuICB9KTtcclxufTtcclxubGV0IGNoZWNraW5nQXZhaWxhYmxlVGltZSA9ICh0aW1lLCBkYXRlLCBhcHBvaW50bWVudCkgPT4ge1xyXG4gIGxldCBkYXRlTm93ID0gZm9ybWF0RGF0ZShuZXcgRGF0ZSgpLnRvU3RyaW5nKCkpO1xyXG4gIGxldCB0aW1lTm93ID0gZ2V0VGltZU5vdygpO1xyXG4gIGlmKGRhdGUgPCBkYXRlTm93IHx8IChkYXRlID09IGRhdGVOb3cgJiYgdGltZSA8IHRpbWVOb3cpKXtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcHBvaW50bWVudC5sZW5ndGg7IGkrKykge1xyXG4gICAgaWYgKGFwcG9pbnRtZW50W2ldLnN0YXJ0VGltZSA9PSB0aW1lICYmIGFwcG9pbnRtZW50W2ldLmRhdGUgPT0gZGF0ZSkge1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgfVxyXG4gIHJldHVybiB0cnVlO1xyXG59O1xyXG5cclxubGV0IHVwZGF0ZUFwcG9pbnRtZW50ID0gKGRhdGEpID0+IHtcclxuICByZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgbGV0IGFwcG9pbnRtZW50ID0gYXdhaXQgZGIuQXBwb2ludG1lbnQuZmluZE9uZSh7XHJcbiAgICAgICAgd2hlcmU6IHsgaWQ6IGRhdGEuaWQgfSxcclxuICAgICAgfSk7XHJcbiAgICAgIGlmIChhcHBvaW50bWVudCkge1xyXG4gICAgICAgIGF3YWl0IGRiLkFwcG9pbnRtZW50LnVwZGF0ZSh7XHJcbiAgICAgICAgICBpZDogZGF0YS5pZCxcclxuICAgICAgICAgIHVzZXJJRDogdXNlcklELFxyXG4gICAgICAgICAgZG9jdG9ySUQ6IGRhdGEuZG9jdG9ySUQsXHJcbiAgICAgICAgICB0aXRsZTogZGF0YS50aXRsZSxcclxuICAgICAgICAgIGRhdGU6IGRhdGEuZGF0ZSxcclxuICAgICAgICAgIHN0YXJ0VGltZTogZGF0YS5zdGFydFRpbWUsXHJcbiAgICAgICAgICBlbmRUaW1lOiBkYXRhLmVuZFRpbWUsXHJcbiAgICAgICAgICBpc0NhbmNlbDogZmFsc2UsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmVzb2x2ZShcIlVwZGF0ZSBTdWNjZXNzZnVsbHkhXCIpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJlc29sdmUobnVsbCk7XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgcmVqZWN0KGUpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59O1xyXG5cclxubGV0IGNhbmNlbEFwcG9pbnRtZW50ID0gKGlkKSA9PiB7XHJcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGxldCBhcHBvaW50bWVudCA9IGF3YWl0IGRiLkFwcG9pbnRtZW50LmZpbmRPbmUoe1xyXG4gICAgICAgIHdoZXJlOiB7IGlkOiBpZCB9LFxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGlmIChhcHBvaW50bWVudCkge1xyXG4gICAgICAgIGFwcG9pbnRtZW50LmlzQ2FuY2VsZWQgPSB0cnVlO1xyXG4gICAgICAgIGF3YWl0IGFwcG9pbnRtZW50LnNhdmUoKTtcclxuICAgICAgICByZXNvbHZlKGFwcG9pbnRtZW50KTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXNvbHZlKG51bGwpO1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIHJlamVjdChlKTtcclxuICAgIH1cclxuICB9KTtcclxufTtcclxuXHJcbmxldCBnZXRBcHBvaW50bWVudHNPbkRheUJ5VXNlcklEID0gKHVzZXJJRCwgcm9sZUlELCBkYXRlKSA9PiB7XHJcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGxldCBhcHBvaW50bWVudDtcclxuICAgICAgaWYgKHJvbGVJRCA9PSAyKSB7XHJcbiAgICAgICAgYXBwb2ludG1lbnQgPSBhd2FpdCBkYi5BcHBvaW50bWVudC5maW5kQWxsKHtcclxuICAgICAgICAgIHdoZXJlOiB7XHJcbiAgICAgICAgICAgIGRvY3RvcklEOiB1c2VySUQsXHJcbiAgICAgICAgICAgIGlzQ2FuY2VsZWQ6IHsgW09wLm9yXTogWzAsIG51bGwsIDFdIH0sXHJcbiAgICAgICAgICAgIGRhdGU6IGRhdGUsXHJcbiAgICAgICAgICB9LFxyXG5cclxuICAgICAgICAgIHJhdzogdHJ1ZSxcclxuICAgICAgICAgIG9yZGVyOiBbW1wic3RhcnRUaW1lXCIsIFwiQVNDXCJdXSxcclxuICAgICAgICB9KTtcclxuICAgICAgfSBlbHNlIGlmIChyb2xlSUQgPT0gMykge1xyXG4gICAgICAgIGFwcG9pbnRtZW50ID0gYXdhaXQgZGIuQXBwb2ludG1lbnQuZmluZEFsbCh7XHJcbiAgICAgICAgICB3aGVyZToge1xyXG4gICAgICAgICAgICB1c2VySUQ6IHVzZXJJRCxcclxuICAgICAgICAgICAgaXNDYW5jZWxlZDogeyBbT3Aub3JdOiBbMCwgbnVsbF0gfSxcclxuICAgICAgICAgICAgZGF0ZTogZGF0ZSxcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICByYXc6IHRydWUsXHJcbiAgICAgICAgICBvcmRlcjogW1tcInN0YXJ0VGltZVwiLCBcIkFTQ1wiXV0sXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKGFwcG9pbnRtZW50KSB7XHJcbiAgICAgICAgcmVzb2x2ZShhcHBvaW50bWVudCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmVzb2x2ZShbXSk7XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgcmVqZWN0KGUpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59O1xyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICBnZXRBcHBvaW50bWVudHNCeVVzZXJJRDogZ2V0QXBwb2ludG1lbnRzQnlVc2VySUQsXHJcbiAgZ2V0QXBwb2ludG1lbnRzQnlUaXRsZSxcclxuICBnZXRBcHBhbmRNZXNzYWdlLFxyXG4gIHVwZGF0ZUFwcG9pbnRtZW50LFxyXG4gIGNoZWNraW5nQXZhaWxhYmxlVGltZSxcclxuICBnZXRBcHBvaW50bWVudEJ5SWQsXHJcbiAgY2FuY2VsQXBwb2ludG1lbnQsXHJcbiAgZ2V0QXBwb2ludG1lbnRzT25EYXlCeVVzZXJJRCxcclxuICBjcmVhdGVOZXdBcHBvaW50bWVudCxcclxuICBnZXRBcHBvaW50bWVudHNBbmRUcmFuc2FjdGlvbnNCeVVzZXJJRCxcclxufTtcclxuIl19","map":{"version":3,"sources":["AppoinmentService.js"],"names":["db","require","Op","uuidv4","v4","getAppointmentsByUserID","userID","roleID","Promise","resolve","reject","Appointment","findAll","where","doctorID","isCanceled","or","raw","appointment","getAppointmentsAndTransactionsByUserID","include","TransactionHistory","order","getAppointmentsByTitle","title","findOne","getAppointmentById","id","getAppandMessage","Message","createNewAppointment","data","create","startTime","date","endTime","createAppointment","checkingAvailableTime","time","dateNow","Date","toString","timeNow","i","length","updateAppointment","update","isCancel","cancelAppointment","save","getAppointmentsOnDayByUserID","module","exports"],"mappings":"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","sourceRoot":"/Users/mac/Desktop/Final_Project_DTU/src/app/service/","sourcesContent":["const db = require(\"../models/index\");\r\nconst { Op } = require(\"sequelize\");\r\nconst { v4: uuidv4 } = require(\"uuid\");\r\nimport { raw } from \"body-parser\";\r\nimport { formatDate,getTimeNow } from \"../../util/dateNow\";\r\nlet getAppointmentsByUserID = (userID, roleID) => {\r\n  return new Promise(async (resolve, reject) => {\r\n    try {\r\n      let appointment;\r\n      if (roleID == 2) {\r\n        appointment = await db.Appointment.findAll({\r\n          where: { doctorID: userID, isCanceled: { [Op.or]: [0, null] } },\r\n          raw: true,\r\n        });\r\n      } else if (roleID == 3) {\r\n        appointment = await db.Appointment.findAll({\r\n          where: { userID: userID, isCanceled: { [Op.or]: [0, null] } },\r\n          raw: true,\r\n        });\r\n      }\r\n      if (appointment) {\r\n        resolve(appointment);\r\n      } else {\r\n        resolve([]);\r\n      }\r\n    } catch (e) {\r\n      reject(e);\r\n    }\r\n  });\r\n};\r\nlet getAppointmentsAndTransactionsByUserID = (userID, roleID) => {\r\n  return new Promise(async (resolve, reject) => {\r\n    try {\r\n      let appointment;\r\n      if (roleID == 2) {\r\n        appointment = await db.Appointment.findAll({\r\n          where: { doctorID: userID },\r\n          raw: true,\r\n          include: db.TransactionHistory,\r\n          order: [[\"startTime\", \"ASC\"]],\r\n        });\r\n      } else if (roleID == 3) {\r\n        appointment = await db.Appointment.findAll({\r\n          where: { userID: userID },\r\n          raw: true,\r\n          include: db.TransactionHistory,\r\n          order: [[\"startTime\", \"ASC\"]],\r\n        });\r\n      }\r\n      if (appointment) {\r\n        resolve(appointment);\r\n      } else {\r\n        resolve([]);\r\n      }\r\n    } catch (e) {\r\n      reject(e);\r\n    }\r\n  });\r\n};\r\nlet getAppointmentsByTitle = (title) => {\r\n  return new Promise(async (resolve, reject) => {\r\n    try {\r\n      let appointment = await db.Appointment.findOne({\r\n        where: { title: title },\r\n        raw: true,\r\n      });\r\n\r\n      if (appointment) {\r\n        resolve(appointment);\r\n      } else {\r\n        resolve([]);\r\n      }\r\n    } catch (e) {\r\n      reject(e);\r\n    }\r\n  });\r\n};\r\nlet getAppointmentById = (id) => {\r\n  return new Promise(async (resolve, reject) => {\r\n    try {\r\n      let appointment = await db.Appointment.findOne({\r\n        where: { id: id },\r\n        raw: true,\r\n      });\r\n\r\n      if (appointment) {\r\n        resolve(appointment);\r\n      } else {\r\n        resolve([]);\r\n      }\r\n    } catch (e) {\r\n      reject(e);\r\n    }\r\n  });\r\n};\r\nlet getAppandMessage = () => {\r\n  return new Promise(async (resolve, reject) => {\r\n    try {\r\n      let appointment = await db.Appointment.findAll({\r\n        include: db.Message,\r\n      });\r\n\r\n      if (appointment) {\r\n        resolve(appointment);\r\n      } else {\r\n        resolve([]);\r\n      }\r\n    } catch (e) {\r\n      reject(e);\r\n    }\r\n  });\r\n};\r\nlet createNewAppointment = (userID, data) => {\r\n  return new Promise(async (resolve, reject) => {\r\n    try {\r\n      let createAppointment = await db.Appointment.create({\r\n        id: uuidv4(),\r\n        userID: userID,\r\n        doctorID: data.doctorID,\r\n        title: data.title,\r\n        startTime: data.startTime,\r\n        date: data.date,\r\n        endTime: data.endTime,\r\n      });\r\n      resolve(createAppointment.id);\r\n    } catch (e) {\r\n      reject(e);\r\n    }\r\n  });\r\n};\r\nlet checkingAvailableTime = (time, date, appointment) => {\r\n  let dateNow = formatDate(new Date().toString());\r\n  let timeNow = getTimeNow();\r\n  if(date < dateNow || (date == dateNow && time < timeNow)){\r\n    return false;\r\n  }\r\n  for (let i = 0; i < appointment.length; i++) {\r\n    if (appointment[i].startTime == time && appointment[i].date == date) {\r\n      return false;\r\n    }\r\n  }\r\n  return true;\r\n};\r\n\r\nlet updateAppointment = (data) => {\r\n  return new Promise(async (resolve, reject) => {\r\n    try {\r\n      let appointment = await db.Appointment.findOne({\r\n        where: { id: data.id },\r\n      });\r\n      if (appointment) {\r\n        await db.Appointment.update({\r\n          id: data.id,\r\n          userID: userID,\r\n          doctorID: data.doctorID,\r\n          title: data.title,\r\n          date: data.date,\r\n          startTime: data.startTime,\r\n          endTime: data.endTime,\r\n          isCancel: false,\r\n        });\r\n        resolve(\"Update Successfully!\");\r\n      } else {\r\n        resolve(null);\r\n      }\r\n    } catch (e) {\r\n      reject(e);\r\n    }\r\n  });\r\n};\r\n\r\nlet cancelAppointment = (id) => {\r\n  return new Promise(async (resolve, reject) => {\r\n    try {\r\n      let appointment = await db.Appointment.findOne({\r\n        where: { id: id },\r\n      });\r\n\r\n      if (appointment) {\r\n        appointment.isCanceled = true;\r\n        await appointment.save();\r\n        resolve(appointment);\r\n      } else {\r\n        resolve(null);\r\n      }\r\n    } catch (e) {\r\n      reject(e);\r\n    }\r\n  });\r\n};\r\n\r\nlet getAppointmentsOnDayByUserID = (userID, roleID, date) => {\r\n  return new Promise(async (resolve, reject) => {\r\n    try {\r\n      let appointment;\r\n      if (roleID == 2) {\r\n        appointment = await db.Appointment.findAll({\r\n          where: {\r\n            doctorID: userID,\r\n            isCanceled: { [Op.or]: [0, null, 1] },\r\n            date: date,\r\n          },\r\n\r\n          raw: true,\r\n          order: [[\"startTime\", \"ASC\"]],\r\n        });\r\n      } else if (roleID == 3) {\r\n        appointment = await db.Appointment.findAll({\r\n          where: {\r\n            userID: userID,\r\n            isCanceled: { [Op.or]: [0, null] },\r\n            date: date,\r\n          },\r\n          raw: true,\r\n          order: [[\"startTime\", \"ASC\"]],\r\n        });\r\n      }\r\n      if (appointment) {\r\n        resolve(appointment);\r\n      } else {\r\n        resolve([]);\r\n      }\r\n    } catch (e) {\r\n      reject(e);\r\n    }\r\n  });\r\n};\r\nmodule.exports = {\r\n  getAppointmentsByUserID: getAppointmentsByUserID,\r\n  getAppointmentsByTitle,\r\n  getAppandMessage,\r\n  updateAppointment,\r\n  checkingAvailableTime,\r\n  getAppointmentById,\r\n  cancelAppointment,\r\n  getAppointmentsOnDayByUserID,\r\n  createNewAppointment,\r\n  getAppointmentsAndTransactionsByUserID,\r\n};\r\n"]}},"mtime":1678979298837},"{\"sourceRoot\":\"/Users/mac/Desktop/Final_Project_DTU/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/mac/Desktop/Final_Project_DTU\",\"filename\":\"/Users/mac/Desktop/Final_Project_DTU/src/routes/auth.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/mac/Desktop/Final_Project_DTU\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar express = require(\"express\");\n\nvar router = express.Router();\n\nvar multer = require(\"multer\");\n\nvar upload = multer({\n  dest: \"src/public/uploads/\"\n});\n\nvar authMiddlewares = require(\"../app/middlewares/AuthMiddlewares\");\n\nvar authController = require(\"../app/controllers/AuthController\");\n\nrouter.get(\"/login\", authMiddlewares.checkLogin, authController.index); // => /auth/login\n\nrouter.post(\"/login\", authController.login);\nrouter.get(\"/register\", authController.registerPage); // => /auth/register\n\nrouter.post(\"/register\", authController.confirmEmailRegister);\nrouter.get(\"/code\", authController.registerConfirmEmail);\nrouter.post(\"/code\", authController.confirmCode);\nrouter.get(\"/registerAccount\", authController.registerAccount);\nrouter.post(\"/registerAccount\", authController.saveAccount);\nrouter.get(\"/forgotAccount\", authController.forgotPasswordPage);\nrouter.post(\"/forgotAccount\", authController.sendPasswordToEmail);\nrouter.get(\"/changePassword\", authController.displayChangePassword);\nrouter.post(\"/changePassword\", authController.changePassword);\nrouter.get(\"/logout\", authController.logout);\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGguanMiXSwibmFtZXMiOlsiZXhwcmVzcyIsInJlcXVpcmUiLCJyb3V0ZXIiLCJSb3V0ZXIiLCJtdWx0ZXIiLCJ1cGxvYWQiLCJkZXN0IiwiYXV0aE1pZGRsZXdhcmVzIiwiYXV0aENvbnRyb2xsZXIiLCJnZXQiLCJjaGVja0xvZ2luIiwiaW5kZXgiLCJwb3N0IiwibG9naW4iLCJyZWdpc3RlclBhZ2UiLCJjb25maXJtRW1haWxSZWdpc3RlciIsInJlZ2lzdGVyQ29uZmlybUVtYWlsIiwiY29uZmlybUNvZGUiLCJyZWdpc3RlckFjY291bnQiLCJzYXZlQWNjb3VudCIsImZvcmdvdFBhc3N3b3JkUGFnZSIsInNlbmRQYXNzd29yZFRvRW1haWwiLCJkaXNwbGF5Q2hhbmdlUGFzc3dvcmQiLCJjaGFuZ2VQYXNzd29yZCIsImxvZ291dCIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBSUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBRCxDQUFyQjs7QUFDQSxJQUFJQyxNQUFNLEdBQUdGLE9BQU8sQ0FBQ0csTUFBUixFQUFiOztBQUNBLElBQUlDLE1BQU0sR0FBR0gsT0FBTyxDQUFDLFFBQUQsQ0FBcEI7O0FBQ0EsSUFBTUksTUFBTSxHQUFHRCxNQUFNLENBQUM7QUFDcEJFLEVBQUFBLElBQUksRUFBRTtBQURjLENBQUQsQ0FBckI7O0FBR0EsSUFBTUMsZUFBZSxHQUFHTixPQUFPLENBQUMsb0NBQUQsQ0FBL0I7O0FBQ0EsSUFBTU8sY0FBYyxHQUFHUCxPQUFPLENBQUMsbUNBQUQsQ0FBOUI7O0FBRUFDLE1BQU0sQ0FBQ08sR0FBUCxDQUFXLFFBQVgsRUFBcUJGLGVBQWUsQ0FBQ0csVUFBckMsRUFBaURGLGNBQWMsQ0FBQ0csS0FBaEUsRSxDQUF3RTs7QUFDeEVULE1BQU0sQ0FBQ1UsSUFBUCxDQUFZLFFBQVosRUFBc0JKLGNBQWMsQ0FBQ0ssS0FBckM7QUFDQVgsTUFBTSxDQUFDTyxHQUFQLENBQVcsV0FBWCxFQUF3QkQsY0FBYyxDQUFDTSxZQUF2QyxFLENBQXNEOztBQUN0RFosTUFBTSxDQUFDVSxJQUFQLENBQVksV0FBWixFQUF5QkosY0FBYyxDQUFDTyxvQkFBeEM7QUFDQWIsTUFBTSxDQUFDTyxHQUFQLENBQVcsT0FBWCxFQUFvQkQsY0FBYyxDQUFDUSxvQkFBbkM7QUFDQWQsTUFBTSxDQUFDVSxJQUFQLENBQVksT0FBWixFQUFxQkosY0FBYyxDQUFDUyxXQUFwQztBQUNBZixNQUFNLENBQUNPLEdBQVAsQ0FBVyxrQkFBWCxFQUErQkQsY0FBYyxDQUFDVSxlQUE5QztBQUNBaEIsTUFBTSxDQUFDVSxJQUFQLENBQVksa0JBQVosRUFBZ0NKLGNBQWMsQ0FBQ1csV0FBL0M7QUFDQWpCLE1BQU0sQ0FBQ08sR0FBUCxDQUFXLGdCQUFYLEVBQTZCRCxjQUFjLENBQUNZLGtCQUE1QztBQUNBbEIsTUFBTSxDQUFDVSxJQUFQLENBQVksZ0JBQVosRUFBOEJKLGNBQWMsQ0FBQ2EsbUJBQTdDO0FBQ0FuQixNQUFNLENBQUNPLEdBQVAsQ0FBVyxpQkFBWCxFQUE4QkQsY0FBYyxDQUFDYyxxQkFBN0M7QUFDQXBCLE1BQU0sQ0FBQ1UsSUFBUCxDQUFZLGlCQUFaLEVBQStCSixjQUFjLENBQUNlLGNBQTlDO0FBQ0FyQixNQUFNLENBQUNPLEdBQVAsQ0FBVyxTQUFYLEVBQXNCRCxjQUFjLENBQUNnQixNQUFyQztBQUVBQyxNQUFNLENBQUNDLE9BQVAsR0FBaUJ4QixNQUFqQiIsInNvdXJjZVJvb3QiOiIvVXNlcnMvbWFjL0Rlc2t0b3AvRmluYWxfUHJvamVjdF9EVFUvc3JjL3JvdXRlcy8iLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZXhwcmVzcyA9IHJlcXVpcmUoXCJleHByZXNzXCIpO1xyXG52YXIgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcclxubGV0IG11bHRlciA9IHJlcXVpcmUoXCJtdWx0ZXJcIik7XHJcbmNvbnN0IHVwbG9hZCA9IG11bHRlcih7XHJcbiAgZGVzdDogXCJzcmMvcHVibGljL3VwbG9hZHMvXCIsXHJcbn0pO1xyXG5jb25zdCBhdXRoTWlkZGxld2FyZXMgPSByZXF1aXJlKFwiLi4vYXBwL21pZGRsZXdhcmVzL0F1dGhNaWRkbGV3YXJlc1wiKTtcclxuY29uc3QgYXV0aENvbnRyb2xsZXIgPSByZXF1aXJlKFwiLi4vYXBwL2NvbnRyb2xsZXJzL0F1dGhDb250cm9sbGVyXCIpO1xyXG5cclxucm91dGVyLmdldChcIi9sb2dpblwiLCBhdXRoTWlkZGxld2FyZXMuY2hlY2tMb2dpbiwgYXV0aENvbnRyb2xsZXIuaW5kZXgpOyAvLyA9PiAvYXV0aC9sb2dpblxyXG5yb3V0ZXIucG9zdChcIi9sb2dpblwiLCBhdXRoQ29udHJvbGxlci5sb2dpbik7XHJcbnJvdXRlci5nZXQoXCIvcmVnaXN0ZXJcIiwgYXV0aENvbnRyb2xsZXIucmVnaXN0ZXJQYWdlKTsgLy8gPT4gL2F1dGgvcmVnaXN0ZXJcclxucm91dGVyLnBvc3QoXCIvcmVnaXN0ZXJcIiwgYXV0aENvbnRyb2xsZXIuY29uZmlybUVtYWlsUmVnaXN0ZXIpO1xyXG5yb3V0ZXIuZ2V0KFwiL2NvZGVcIiwgYXV0aENvbnRyb2xsZXIucmVnaXN0ZXJDb25maXJtRW1haWwpO1xyXG5yb3V0ZXIucG9zdChcIi9jb2RlXCIsIGF1dGhDb250cm9sbGVyLmNvbmZpcm1Db2RlKTtcclxucm91dGVyLmdldChcIi9yZWdpc3RlckFjY291bnRcIiwgYXV0aENvbnRyb2xsZXIucmVnaXN0ZXJBY2NvdW50KTtcclxucm91dGVyLnBvc3QoXCIvcmVnaXN0ZXJBY2NvdW50XCIsIGF1dGhDb250cm9sbGVyLnNhdmVBY2NvdW50KTtcclxucm91dGVyLmdldChcIi9mb3Jnb3RBY2NvdW50XCIsIGF1dGhDb250cm9sbGVyLmZvcmdvdFBhc3N3b3JkUGFnZSk7XHJcbnJvdXRlci5wb3N0KFwiL2ZvcmdvdEFjY291bnRcIiwgYXV0aENvbnRyb2xsZXIuc2VuZFBhc3N3b3JkVG9FbWFpbCk7XHJcbnJvdXRlci5nZXQoXCIvY2hhbmdlUGFzc3dvcmRcIiwgYXV0aENvbnRyb2xsZXIuZGlzcGxheUNoYW5nZVBhc3N3b3JkKTtcclxucm91dGVyLnBvc3QoXCIvY2hhbmdlUGFzc3dvcmRcIiwgYXV0aENvbnRyb2xsZXIuY2hhbmdlUGFzc3dvcmQpO1xyXG5yb3V0ZXIuZ2V0KFwiL2xvZ291dFwiLCBhdXRoQ29udHJvbGxlci5sb2dvdXQpO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7XHJcbiJdfQ==","map":{"version":3,"sources":["auth.js"],"names":["express","require","router","Router","multer","upload","dest","authMiddlewares","authController","get","checkLogin","index","post","login","registerPage","confirmEmailRegister","registerConfirmEmail","confirmCode","registerAccount","saveAccount","forgotPasswordPage","sendPasswordToEmail","displayChangePassword","changePassword","logout","module","exports"],"mappings":";;AAAA,IAAIA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAArB;;AACA,IAAIC,MAAM,GAAGF,OAAO,CAACG,MAAR,EAAb;;AACA,IAAIC,MAAM,GAAGH,OAAO,CAAC,QAAD,CAApB;;AACA,IAAMI,MAAM,GAAGD,MAAM,CAAC;AACpBE,EAAAA,IAAI,EAAE;AADc,CAAD,CAArB;;AAGA,IAAMC,eAAe,GAAGN,OAAO,CAAC,oCAAD,CAA/B;;AACA,IAAMO,cAAc,GAAGP,OAAO,CAAC,mCAAD,CAA9B;;AAEAC,MAAM,CAACO,GAAP,CAAW,QAAX,EAAqBF,eAAe,CAACG,UAArC,EAAiDF,cAAc,CAACG,KAAhE,E,CAAwE;;AACxET,MAAM,CAACU,IAAP,CAAY,QAAZ,EAAsBJ,cAAc,CAACK,KAArC;AACAX,MAAM,CAACO,GAAP,CAAW,WAAX,EAAwBD,cAAc,CAACM,YAAvC,E,CAAsD;;AACtDZ,MAAM,CAACU,IAAP,CAAY,WAAZ,EAAyBJ,cAAc,CAACO,oBAAxC;AACAb,MAAM,CAACO,GAAP,CAAW,OAAX,EAAoBD,cAAc,CAACQ,oBAAnC;AACAd,MAAM,CAACU,IAAP,CAAY,OAAZ,EAAqBJ,cAAc,CAACS,WAApC;AACAf,MAAM,CAACO,GAAP,CAAW,kBAAX,EAA+BD,cAAc,CAACU,eAA9C;AACAhB,MAAM,CAACU,IAAP,CAAY,kBAAZ,EAAgCJ,cAAc,CAACW,WAA/C;AACAjB,MAAM,CAACO,GAAP,CAAW,gBAAX,EAA6BD,cAAc,CAACY,kBAA5C;AACAlB,MAAM,CAACU,IAAP,CAAY,gBAAZ,EAA8BJ,cAAc,CAACa,mBAA7C;AACAnB,MAAM,CAACO,GAAP,CAAW,iBAAX,EAA8BD,cAAc,CAACc,qBAA7C;AACApB,MAAM,CAACU,IAAP,CAAY,iBAAZ,EAA+BJ,cAAc,CAACe,cAA9C;AACArB,MAAM,CAACO,GAAP,CAAW,SAAX,EAAsBD,cAAc,CAACgB,MAArC;AAEAC,MAAM,CAACC,OAAP,GAAiBxB,MAAjB","sourceRoot":"/Users/mac/Desktop/Final_Project_DTU/src/routes/","sourcesContent":["var express = require(\"express\");\r\nvar router = express.Router();\r\nlet multer = require(\"multer\");\r\nconst upload = multer({\r\n  dest: \"src/public/uploads/\",\r\n});\r\nconst authMiddlewares = require(\"../app/middlewares/AuthMiddlewares\");\r\nconst authController = require(\"../app/controllers/AuthController\");\r\n\r\nrouter.get(\"/login\", authMiddlewares.checkLogin, authController.index); // => /auth/login\r\nrouter.post(\"/login\", authController.login);\r\nrouter.get(\"/register\", authController.registerPage); // => /auth/register\r\nrouter.post(\"/register\", authController.confirmEmailRegister);\r\nrouter.get(\"/code\", authController.registerConfirmEmail);\r\nrouter.post(\"/code\", authController.confirmCode);\r\nrouter.get(\"/registerAccount\", authController.registerAccount);\r\nrouter.post(\"/registerAccount\", authController.saveAccount);\r\nrouter.get(\"/forgotAccount\", authController.forgotPasswordPage);\r\nrouter.post(\"/forgotAccount\", authController.sendPasswordToEmail);\r\nrouter.get(\"/changePassword\", authController.displayChangePassword);\r\nrouter.post(\"/changePassword\", authController.changePassword);\r\nrouter.get(\"/logout\", authController.logout);\r\n\r\nmodule.exports = router;\r\n"]}},"mtime":1651628686000},"{\"sourceRoot\":\"/Users/mac/Desktop/Final_Project_DTU/src/app/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/mac/Desktop/Final_Project_DTU\",\"filename\":\"/Users/mac/Desktop/Final_Project_DTU/src/app/controllers/AuthController.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/mac/Desktop/Final_Project_DTU\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar _express = require(\"express\");\n\nvar _UserService = require(\"../service/UserService\");\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nvar express = require(\"express\");\n\nvar router = express.Router();\n\nvar _require = require(\"uuid\"),\n    uuidv4 = _require.v4;\n\nvar bcrypt = require(\"bcryptjs\");\n\nvar salt = 5;\nvar Random = Math.floor(Math.random() * 1000000 + 100).toString();\n\nvar AuthController = /*#__PURE__*/function () {\n  function AuthController() {\n    _classCallCheck(this, AuthController);\n  }\n\n  _createClass(AuthController, [{\n    key: \"index\",\n    value: function index(req, res) {\n      res.render(\"auth/login\", {\n        message: req.session.errorLogin,\n        messageRegister: req.session.messageRegister\n      });\n\n      if (req.session.errorLogin) {\n        req.session.errorLogin = null;\n      }\n\n      if (req.session.messageRegister) {\n        req.session.messageRegister = null;\n      }\n    } //login\n\n  }, {\n    key: \"login\",\n    value: function () {\n      var _login = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(req, res) {\n        var captCha, user, accountRole, accountID, firstName, lastName, image, resumeID;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                // console.log(\"req.session.userId: \", req.session.userId);\n                captCha = req.body[\"g-recaptcha-response\"];\n\n                if (!captCha) {\n                  _context.next = 8;\n                  break;\n                }\n\n                _context.next = 4;\n                return (0, _UserService.getUserByEmailAndPassword)(req.body.email, req.body.password);\n\n              case 4:\n                user = _context.sent;\n\n                if (user && user.status != 0) {\n                  accountRole = user.roleID;\n                  accountID = user.id;\n                  firstName = user.firstName;\n                  lastName = user.lastName;\n                  image = user.image;\n                  resumeID = user.resumeID; //save account to session\n\n                  req.session.firstName = firstName;\n                  req.session.lastName = lastName;\n                  req.session.userID = accountID;\n                  req.session.roleID = accountRole;\n                  req.session.image = image;\n                  req.session.resumeID = resumeID; //console.log(req.session);\n\n                  if (accountRole === 1) {\n                    res.redirect(\"/admin\");\n                  }\n\n                  if (accountRole === 2) {\n                    res.redirect(\"/\");\n                  }\n\n                  if (accountRole === 3) {\n                    res.redirect(\"/\");\n                  }\n                } else {\n                  //return message\n                  req.session.errorLogin = \"Email or password is wrong please re-enter !\";\n                  res.redirect(\"back\");\n                }\n\n                _context.next = 10;\n                break;\n\n              case 8:\n                //return message\n                req.session.errorLogin = \"Please confirm captcha !\";\n                res.redirect(\"back\");\n\n              case 10:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function login(_x, _x2) {\n        return _login.apply(this, arguments);\n      }\n\n      return login;\n    }()\n  }, {\n    key: \"logout\",\n    value: function logout(req, res) {\n      req.session.destroy();\n      res.redirect(\"/\");\n    } // register page\n\n  }, {\n    key: \"registerPage\",\n    value: function registerPage(req, res) {\n      res.render(\"auth/signup_email\", {\n        message: req.session.errorRegister\n      });\n\n      if (req.session.errorRegister) {\n        req.session.errorRegister = null;\n      }\n    } //render confirm email page\n\n  }, {\n    key: \"registerConfirmEmail\",\n    value: function registerConfirmEmail(req, res) {\n      res.render(\"auth/confirmEmail_view\", {\n        message: req.session.errorConfirmCode\n      });\n      req.session.errorConfirmCode = null;\n    } //confirm email register\n\n  }, {\n    key: \"confirmEmailRegister\",\n    value: function () {\n      var _confirmEmailRegister = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(req, res) {\n        var userExists;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return (0, _UserService.getUserByEmail)(req.body.email);\n\n              case 2:\n                userExists = _context2.sent;\n\n                if (userExists !== null) {\n                  //Email is already registered\n                  // req.session.errorRegister = \"Email is already registered !\";\n                  // res.redirect(\"/auth/register\");\n                  res.send({\n                    error: \"Email này đã được sử dụng\"\n                  }); //sendmail\n                } else {\n                  req.session.code = Random;\n                  req.session.email = req.body.email;\n                  (0, _UserService.sendMail)(req.body.email, \"danchoiphonui27@gmail.com\", \"yhofjnwkxjrpdckd\", Random); //save session :code,email\n\n                  req.session.code = Random;\n                  req.session.email = req.body.email; // res.redirect(\"/auth/code\");\n\n                  console.log(\"code is:\", req.session.code);\n                  res.send({\n                    ok: true\n                  });\n                }\n\n              case 4:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      function confirmEmailRegister(_x3, _x4) {\n        return _confirmEmailRegister.apply(this, arguments);\n      }\n\n      return confirmEmailRegister;\n    }()\n  }, {\n    key: \"confirmCode\",\n    value: function confirmCode(req, res) {\n      var code = req.body.code;\n      var codeConfirm = req.session.code;\n\n      if (code === codeConfirm) {\n        req.session.accountVerified = true;\n        req.session.code = null; // res.redirect(\"/auth/registerAccount\");\n\n        res.send({\n          ok: true\n        });\n      } else {\n        // req.session.errorConfirmCode =\n        //   \"The code is wrong, please check the code again!\";\n        // res.redirect(\"back\");\n        res.send({\n          registerError: \"Mã không đúng, vui lòng thử lại.\"\n        });\n      }\n    }\n  }, {\n    key: \"registerAccount\",\n    value: function registerAccount(req, res) {\n      if (req.session.accountVerified == true) {\n        req.session.accountVerified = null;\n        res.render(\"auth/signup\");\n      } else {\n        res.redirect(\"/auth/register\");\n      }\n    }\n  }, {\n    key: \"saveAccount\",\n    value: function () {\n      var _saveAccount = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(req, res) {\n        var createUser;\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                req.body.id = uuidv4();\n                req.body.email = req.session.email;\n                _context3.next = 4;\n                return (0, _UserService.createNewUser)(req.body);\n\n              case 4:\n                createUser = _context3.sent;\n\n                if (createUser) {\n                  req.session.messageRegister = \"Đăng ký thành công, vui lòng đăng nhập để tiếp tục!\";\n                  res.redirect(\"/auth/login\");\n                } else res.redirect(\"/auth/register\");\n\n              case 6:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      function saveAccount(_x5, _x6) {\n        return _saveAccount.apply(this, arguments);\n      }\n\n      return saveAccount;\n    }() //forgot Password\n\n  }, {\n    key: \"forgotPasswordPage\",\n    value: function forgotPasswordPage(req, res) {\n      var message = req.session.errorForgotPassword;\n      res.render(\"auth/forgotAccountPage\", {\n        message: message\n      });\n      req.session.errorForgotPassword = null;\n    }\n  }, {\n    key: \"sendPasswordToEmail\",\n    value: function () {\n      var _sendPasswordToEmail = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(req, res) {\n        var userExists;\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return (0, _UserService.getUserByEmail)(req.body.email);\n\n              case 2:\n                userExists = _context4.sent;\n\n                if (userExists !== null) {\n                  //sendmail\n                  (0, _UserService.sendMail)(req.body.email, \"danchoiphonui27@gmail.com\", \"yhofjnwkxjrpdckd\", Random); //save session :code,email\n\n                  req.session.codeForgotAccount = Random;\n                  req.session.emailForgotAccount = req.body.email;\n                  res.redirect(\"/auth/changePassword\");\n                } else {\n                  //Email is does not exist\n                  req.session.errorForgotPassword = \"Tài Khoản Không Tồn Tại !\";\n                  res.redirect(\"back\");\n                }\n\n              case 4:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4);\n      }));\n\n      function sendPasswordToEmail(_x7, _x8) {\n        return _sendPasswordToEmail.apply(this, arguments);\n      }\n\n      return sendPasswordToEmail;\n    }() //change password\n\n  }, {\n    key: \"displayChangePassword\",\n    value: function displayChangePassword(req, res) {\n      var code = req.session.codeForgotAccount;\n      var email = req.session.emailForgotAccount;\n      var message = req.session.messageCode;\n\n      if (code && email) {\n        res.render(\"auth/changePasswordPage\", {\n          message: message\n        });\n        req.session.messageCode = null;\n      } else {\n        res.redirect(\"back\");\n      }\n    }\n  }, {\n    key: \"changePassword\",\n    value: function () {\n      var _changePassword = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5(req, res) {\n        var email, isUpdated;\n        return regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                if (!(req.body.code == req.session.codeForgotAccount)) {\n                  _context5.next = 8;\n                  break;\n                }\n\n                email = req.session.emailForgotAccount;\n                _context5.next = 4;\n                return (0, _UserService.updatePassword)(email, req.body.password);\n\n              case 4:\n                isUpdated = _context5.sent;\n\n                if (isUpdated) {\n                  req.session.emailForgotAccount = null;\n                  req.session.codeForgotAccount = null;\n                  req.session.messageRegister = \"Thay đổi mật khẩu thành công, vui lòng đăng nhập để tiếp tục!\";\n                  res.redirect(\"/auth/login\");\n                }\n\n                _context5.next = 10;\n                break;\n\n              case 8:\n                req.session.messageCode = \"Sai Mã Code , Vui Lòng Nhập Lại\";\n                res.redirect(\"back\");\n\n              case 10:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5);\n      }));\n\n      function changePassword(_x9, _x10) {\n        return _changePassword.apply(this, arguments);\n      }\n\n      return changePassword;\n    }()\n  }]);\n\n  return AuthController;\n}();\n\nmodule.exports = new AuthController();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkF1dGhDb250cm9sbGVyLmpzIl0sIm5hbWVzIjpbImV4cHJlc3MiLCJyZXF1aXJlIiwicm91dGVyIiwiUm91dGVyIiwidXVpZHY0IiwidjQiLCJiY3J5cHQiLCJzYWx0IiwiUmFuZG9tIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwidG9TdHJpbmciLCJBdXRoQ29udHJvbGxlciIsInJlcSIsInJlcyIsInJlbmRlciIsIm1lc3NhZ2UiLCJzZXNzaW9uIiwiZXJyb3JMb2dpbiIsIm1lc3NhZ2VSZWdpc3RlciIsImNhcHRDaGEiLCJib2R5IiwiZW1haWwiLCJwYXNzd29yZCIsInVzZXIiLCJzdGF0dXMiLCJhY2NvdW50Um9sZSIsInJvbGVJRCIsImFjY291bnRJRCIsImlkIiwiZmlyc3ROYW1lIiwibGFzdE5hbWUiLCJpbWFnZSIsInJlc3VtZUlEIiwidXNlcklEIiwicmVkaXJlY3QiLCJkZXN0cm95IiwiZXJyb3JSZWdpc3RlciIsImVycm9yQ29uZmlybUNvZGUiLCJ1c2VyRXhpc3RzIiwic2VuZCIsImVycm9yIiwiY29kZSIsImNvbnNvbGUiLCJsb2ciLCJvayIsImNvZGVDb25maXJtIiwiYWNjb3VudFZlcmlmaWVkIiwicmVnaXN0ZXJFcnJvciIsImNyZWF0ZVVzZXIiLCJlcnJvckZvcmdvdFBhc3N3b3JkIiwiY29kZUZvcmdvdEFjY291bnQiLCJlbWFpbEZvcmdvdEFjY291bnQiLCJtZXNzYWdlQ29kZSIsImlzVXBkYXRlZCIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7O0FBT0E7O0FBRUE7Ozs7Ozs7Ozs7OztBQVRBLElBQU1BLE9BQU8sR0FBR0MsT0FBTyxDQUFDLFNBQUQsQ0FBdkI7O0FBQ0EsSUFBTUMsTUFBTSxHQUFHRixPQUFPLENBQUNHLE1BQVIsRUFBZjs7QUFDQSxlQUF1QkYsT0FBTyxDQUFDLE1BQUQsQ0FBOUI7QUFBQSxJQUFZRyxNQUFaLFlBQVFDLEVBQVI7O0FBQ0EsSUFBTUMsTUFBTSxHQUFHTCxPQUFPLENBQUMsVUFB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QUEsR0FBRyxDQUFDSSxPQUFKLENBQVltQyxrQkFBWixHQUFpQyxJQUFqQztBQUNBdkMsa0JBQUFBLEdBQUcsQ0FBQ0ksT0FBSixDQUFZa0MsaUJBQVosR0FBZ0MsSUFBaEM7QUFDQXRDLGtCQUFBQSxHQUFHLENBQUNJLE9BQUosQ0FBWUUsZUFBWixHQUNFLCtEQURGO0FBRUFMLGtCQUFBQSxHQUFHLENBQUNxQixRQUFKLENBQWEsYUFBYjtBQUNEOztBQVZMO0FBQUE7O0FBQUE7QUFZSXRCLGdCQUFBQSxHQUFHLENBQUNJLE9BQUosQ0FBWW9DLFdBQVosR0FBMEIsaUNBQTFCO0FBQ0F2QyxnQkFBQUEsR0FBRyxDQUFDcUIsUUFBSixDQUFhLE1BQWI7O0FBYko7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsTzs7Ozs7Ozs7Ozs7OztBQWlCRm9CLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQixJQUFJNUMsY0FBSixFQUFqQiIsInNvdXJjZVJvb3QiOiIvVXNlcnMvbWFjL0Rlc2t0b3AvRmluYWxfUHJvamVjdF9EVFUvc3JjL2FwcC9jb250cm9sbGVycy8iLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBleHByZXNzID0gcmVxdWlyZShcImV4cHJlc3NcIik7XHJcbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XHJcbmNvbnN0IHsgdjQ6IHV1aWR2NCB9ID0gcmVxdWlyZShcInV1aWRcIik7XHJcbmNvbnN0IGJjcnlwdCA9IHJlcXVpcmUoXCJiY3J5cHRqc1wiKTtcclxubGV0IHNhbHQgPSA1O1xyXG5cclxubGV0IFJhbmRvbSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMDAwMDAgKyAxMDApLnRvU3RyaW5nKCk7XHJcbmltcG9ydCB7IHJlc3BvbnNlIH0gZnJvbSBcImV4cHJlc3NcIjtcclxuXHJcbmltcG9ydCB7XHJcbiAgdXBkYXRlUGFzc3dvcmQsXHJcbiAgZ2V0VXNlckJ5RW1haWxBbmRQYXNzd29yZCxcclxuICBnZXRVc2VyQnlFbWFpbCxcclxuICBjcmVhdGVOZXdVc2VyLFxyXG4gIHNlbmRNYWlsLFxyXG59IGZyb20gXCIuLi9zZXJ2aWNlL1VzZXJTZXJ2aWNlXCI7XHJcbmNsYXNzIEF1dGhDb250cm9sbGVyIHtcclxuICBpbmRleChyZXEsIHJlcykge1xyXG4gICAgcmVzLnJlbmRlcihcImF1dGgvbG9naW5cIiwge1xyXG4gICAgICBtZXNzYWdlOiByZXEuc2Vzc2lvbi5lcnJvckxvZ2luLFxyXG4gICAgICBtZXNzYWdlUmVnaXN0ZXI6IHJlcS5zZXNzaW9uLm1lc3NhZ2VSZWdpc3RlcixcclxuICAgIH0pO1xyXG4gICAgaWYgKHJlcS5zZXNzaW9uLmVycm9yTG9naW4pIHtcclxuICAgICAgcmVxLnNlc3Npb24uZXJyb3JMb2dpbiA9IG51bGw7XHJcbiAgICB9XHJcbiAgICBpZiAocmVxLnNlc3Npb24ubWVzc2FnZVJlZ2lzdGVyKSB7XHJcbiAgICAgIHJlcS5zZXNzaW9uLm1lc3NhZ2VSZWdpc3RlciA9IG51bGw7XHJcbiAgICB9XHJcbiAgfVxyXG4gIC8vbG9naW5cclxuICBhc3luYyBsb2dpbihyZXEsIHJlcykge1xyXG4gICAgLy8gY29uc29sZS5sb2coXCJyZXEuc2Vzc2lvbi51c2VySWQ6IFwiLCByZXEuc2Vzc2lvbi51c2VySWQpO1xyXG5cclxuICAgIGxldCBjYXB0Q2hhID0gcmVxLmJvZHlbXCJnLXJlY2FwdGNoYS1yZXNwb25zZVwiXTtcclxuICAgIGlmIChjYXB0Q2hhKSB7XHJcbiAgICAgIGxldCB1c2VyID0gYXdhaXQgZ2V0VXNlckJ5RW1haWxBbmRQYXNzd29yZChcclxuICAgICAgICByZXEuYm9keS5lbWFpbCxcclxuICAgICAgICByZXEuYm9keS5wYXNzd29yZFxyXG4gICAgICApO1xyXG5cclxuICAgICAgaWYgKHVzZXIgJiYgdXNlci5zdGF0dXMgIT0gMCkge1xyXG4gICAgICAgIGNvbnN0IGFjY291bnRSb2xlID0gdXNlci5yb2xlSUQ7XHJcbiAgICAgICAgY29uc3QgYWNjb3VudElEID0gdXNlci5pZDtcclxuICAgICAgICBjb25zdCBmaXJzdE5hbWUgPSB1c2VyLmZpcnN0TmFtZTtcclxuICAgICAgICBjb25zdCBsYXN0TmFtZSA9IHVzZXIubGFzdE5hbWU7XHJcbiAgICAgICAgY29uc3QgaW1hZ2UgPSB1c2VyLmltYWdlO1xyXG4gICAgICAgIGNvbnN0IHJlc3VtZUlEID0gdXNlci5yZXN1bWVJRDtcclxuXHJcbiAgICAgICAgLy9zYXZlIGFjY291bnQgdG8gc2Vzc2lvblxyXG4gICAgICAgIHJlcS5zZXNzaW9uLmZpcnN0TmFtZSA9IGZpcnN0TmFtZTtcclxuICAgICAgICByZXEuc2Vzc2lvbi5sYXN0TmFtZSA9IGxhc3ROYW1lO1xyXG4gICAgICAgIHJlcS5zZXNzaW9uLnVzZXJJRCA9IGFjY291bnRJRDtcclxuICAgICAgICByZXEuc2Vzc2lvbi5yb2xlSUQgPSBhY2NvdW50Um9sZTtcclxuICAgICAgICByZXEuc2Vzc2lvbi5pbWFnZSA9IGltYWdlO1xyXG4gICAgICAgIHJlcS5zZXNzaW9uLnJlc3VtZUlEID0gcmVzdW1lSUQ7XHJcbiAgICAgICAgLy9jb25zb2xlLmxvZyhyZXEuc2Vzc2lvbik7XHJcbiAgICAgICAgaWYgKGFjY291bnRSb2xlID09PSAxKSB7XHJcbiAgICAgICAgICByZXMucmVkaXJlY3QoXCIvYWRtaW5cIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChhY2NvdW50Um9sZSA9PT0gMikge1xyXG4gICAgICAgICAgcmVzLnJlZGlyZWN0KFwiL1wiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChhY2NvdW50Um9sZSA9PT0gMykge1xyXG4gICAgICAgICAgcmVzLnJlZGlyZWN0KFwiL1wiKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy9yZXR1cm4gbWVzc2FnZVxyXG4gICAgICAgIHJlcS5zZXNzaW9uLmVycm9yTG9naW4gPSBcIkVtYWlsIG9yIHBhc3N3b3JkIGlzIHdyb25nIHBsZWFzZSByZS1lbnRlciAhXCI7XHJcbiAgICAgICAgcmVzLnJlZGlyZWN0KFwiYmFja1wiKTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy9yZXR1cm4gbWVzc2FnZVxyXG4gICAgICByZXEuc2Vzc2lvbi5lcnJvckxvZ2luID0gXCJQbGVhc2UgY29uZmlybSBjYXB0Y2hhICFcIjtcclxuICAgICAgcmVzLnJlZGlyZWN0KFwiYmFja1wiKTtcclxuICAgIH1cclxuICB9XHJcbiAgbG9nb3V0KHJlcSwgcmVzKSB7XHJcbiAgICByZXEuc2Vzc2lvbi5kZXN0cm95KCk7XHJcbiAgICByZXMucmVkaXJlY3QoXCIvXCIpO1xyXG4gIH1cclxuICAvLyByZWdpc3RlciBwYWdlXHJcbiAgcmVnaXN0ZXJQYWdlKHJlcSwgcmVzKSB7XHJcbiAgICByZXMucmVuZGVyKFwiYXV0aC9zaWdudXBfZW1haWxcIiwgeyBtZXNzYWdlOiByZXEuc2Vzc2lvbi5lcnJvclJlZ2lzdGVyIH0pO1xyXG4gICAgaWYgKHJlcS5zZXNzaW9uLmVycm9yUmVnaXN0ZXIpIHtcclxuICAgICAgcmVxLnNlc3Npb24uZXJyb3JSZWdpc3RlciA9IG51bGw7XHJcbiAgICB9XHJcbiAgfVxyXG4gIC8vcmVuZGVyIGNvbmZpcm0gZW1haWwgcGFnZVxyXG4gIHJlZ2lzdGVyQ29uZmlybUVtYWlsKHJlcSwgcmVzKSB7XHJcbiAgICByZXMucmVuZGVyKFwiYXV0aC9jb25maXJtRW1haWxfdmlld1wiLCB7XHJcbiAgICAgIG1lc3NhZ2U6IHJlcS5zZXNzaW9uLmVycm9yQ29uZmlybUNvZGUsXHJcbiAgICB9KTtcclxuICAgIHJlcS5zZXNzaW9uLmVycm9yQ29uZmlybUNvZGUgPSBudWxsO1xyXG4gIH1cclxuICAvL2NvbmZpcm0gZW1haWwgcmVnaXN0ZXJcclxuICBhc3luYyBjb25maXJtRW1haWxSZWdpc3RlcihyZXEsIHJlcykge1xyXG4gICAgLy9jaGVjayBhY2NvdW50XHJcbiAgICBsZXQgdXNlckV4aXN0cyA9IGF3YWl0IGdldFVzZXJCeUVtYWlsKHJlcS5ib2R5LmVtYWlsKTtcclxuXHJcbiAgICBpZiAodXNlckV4aXN0cyAhPT0gbnVsbCkge1xyXG4gICAgICAvL0VtYWlsIGlzIGFscmVhZHkgcmVnaXN0ZXJlZFxyXG4gICAgICAvLyByZXEuc2Vzc2lvbi5lcnJvclJlZ2lzdGVyID0gXCJFbWFpbCBpcyBhbHJlYWR5IHJlZ2lzdGVyZWQgIVwiO1xyXG4gICAgICAvLyByZXMucmVkaXJlY3QoXCIvYXV0aC9yZWdpc3RlclwiKTtcclxuICAgICAgcmVzLnNlbmQoe1xyXG4gICAgICAgIGVycm9yOiBcIkVtYWlsIG7DoHkgxJHDoyDEkcaw4bujYyBz4butIGThu6VuZ1wiLFxyXG4gICAgICB9KTtcclxuICAgICAgLy9zZW5kbWFpbFxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmVxLnNlc3Npb24uY29kZSA9IFJhbmRvbTtcclxuICAgICAgcmVxLnNlc3Npb24uZW1haWwgPSByZXEuYm9keS5lbWFpbDtcclxuICAgICAgc2VuZE1haWwoXHJcbiAgICAgICAgcmVxLmJvZHkuZW1haWwsXHJcbiAgICAgICAgXCJkYW5jaG9pcGhvbnVpMjdAZ21haWwuY29tXCIsXHJcbiAgICAgICAgXCJ5aG9mam53a3hqcnBkY2tkXCIsXHJcbiAgICAgICAgUmFuZG9tXHJcbiAgICAgICk7XHJcbiAgICAgIC8vc2F2ZSBzZXNzaW9uIDpjb2RlLGVtYWlsXHJcbiAgICAgIHJlcS5zZXNzaW9uLmNvZGUgPSBSYW5kb207XHJcbiAgICAgIHJlcS5zZXNzaW9uLmVtYWlsID0gcmVxLmJvZHkuZW1haWw7XHJcbiAgICAgIC8vIHJlcy5yZWRpcmVjdChcIi9hdXRoL2NvZGVcIik7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwiY29kZSBpczpcIiwgcmVxLnNlc3Npb24uY29kZSk7XHJcbiAgICAgIHJlcy5zZW5kKHsgb2s6IHRydWUgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIGNvbmZpcm1Db2RlKHJlcSwgcmVzKSB7XHJcbiAgICBsZXQgY29kZSA9IHJlcS5ib2R5LmNvZGU7XHJcbiAgICBsZXQgY29kZUNvbmZpcm0gPSByZXEuc2Vzc2lvbi5jb2RlO1xyXG4gICAgaWYgKGNvZGUgPT09IGNvZGVDb25maXJtKSB7XHJcbiAgICAgIHJlcS5zZXNzaW9uLmFjY291bnRWZXJpZmllZCA9IHRydWU7XHJcbiAgICAgIHJlcS5zZXNzaW9uLmNvZGUgPSBudWxsO1xyXG4gICAgICAvLyByZXMucmVkaXJlY3QoXCIvYXV0aC9yZWdpc3RlckFjY291bnRcIik7XHJcbiAgICAgIHJlcy5zZW5kKHsgb2s6IHRydWUgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyByZXEuc2Vzc2lvbi5lcnJvckNvbmZpcm1Db2RlID1cclxuICAgICAgLy8gICBcIlRoZSBjb2RlIGlzIHdyb25nLCBwbGVhc2UgY2hlY2sgdGhlIGNvZGUgYWdhaW4hXCI7XHJcbiAgICAgIC8vIHJlcy5yZWRpcmVjdChcImJhY2tcIik7XHJcbiAgICAgIHJlcy5zZW5kKHsgcmVnaXN0ZXJFcnJvcjogXCJNw6Mga2jDtG5nIMSRw7puZywgdnVpIGzDsm5nIHRo4butIGzhuqFpLlwiIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuICByZWdpc3RlckFjY291bnQocmVxLCByZXMpIHtcclxuICAgIGlmIChyZXEuc2Vzc2lvbi5hY2NvdW50VmVyaWZpZWQgPT0gdHJ1ZSkge1xyXG4gICAgICByZXEuc2Vzc2lvbi5hY2NvdW50VmVyaWZpZWQgPSBudWxsO1xyXG4gICAgICByZXMucmVuZGVyKFwiYXV0aC9zaWdudXBcIik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXMucmVkaXJlY3QoXCIvYXV0aC9yZWdpc3RlclwiKTtcclxuICAgIH1cclxuICB9XHJcbiAgYXN5bmMgc2F2ZUFjY291bnQocmVxLCByZXMpIHtcclxuICAgIHJlcS5ib2R5LmlkID0gdXVpZHY0KCk7XHJcbiAgICByZXEuYm9keS5lbWFpbCA9IHJlcS5zZXNzaW9uLmVtYWlsO1xyXG4gICAgbGV0IGNyZWF0ZVVzZXIgPSBhd2FpdCBjcmVhdGVOZXdVc2VyKHJlcS5ib2R5KTtcclxuICAgIGlmIChjcmVhdGVVc2VyKSB7XHJcbiAgICAgIHJlcS5zZXNzaW9uLm1lc3NhZ2VSZWdpc3RlciA9XHJcbiAgICAgICAgXCLEkMSDbmcga8O9IHRow6BuaCBjw7RuZywgdnVpIGzDsm5nIMSRxINuZyBuaOG6rXAgxJHhu4MgdGnhur9wIHThu6VjIVwiO1xyXG4gICAgICByZXMucmVkaXJlY3QoXCIvYXV0aC9sb2dpblwiKTtcclxuICAgIH0gZWxzZSByZXMucmVkaXJlY3QoXCIvYXV0aC9yZWdpc3RlclwiKTtcclxuICB9XHJcbiAgLy9mb3Jnb3QgUGFzc3dvcmRcclxuICBmb3Jnb3RQYXNzd29yZFBhZ2UocmVxLCByZXMpIHtcclxuICAgIGNvbnN0IG1lc3NhZ2UgPSByZXEuc2Vzc2lvbi5lcnJvckZvcmdvdFBhc3N3b3JkO1xyXG4gICAgcmVzLnJlbmRlcihcImF1dGgvZm9yZ290QWNjb3VudFBhZ2VcIiwgeyBtZXNzYWdlOiBtZXNzYWdlIH0pO1xyXG4gICAgcmVxLnNlc3Npb24uZXJyb3JGb3Jnb3RQYXNzd29yZCA9IG51bGw7XHJcbiAgfVxyXG4gIGFzeW5jIHNlbmRQYXNzd29yZFRvRW1haWwocmVxLCByZXMpIHtcclxuICAgIC8vY2hlY2sgYWNjb3VudFxyXG4gICAgbGV0IHVzZXJFeGlzdHMgPSBhd2FpdCBnZXRVc2VyQnlFbWFpbChyZXEuYm9keS5lbWFpbCk7XHJcblxyXG4gICAgaWYgKHVzZXJFeGlzdHMgIT09IG51bGwpIHtcclxuICAgICAgLy9zZW5kbWFpbFxyXG4gICAgICBzZW5kTWFpbChcclxuICAgICAgICByZXEuYm9keS5lbWFpbCxcclxuICAgICAgICBcImRhbmNob2lwaG9udWkyN0BnbWFpbC5jb21cIixcclxuICAgICAgICBcInlob2ZqbndreGpycGRja2RcIixcclxuICAgICAgICBSYW5kb21cclxuICAgICAgKTtcclxuICAgICAgLy9zYXZlIHNlc3Npb24gOmNvZGUsZW1haWxcclxuICAgICAgcmVxLnNlc3Npb24uY29kZUZvcmdvdEFjY291bnQgPSBSYW5kb207XHJcbiAgICAgIHJlcS5zZXNzaW9uLmVtYWlsRm9yZ290QWNjb3VudCA9IHJlcS5ib2R5LmVtYWlsO1xyXG4gICAgICByZXMucmVkaXJlY3QoXCIvYXV0aC9jaGFuZ2VQYXNzd29yZFwiKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vRW1haWwgaXMgZG9lcyBub3QgZXhpc3RcclxuICAgICAgcmVxLnNlc3Npb24uZXJyb3JGb3Jnb3RQYXNzd29yZCA9IFwiVMOgaSBLaG/huqNuIEtow7RuZyBU4buTbiBU4bqhaSAhXCI7XHJcbiAgICAgIHJlcy5yZWRpcmVjdChcImJhY2tcIik7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvL2NoYW5nZSBwYXNzd29yZFxyXG4gIGRpc3BsYXlDaGFuZ2VQYXNzd29yZChyZXEsIHJlcykge1xyXG4gICAgY29uc3QgY29kZSA9IHJlcS5zZXNzaW9uLmNvZGVGb3Jnb3RBY2NvdW50O1xyXG4gICAgY29uc3QgZW1haWwgPSByZXEuc2Vzc2lvbi5lbWFpbEZvcmdvdEFjY291bnQ7XHJcbiAgICBsZXQgbWVzc2FnZSA9IHJlcS5zZXNzaW9uLm1lc3NhZ2VDb2RlO1xyXG4gICAgaWYgKGNvZGUgJiYgZW1haWwpIHtcclxuICAgICAgcmVzLnJlbmRlcihcImF1dGgvY2hhbmdlUGFzc3dvcmRQYWdlXCIsIHsgbWVzc2FnZTogbWVzc2FnZSB9KTtcclxuICAgICAgcmVxLnNlc3Npb24ubWVzc2FnZUNvZGUgPSBudWxsO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmVzLnJlZGlyZWN0KFwiYmFja1wiKTtcclxuICAgIH1cclxuICB9XHJcbiAgYXN5bmMgY2hhbmdlUGFzc3dvcmQocmVxLCByZXMpIHtcclxuICAgIGlmIChyZXEuYm9keS5jb2RlID09IHJlcS5zZXNzaW9uLmNvZGVGb3Jnb3RBY2NvdW50KSB7XHJcbiAgICAgIGxldCBlbWFpbCA9IHJlcS5zZXNzaW9uLmVtYWlsRm9yZ290QWNjb3VudDtcclxuICAgICAgbGV0IGlzVXBkYXRlZCA9IGF3YWl0IHVwZGF0ZVBhc3N3b3JkKGVtYWlsLCByZXEuYm9keS5wYXNzd29yZCk7XHJcbiAgICAgIGlmIChpc1VwZGF0ZWQpIHtcclxuICAgICAgICByZXEuc2Vzc2lvbi5lbWFpbEZvcmdvdEFjY291bnQgPSBudWxsO1xyXG4gICAgICAgIHJlcS5zZXNzaW9uLmNvZGVGb3Jnb3RBY2NvdW50ID0gbnVsbDtcclxuICAgICAgICByZXEuc2Vzc2lvbi5tZXNzYWdlUmVnaXN0ZXIgPVxyXG4gICAgICAgICAgXCJUaGF5IMSR4buVaSBt4bqtdCBraOG6qXUgdGjDoG5oIGPDtG5nLCB2dWkgbMOybmcgxJHEg25nIG5o4bqtcCDEkeG7gyB0aeG6v3AgdOG7pWMhXCI7XHJcbiAgICAgICAgcmVzLnJlZGlyZWN0KFwiL2F1dGgvbG9naW5cIik7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJlcS5zZXNzaW9uLm1lc3NhZ2VDb2RlID0gXCJTYWkgTcOjIENvZGUgLCBWdWkgTMOybmcgTmjhuq1wIEzhuqFpXCI7XHJcbiAgICAgIHJlcy5yZWRpcmVjdChcImJhY2tcIik7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbm1vZHVsZS5leHBvcnRzID0gbmV3IEF1dGhDb250cm9sbGVyKCk7XHJcbiJdfQ==","map":{"version":3,"sources":["AuthController.js"],"names":["express","require","router","Router","uuidv4","v4","bcrypt","salt","Random","Math","floor","random","toString","AuthController","req","res","render","message","session","errorLogin","messageRegister","captCha","body","email","password","user","status","accountRole","roleID","accountID","id","firstName","lastName","image","resumeID","userID","redirect","destroy","errorRegister","errorConfirmCode","userExists","send","error","code","console","log","ok","codeConfirm","accountVerified","registerError","createUser","errorForgotPassword","codeForgotAccount","emailForgotAccount","messageCode","isUpdated","module","exports"],"mappings":"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","sourceRoot":"/Users/mac/Desktop/Final_Project_DTU/src/app/controllers/","sourcesContent":["const express = require(\"express\");\r\nconst router = express.Router();\r\nconst { v4: uuidv4 } = require(\"uuid\");\r\nconst bcrypt = require(\"bcryptjs\");\r\nlet salt = 5;\r\n\r\nlet Random = Math.floor(Math.random() * 1000000 + 100).toString();\r\nimport { response } from \"express\";\r\n\r\nimport {\r\n  updatePassword,\r\n  getUserByEmailAndPassword,\r\n  getUserByEmail,\r\n  createNewUser,\r\n  sendMail,\r\n} from \"../service/UserService\";\r\nclass AuthController {\r\n  index(req, res) {\r\n    res.render(\"auth/login\", {\r\n      message: req.session.errorLogin,\r\n      messageRegister: req.session.messageRegister,\r\n    });\r\n    if (req.session.errorLogin) {\r\n      req.session.errorLogin = null;\r\n    }\r\n    if (req.session.messageRegister) {\r\n      req.session.messageRegister = null;\r\n    }\r\n  }\r\n  //login\r\n  async login(req, res) {\r\n    // console.log(\"req.session.userId: \", req.session.userId);\r\n\r\n    let captCha = req.body[\"g-recaptcha-response\"];\r\n    if (captCha) {\r\n      let user = await getUserByEmailAndPassword(\r\n        req.body.email,\r\n        req.body.password\r\n      );\r\n\r\n      if (user && user.status != 0) {\r\n        const accountRole = user.roleID;\r\n        const accountID = user.id;\r\n        const firstName = user.firstName;\r\n        const lastName = user.lastName;\r\n        const image = user.image;\r\n        const resumeID = user.resumeID;\r\n\r\n        //save account to session\r\n        req.session.firstName = firstName;\r\n        req.session.lastName = lastName;\r\n        req.session.userID = accountID;\r\n        req.session.roleID = accountRole;\r\n        req.session.image = image;\r\n        req.session.resumeID = resumeID;\r\n        //console.log(req.session);\r\n        if (accountRole === 1) {\r\n          res.redirect(\"/admin\");\r\n        }\r\n        if (accountRole === 2) {\r\n          res.redirect(\"/\");\r\n        }\r\n\r\n        if (accountRole === 3) {\r\n          res.redirect(\"/\");\r\n        }\r\n      } else {\r\n        //return message\r\n        req.session.errorLogin = \"Email or password is wrong please re-enter !\";\r\n        res.redirect(\"back\");\r\n      }\r\n    } else {\r\n      //return message\r\n      req.session.errorLogin = \"Please confirm captcha !\";\r\n      res.redirect(\"back\");\r\n    }\r\n  }\r\n  logout(req, res) {\r\n    req.session.destroy();\r\n    res.redirect(\"/\");\r\n  }\r\n  // register page\r\n  registerPage(req, res) {\r\n    res.render(\"auth/signup_email\", { message: req.session.errorRegister });\r\n    if (req.session.errorRegister) {\r\n      req.session.errorRegister = null;\r\n    }\r\n  }\r\n  //render confirm email page\r\n  registerConfirmEmail(req, res) {\r\n    res.render(\"auth/confirmEmail_view\", {\r\n      message: req.session.errorConfirmCode,\r\n    });\r\n    req.session.errorConfirmCode = null;\r\n  }\r\n  //confirm email register\r\n  async confirmEmailRegister(req, res) {\r\n    //check account\r\n    let userExists = await getUserByEmail(req.body.email);\r\n\r\n    if (userExists !== null) {\r\n      //Email is already registered\r\n      // req.session.errorRegister = \"Email is already registered !\";\r\n      // res.redirect(\"/auth/register\");\r\n      res.send({\r\n        error: \"Email này đã được sử dụng\",\r\n      });\r\n      //sendmail\r\n    } else {\r\n      req.session.code = Random;\r\n      req.session.email = req.body.email;\r\n      sendMail(\r\n        req.body.email,\r\n        \"danchoiphonui27@gmail.com\",\r\n        \"yhofjnwkxjrpdckd\",\r\n        Random\r\n      );\r\n      //save session :code,email\r\n      req.session.code = Random;\r\n      req.session.email = req.body.email;\r\n      // res.redirect(\"/auth/code\");\r\n      console.log(\"code is:\", req.session.code);\r\n      res.send({ ok: true });\r\n    }\r\n  }\r\n  confirmCode(req, res) {\r\n    let code = req.body.code;\r\n    let codeConfirm = req.session.code;\r\n    if (code === codeConfirm) {\r\n      req.session.accountVerified = true;\r\n      req.session.code = null;\r\n      // res.redirect(\"/auth/registerAccount\");\r\n      res.send({ ok: true });\r\n    } else {\r\n      // req.session.errorConfirmCode =\r\n      //   \"The code is wrong, please check the code again!\";\r\n      // res.redirect(\"back\");\r\n      res.send({ registerError: \"Mã không đúng, vui lòng thử lại.\" });\r\n    }\r\n  }\r\n  registerAccount(req, res) {\r\n    if (req.session.accountVerified == true) {\r\n      req.session.accountVerified = null;\r\n      res.render(\"auth/signup\");\r\n    } else {\r\n      res.redirect(\"/auth/register\");\r\n    }\r\n  }\r\n  async saveAccount(req, res) {\r\n    req.body.id = uuidv4();\r\n    req.body.email = req.session.email;\r\n    let createUser = await createNewUser(req.body);\r\n    if (createUser) {\r\n      req.session.messageRegister =\r\n        \"Đăng ký thành công, vui lòng đăng nhập để tiếp tục!\";\r\n      res.redirect(\"/auth/login\");\r\n    } else res.redirect(\"/auth/register\");\r\n  }\r\n  //forgot Password\r\n  forgotPasswordPage(req, res) {\r\n    const message = req.session.errorForgotPassword;\r\n    res.render(\"auth/forgotAccountPage\", { message: message });\r\n    req.session.errorForgotPassword = null;\r\n  }\r\n  async sendPasswordToEmail(req, res) {\r\n    //check account\r\n    let userExists = await getUserByEmail(req.body.email);\r\n\r\n    if (userExists !== null) {\r\n      //sendmail\r\n      sendMail(\r\n        req.body.email,\r\n        \"danchoiphonui27@gmail.com\",\r\n        \"yhofjnwkxjrpdckd\",\r\n        Random\r\n      );\r\n      //save session :code,email\r\n      req.session.codeForgotAccount = Random;\r\n      req.session.emailForgotAccount = req.body.email;\r\n      res.redirect(\"/auth/changePassword\");\r\n    } else {\r\n      //Email is does not exist\r\n      req.session.errorForgotPassword = \"Tài Khoản Không Tồn Tại !\";\r\n      res.redirect(\"back\");\r\n    }\r\n  }\r\n\r\n  //change password\r\n  displayChangePassword(req, res) {\r\n    const code = req.session.codeForgotAccount;\r\n    const email = req.session.emailForgotAccount;\r\n    let message = req.session.messageCode;\r\n    if (code && email) {\r\n      res.render(\"auth/changePasswordPage\", { message: message });\r\n      req.session.messageCode = null;\r\n    } else {\r\n      res.redirect(\"back\");\r\n    }\r\n  }\r\n  async changePassword(req, res) {\r\n    if (req.body.code == req.session.codeForgotAccount) {\r\n      let email = req.session.emailForgotAccount;\r\n      let isUpdated = await updatePassword(email, req.body.password);\r\n      if (isUpdated) {\r\n        req.session.emailForgotAccount = null;\r\n        req.session.codeForgotAccount = null;\r\n        req.session.messageRegister =\r\n          \"Thay đổi mật khẩu thành công, vui lòng đăng nhập để tiếp tục!\";\r\n        res.redirect(\"/auth/login\");\r\n      }\r\n    } else {\r\n      req.session.messageCode = \"Sai Mã Code , Vui Lòng Nhập Lại\";\r\n      res.redirect(\"back\");\r\n    }\r\n  }\r\n}\r\nmodule.exports = new AuthController();\r\n"]}},"mtime":1679125193821},"{\"sourceRoot\":\"/Users/mac/Desktop/Final_Project_DTU/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/mac/Desktop/Final_Project_DTU\",\"filename\":\"/Users/mac/Desktop/Final_Project_DTU/src/routes/admin.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/mac/Desktop/Final_Project_DTU\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar express = require('express');\n\nvar router = express.Router();\n\nvar multer = require('multer');\n\nvar upload = multer({\n  dest: 'src/public/uploads/'\n});\n\nvar adminController = require('../app/controllers/AdminController');\n\nvar _require = require('./booking'),\n    route = _require.route;\n\nrouter.get('/account', adminController.accountPage);\nrouter.get('/clinic', adminController.clinicPage);\nrouter.post('/PickStatisticsPage', adminController.PickStatisticsPage);\nrouter.use('/', adminController.index);\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFkbWluLmpzIl0sIm5hbWVzIjpbImV4cHJlc3MiLCJyZXF1aXJlIiwicm91dGVyIiwiUm91dGVyIiwibXVsdGVyIiwidXBsb2FkIiwiZGVzdCIsImFkbWluQ29udHJvbGxlciIsInJvdXRlIiwiZ2V0IiwiYWNjb3VudFBhZ2UiLCJjbGluaWNQYWdlIiwicG9zdCIsIlBpY2tTdGF0aXN0aWNzUGFnZSIsInVzZSIsImluZGV4IiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFJQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQyxTQUFELENBQXJCOztBQUNBLElBQUlDLE1BQU0sR0FBR0YsT0FBTyxDQUFDRyxNQUFSLEVBQWI7O0FBQ0EsSUFBSUMsTUFBTSxHQUFHSCxPQUFPLENBQUMsUUFBRCxDQUFwQjs7QUFDQSxJQUFNSSxNQUFNLEdBQUdELE1BQU0sQ0FBQztBQUNwQkUsRUFBQUEsSUFBSSxFQUFFO0FBRGMsQ0FBRCxDQUFyQjs7QUFJQSxJQUFNQyxlQUFlLEdBQUdOLE9BQU8sQ0FBQyxvQ0FBRCxDQUEvQjs7QUFDQSxlQUFrQkEsT0FBTyxDQUFDLFdBQUQsQ0FBekI7QUFBQSxJQUFRTyxLQUFSLFlBQVFBLEtBQVI7O0FBRUFOLE1BQU0sQ0FBQ08sR0FBUCxDQUFXLFVBQVgsRUFBdUJGLGVBQWUsQ0FBQ0csV0FBdkM7QUFDQVIsTUFBTSxDQUFDTyxHQUFQLENBQVcsU0FBWCxFQUFzQkYsZUFBZSxDQUFDSSxVQUF0QztBQUNBVCxNQUFNLENBQUNVLElBQVAsQ0FBWSxxQkFBWixFQUFtQ0wsZUFBZSxDQUFDTSxrQkFBbkQ7QUFDQVgsTUFBTSxDQUFDWSxHQUFQLENBQVcsR0FBWCxFQUFnQlAsZUFBZSxDQUFDUSxLQUFoQztBQUNBQyxNQUFNLENBQUNDLE9BQVAsR0FBaUJmLE1BQWpCIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9tYWMvRGVza3RvcC9GaW5hbF9Qcm9qZWN0X0RUVS9zcmMvcm91dGVzLyIsInNvdXJjZXNDb250ZW50IjpbInZhciBleHByZXNzID0gcmVxdWlyZSgnZXhwcmVzcycpO1xyXG52YXIgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcclxubGV0IG11bHRlciA9IHJlcXVpcmUoJ211bHRlcicpO1xyXG5jb25zdCB1cGxvYWQgPSBtdWx0ZXIoe1xyXG4gIGRlc3Q6ICdzcmMvcHVibGljL3VwbG9hZHMvJyxcclxufSk7XHJcblxyXG5jb25zdCBhZG1pbkNvbnRyb2xsZXIgPSByZXF1aXJlKCcuLi9hcHAvY29udHJvbGxlcnMvQWRtaW5Db250cm9sbGVyJyk7XHJcbmNvbnN0IHsgcm91dGUgfSA9IHJlcXVpcmUoJy4vYm9va2luZycpO1xyXG5cclxucm91dGVyLmdldCgnL2FjY291bnQnLCBhZG1pbkNvbnRyb2xsZXIuYWNjb3VudFBhZ2UpO1xyXG5yb3V0ZXIuZ2V0KCcvY2xpbmljJywgYWRtaW5Db250cm9sbGVyLmNsaW5pY1BhZ2UpO1xyXG5yb3V0ZXIucG9zdCgnL1BpY2tTdGF0aXN0aWNzUGFnZScsIGFkbWluQ29udHJvbGxlci5QaWNrU3RhdGlzdGljc1BhZ2UpO1xyXG5yb3V0ZXIudXNlKCcvJywgYWRtaW5Db250cm9sbGVyLmluZGV4KTtcclxubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7XHJcbiJdfQ==","map":{"version":3,"sources":["admin.js"],"names":["express","require","router","Router","multer","upload","dest","adminController","route","get","accountPage","clinicPage","post","PickStatisticsPage","use","index","module","exports"],"mappings":";;AAAA,IAAIA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAArB;;AACA,IAAIC,MAAM,GAAGF,OAAO,CAACG,MAAR,EAAb;;AACA,IAAIC,MAAM,GAAGH,OAAO,CAAC,QAAD,CAApB;;AACA,IAAMI,MAAM,GAAGD,MAAM,CAAC;AACpBE,EAAAA,IAAI,EAAE;AADc,CAAD,CAArB;;AAIA,IAAMC,eAAe,GAAGN,OAAO,CAAC,oCAAD,CAA/B;;AACA,eAAkBA,OAAO,CAAC,WAAD,CAAzB;AAAA,IAAQO,KAAR,YAAQA,KAAR;;AAEAN,MAAM,CAACO,GAAP,CAAW,UAAX,EAAuBF,eAAe,CAACG,WAAvC;AACAR,MAAM,CAACO,GAAP,CAAW,SAAX,EAAsBF,eAAe,CAACI,UAAtC;AACAT,MAAM,CAACU,IAAP,CAAY,qBAAZ,EAAmCL,eAAe,CAACM,kBAAnD;AACAX,MAAM,CAACY,GAAP,CAAW,GAAX,EAAgBP,eAAe,CAACQ,KAAhC;AACAC,MAAM,CAACC,OAAP,GAAiBf,MAAjB","sourceRoot":"/Users/mac/Desktop/Final_Project_DTU/src/routes/","sourcesContent":["var express = require('express');\r\nvar router = express.Router();\r\nlet multer = require('multer');\r\nconst upload = multer({\r\n  dest: 'src/public/uploads/',\r\n});\r\n\r\nconst adminController = require('../app/controllers/AdminController');\r\nconst { route } = require('./booking');\r\n\r\nrouter.get('/account', adminController.accountPage);\r\nrouter.get('/clinic', adminController.clinicPage);\r\nrouter.post('/PickStatisticsPage', adminController.PickStatisticsPage);\r\nrouter.use('/', adminController.index);\r\nmodule.exports = router;\r\n"]}},"mtime":1679189459632},"{\"sourceRoot\":\"/Users/mac/Desktop/Final_Project_DTU/src/app/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/mac/Desktop/Final_Project_DTU\",\"filename\":\"/Users/mac/Desktop/Final_Project_DTU/src/app/controllers/AdminController.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/mac/Desktop/Final_Project_DTU\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar _AccountService = require(\"../service/AccountService\");\n\nvar _ClinicService = require(\"../service/ClinicService\");\n\nvar _TransactionHistoryService = require(\"../service/TransactionHistoryService\");\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nvar express = require('express');\n\nvar router = express.Router();\n\nvar AdminController = /*#__PURE__*/function () {\n  function AdminController() {\n    _classCallCheck(this, AdminController);\n  }\n\n  _createClass(AdminController, [{\n    key: \"index\",\n    value: function () {\n      var _index = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(req, res, next) {\n        var transactionHistory, sum;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return (0, _TransactionHistoryService.getAllTransactionHistory)();\n\n              case 2:\n                transactionHistory = _context.sent;\n                sum = transactionHistory.reduce(function (acc, value) {\n                  return acc + parseInt(value.balance) * 30 / 100;\n                }, 0);\n                res.render('admin/home', {\n                  transactionHistory: transactionHistory,\n                  totalPayment: sum\n                });\n\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function index(_x, _x2, _x3) {\n        return _index.apply(this, arguments);\n      }\n\n      return index;\n    }()\n  }, {\n    key: \"PickStatisticsPage\",\n    value: function () {\n      var _PickStatisticsPage = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(req, res, next) {\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                console.log(req.body);\n\n              case 1:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      function PickStatisticsPage(_x4, _x5, _x6) {\n        return _PickStatisticsPage.apply(this, arguments);\n      }\n\n      return PickStatisticsPage;\n    }()\n  }, {\n    key: \"accountPage\",\n    value: function () {\n      var _accountPage = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(req, res, next) {\n        var accountsAndClinics, accounts, clinics;\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return (0, _AccountService.getListAccounts)();\n\n              case 2:\n                accountsAndClinics = _context3.sent;\n                accounts = accountsAndClinics[0];\n                clinics = accountsAndClinics[1];\n                res.render('admin/account_view', {\n                  accounts: accounts,\n                  clinics: clinics\n                });\n\n              case 6:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      function accountPage(_x7, _x8, _x9) {\n        return _accountPage.apply(this, arguments);\n      }\n\n      return accountPage;\n    }()\n  }, {\n    key: \"clinicPage\",\n    value: function () {\n      var _clinicPage = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(req, res, next) {\n        var clinics;\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.prev = 0;\n                _context4.next = 3;\n                return (0, _ClinicService.getListClinics)();\n\n              case 3:\n                clinics = _context4.sent;\n                res.render('admin/clinic_view', {\n                  clinics: clinics\n                });\n                _context4.next = 10;\n                break;\n\n              case 7:\n                _context4.prev = 7;\n                _context4.t0 = _context4[\"catch\"](0);\n                console.log(_context4.t0);\n\n              case 10:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, null, [[0, 7]]);\n      }));\n\n      function clinicPage(_x10, _x11, _x12) {\n        return _clinicPage.apply(this, arguments);\n      }\n\n      return clinicPage;\n    }()\n  }]);\n\n  return AdminController;\n}();\n\nmodule.exports = new AdminController();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkFkbWluQ29udHJvbGxlci5qcyJdLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInJvdXRlciIsIlJvdXRlciIsIkFkbWluQ29udHJvbGxlciIsInJlcSIsInJlcyIsIm5leHQiLCJ0cmFuc2FjdGlvbkhpc3RvcnkiLCJzdW0iLCJyZWR1Y2UiLCJhY2MiLCJ2YWx1ZSIsInBhcnNlSW50IiwiYmFsYW5jZSIsInJlbmRlciIsInRvdGFsUGF5bWVudCIsImNvbnNvbGUiLCJsb2ciLCJib2R5IiwiYWNjb3VudHNBbmRDbGluaWNzIiwiYWNjb3VudHMiLCJjbGluaWNzIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7QUFHQTs7QUFDQTs7QUFDQTs7Ozs7Ozs7Ozs7O0FBTEEsSUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBRCxDQUF2Qjs7QUFDQSxJQUFNQyxNQUFNLEdBQUdGLE9BQU8sQ0FBQ0csTUFBUixFQUFmOztJQU9NQyxlOzs7Ozs7OzsyRUFDSixpQkFBWUMsR0FBWixFQUFpQkMsR0FBakIsRUFBc0JDLElBQXRCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsdUJBQ2lDLDBEQURqQzs7QUFBQTtBQUNNQyxnQkFBQUEsa0JBRE47QUFFUUMsZ0JBQUFBLEdBRlIsR0FFY0Qsa0JBQWtCLENBQUNFLE1BQW5CLENBQTBCLFVBQUNDLEdBQUQsRUFBS0MsS0FBTCxFQUFjO0FBQ2hELHlCQUFPRCxHQUFHLEdBQUtFLFFBQVEsQ0FBQ0QsS0FBSyxDQUFDRSxPQUFQLENBQVIsR0FBd0IsRUFBekIsR0FBNkIsR0FBM0M7QUFDRCxpQkFGUyxFQUVSLENBRlEsQ0FGZDtBQUtFUixnQkFBQUEsR0FBRyxDQUFDUyxNQUFKLENBQVcsWUFBWCxFQUF3QjtBQUFDUCxrQkFBQUEsa0JBQWtCLEVBQUdBLGtCQUF0QjtBQUEwQ1Esa0JBQUFBLFlBQVksRUFBR1A7QUFBekQsaUJBQXhCOztBQUxGO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLE87Ozs7Ozs7Ozs7O3dGQVFBLGtCQUF5QkosR0FBekIsRUFBNkJDLEdBQTdCLEVBQWlDQyxJQUFqQztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0VVLGdCQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWWIsR0FBRyxDQUFDYyxJQUFoQjs7QUFERjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxPOzs7Ozs7Ozs7OztpRkFHQSxrQkFBa0JkLEdBQWxCLEVBQXVCQyxHQUF2QixFQUE0QkMsSUFBNUI7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSx1QkFDaUMsc0NBRGpDOztBQUFBO0FBQ01hLGdCQUFBQSxrQkFETjtBQUVNQyxnQkFBQUEsUUFGTixHQUVpQkQsa0JBQWtCLENBQUMsQ0FBRCxDQUZuQztBQUdNRSxnQkFBQUEsT0FITixHQUdnQkYsa0JBQWtCLENBQUMsQ0FBRCxDQUhsQztBQUlFZCxnQkFBQUEsR0FBRyxDQUFDUyxNQUFKLENBQVcsb0JBQVgsRUFBaUM7QUFBRU0sa0JBQUFBLFFBQVEsRUFBUkEsUUFBRjtBQUFZQyxrQkFBQUEsT0FBTyxFQUFQQTtBQUFaLGlCQUFqQzs7QUFKRjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxPOzs7Ozs7Ozs7OztnRkFPQSxrQkFBaUJqQixHQUFqQixFQUFzQkMsR0FBdEIsRUFBMkJDLElBQTNCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSx1QkFFd0Isb0NBRnhCOztBQUFBO0FBRVFlLGdCQUFBQSxPQUZSO0FBR0loQixnQkFBQUEsR0FBRyxDQUFDUyxNQUFKLENBQVcsbUJBQVgsRUFBZ0M7QUFDOUJPLGtCQUFBQSxPQUFPLEVBQVBBO0FBRDhCLGlCQUFoQztBQUhKO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBT0lMLGdCQUFBQSxPQUFPLENBQUNDLEdBQVI7O0FBUEo7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsTzs7Ozs7Ozs7Ozs7OztBQVdGSyxNQUFNLENBQUNDLE9BQVAsR0FBaUIsSUFBSXBCLGVBQUosRUFBakIiLCJzb3VyY2VSb290IjoiL1VzZXJzL21hYy9EZXNrdG9wL0ZpbmFsX1Byb2plY3RfRFRVL3NyYy9hcHAvY29udHJvbGxlcnMvIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoJ2V4cHJlc3MnKTtcclxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcclxuXHJcbmltcG9ydCB7IGdldExpc3RBY2NvdW50cyB9IGZyb20gJy4uL3NlcnZpY2UvQWNjb3VudFNlcnZpY2UnO1xyXG5pbXBvcnQgeyBnZXRMaXN0Q2xpbmljcyB9IGZyb20gJy4uL3NlcnZpY2UvQ2xpbmljU2VydmljZSc7XHJcbmltcG9ydCB7XHJcbiAgZ2V0QWxsVHJhbnNhY3Rpb25IaXN0b3J5XHJcbn0gZnJvbSBcIi4uL3NlcnZpY2UvVHJhbnNhY3Rpb25IaXN0b3J5U2VydmljZVwiO1xyXG5jbGFzcyBBZG1pbkNvbnRyb2xsZXIge1xyXG4gIGFzeW5jIGluZGV4KHJlcSwgcmVzLCBuZXh0KSB7XHJcbiAgICBsZXQgdHJhbnNhY3Rpb25IaXN0b3J5ID0gYXdhaXQgZ2V0QWxsVHJhbnNhY3Rpb25IaXN0b3J5KCk7XHJcbiAgICAgIGxldCBzdW0gPSB0cmFuc2FjdGlvbkhpc3RvcnkucmVkdWNlKChhY2MsdmFsdWUpPT4ge1xyXG4gICAgICAgIHJldHVybiBhY2MgKyAoKHBhcnNlSW50KHZhbHVlLmJhbGFuY2UpKjMwKS8xMDApXHJcbiAgICAgIH0sMClcclxuICAgIHJlcy5yZW5kZXIoJ2FkbWluL2hvbWUnLHt0cmFuc2FjdGlvbkhpc3RvcnkgOiB0cmFuc2FjdGlvbkhpc3RvcnksIHRvdGFsUGF5bWVudCA6IHN1bX0pO1xyXG4gIFxyXG59XHJcbiAgYXN5bmMgUGlja1N0YXRpc3RpY3NQYWdlKHJlcSxyZXMsbmV4dCl7XHJcbiAgICBjb25zb2xlLmxvZyhyZXEuYm9keSlcclxuICB9XHJcbiAgYXN5bmMgYWNjb3VudFBhZ2UocmVxLCByZXMsIG5leHQpIHtcclxuICAgIGxldCBhY2NvdW50c0FuZENsaW5pY3MgPSBhd2FpdCBnZXRMaXN0QWNjb3VudHMoKTtcclxuICAgIGxldCBhY2NvdW50cyA9IGFjY291bnRzQW5kQ2xpbmljc1swXTtcclxuICAgIGxldCBjbGluaWNzID0gYWNjb3VudHNBbmRDbGluaWNzWzFdO1xyXG4gICAgcmVzLnJlbmRlcignYWRtaW4vYWNjb3VudF92aWV3JywgeyBhY2NvdW50cywgY2xpbmljcyB9KTtcclxuICB9XHJcblxyXG4gIGFzeW5jIGNsaW5pY1BhZ2UocmVxLCByZXMsIG5leHQpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGxldCBjbGluaWNzID0gYXdhaXQgZ2V0TGlzdENsaW5pY3MoKTtcclxuICAgICAgcmVzLnJlbmRlcignYWRtaW4vY2xpbmljX3ZpZXcnLCB7XHJcbiAgICAgICAgY2xpbmljcyxcclxuICAgICAgfSk7XHJcbiAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxubW9kdWxlLmV4cG9ydHMgPSBuZXcgQWRtaW5Db250cm9sbGVyKCk7XHJcbiJdfQ==","map":{"version":3,"sources":["AdminController.js"],"names":["express","require","router","Router","AdminController","req","res","next","transactionHistory","sum","reduce","acc","value","parseInt","balance","render","totalPayment","console","log","body","accountsAndClinics","accounts","clinics","module","exports"],"mappings":";;AAGA;;AACA;;AACA;;;;;;;;;;;;AALA,IAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,IAAMC,MAAM,GAAGF,OAAO,CAACG,MAAR,EAAf;;IAOMC,e;;;;;;;;2EACJ,iBAAYC,GAAZ,EAAiBC,GAAjB,EAAsBC,IAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACiC,0DADjC;;AAAA;AACMC,gBAAAA,kBADN;AAEQC,gBAAAA,GAFR,GAEcD,kBAAkB,CAACE,MAAnB,CAA0B,UAACC,GAAD,EAAKC,KAAL,EAAc;AAChD,yBAAOD,GAAG,GAAKE,QAAQ,CAACD,KAAK,CAACE,OAAP,CAAR,GAAwB,EAAzB,GAA6B,GAA3C;AACD,iBAFS,EAER,CAFQ,CAFd;AAKER,gBAAAA,GAAG,CAACS,MAAJ,CAAW,YAAX,EAAwB;AAACP,kBAAAA,kBAAkB,EAAGA,kBAAtB;AAA0CQ,kBAAAA,YAAY,EAAGP;AAAzD,iBAAxB;;AALF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,O;;;;;;;;;;;wFAQA,kBAAyBJ,GAAzB,EAA6BC,GAA7B,EAAiCC,IAAjC;AAAA;AAAA;AAAA;AAAA;AACEU,gBAAAA,OAAO,CAACC,GAAR,CAAYb,GAAG,CAACc,IAAhB;;AADF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,O;;;;;;;;;;;iFAGA,kBAAkBd,GAAlB,EAAuBC,GAAvB,EAA4BC,IAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACiC,sCADjC;;AAAA;AACMa,gBAAAA,kBADN;AAEMC,gBAAAA,QAFN,GAEiBD,kBAAkB,CAAC,CAAD,CAFnC;AAGME,gBAAAA,OAHN,GAGgBF,kBAAkB,CAAC,CAAD,CAHlC;AAIEd,gBAAAA,GAAG,CAACS,MAAJ,CAAW,oBAAX,EAAiC;AAAEM,kBAAAA,QAAQ,EAARA,QAAF;AAAYC,kBAAAA,OAAO,EAAPA;AAAZ,iBAAjC;;AAJF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,O;;;;;;;;;;;gFAOA,kBAAiBjB,GAAjB,EAAsBC,GAAtB,EAA2BC,IAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAEwB,oCAFxB;;AAAA;AAEQe,gBAAAA,OAFR;AAGIhB,gBAAAA,GAAG,CAACS,MAAJ,CAAW,mBAAX,EAAgC;AAC9BO,kBAAAA,OAAO,EAAPA;AAD8B,iBAAhC;AAHJ;AAAA;;AAAA;AAAA;AAAA;AAOIL,gBAAAA,OAAO,CAACC,GAAR;;AAPJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,O;;;;;;;;;;;;;AAWFK,MAAM,CAACC,OAAP,GAAiB,IAAIpB,eAAJ,EAAjB","sourceRoot":"/Users/mac/Desktop/Final_Project_DTU/src/app/controllers/","sourcesContent":["const express = require('express');\r\nconst router = express.Router();\r\n\r\nimport { getListAccounts } from '../service/AccountService';\r\nimport { getListClinics } from '../service/ClinicService';\r\nimport {\r\n  getAllTransactionHistory\r\n} from \"../service/TransactionHistoryService\";\r\nclass AdminController {\r\n  async index(req, res, next) {\r\n    let transactionHistory = await getAllTransactionHistory();\r\n      let sum = transactionHistory.reduce((acc,value)=> {\r\n        return acc + ((parseInt(value.balance)*30)/100)\r\n      },0)\r\n    res.render('admin/home',{transactionHistory : transactionHistory, totalPayment : sum});\r\n  \r\n}\r\n  async PickStatisticsPage(req,res,next){\r\n    console.log(req.body)\r\n  }\r\n  async accountPage(req, res, next) {\r\n    let accountsAndClinics = await getListAccounts();\r\n    let accounts = accountsAndClinics[0];\r\n    let clinics = accountsAndClinics[1];\r\n    res.render('admin/account_view', { accounts, clinics });\r\n  }\r\n\r\n  async clinicPage(req, res, next) {\r\n    try {\r\n      let clinics = await getListClinics();\r\n      res.render('admin/clinic_view', {\r\n        clinics,\r\n      });\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  }\r\n}\r\nmodule.exports = new AdminController();\r\n"]}},"mtime":1679190686057},"{\"sourceRoot\":\"/Users/mac/Desktop/Final_Project_DTU/src/app/service/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/mac/Desktop/Final_Project_DTU\",\"filename\":\"/Users/mac/Desktop/Final_Project_DTU/src/app/service/AccountService.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/mac/Desktop/Final_Project_DTU\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar bcrypt = require('bcryptjs');\n\nvar db = require('../models/index');\n\nvar salt = bcrypt.genSaltSync(5);\n\nvar _require = require('uuid'),\n    uuidv4 = _require.v4;\n\nvar hashUserPassword = function hashUserPassword(password) {\n  return new Promise( /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(resolve, reject) {\n      var hashPassword;\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return bcrypt.hashSync(password, 5);\n\n            case 3:\n              hashPassword = _context.sent;\n              resolve(hashPassword);\n              _context.next = 10;\n              break;\n\n            case 7:\n              _context.prev = 7;\n              _context.t0 = _context[\"catch\"](0);\n              reject(_context.t0);\n\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 7]]);\n    }));\n\n    return function (_x, _x2) {\n      return _ref.apply(this, arguments);\n    };\n  }());\n};\n\nvar getListAccounts = function getListAccounts() {\n  return new Promise( /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(resolve, reject) {\n      var listClinics, listUsers;\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return db.Clinic.findAll({\n                raw: true\n              });\n\n            case 3:\n              listClinics = _context2.sent;\n              _context2.next = 6;\n              return db.User.findAll({\n                raw: true\n              });\n\n            case 6:\n              listUsers = _context2.sent;\n              resolve([listUsers, listClinics]); // == return listUsers\n\n              _context2.next = 13;\n              break;\n\n            case 10:\n              _context2.prev = 10;\n              _context2.t0 = _context2[\"catch\"](0);\n              reject(_context2.t0);\n\n            case 13:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[0, 10]]);\n    }));\n\n    return function (_x3, _x4) {\n      return _ref2.apply(this, arguments);\n    };\n  }());\n}; //Create Account\n\n\nvar createNewAccount = function createNewAccount(data) {\n  return new Promise( /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(resolve, reject) {\n      var hashPassword, acc, userId, serviceId, clinicId, resumeId, fee1;\n      return regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.prev = 0;\n              _context3.next = 3;\n              return hashUserPassword(data.password);\n\n            case 3:\n              hashPassword = _context3.sent;\n              _context3.next = 6;\n              return db.User.findOne({\n                where: {\n                  email: data.email\n                },\n                raw: true\n              });\n\n            case 6:\n              acc = _context3.sent;\n\n              if (!acc) {\n                _context3.next = 11;\n                break;\n              }\n\n              resolve('Account exist');\n              _context3.next = 29;\n              break;\n\n            case 11:\n              userId = uuidv4();\n              serviceId = null;\n              clinicId = null;\n              resumeId = null;\n              fee1 = null;\n\n              if (!(data.roleID == 2)) {\n                _context3.next = 23;\n                break;\n              }\n\n              clinicId = data.clinic;\n              fee1 = data.fee;\n              resumeId = uuidv4();\n              serviceId = uuidv4();\n              _context3.next = 23;\n              return db.Resume.create({\n                id: resumeId,\n                title: '',\n                description: ''\n              });\n\n            case 23:\n              _context3.next = 25;\n              return db.User.create({\n                id: userId,\n                email: data.email,\n                password: hashPassword,\n                firstName: data.firstName,\n                lastName: data.lastName,\n                gender: data.gender,\n                phoneNumber: data.phoneNumber,\n                address: data.address,\n                roleID: data.roleID,\n                status: 1,\n                image: 'https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460__480.png',\n                resumeID: resumeId,\n                clinicID: clinicId\n              });\n\n            case 25:\n              if (!(data.roleID == 2)) {\n                _context3.next = 28;\n                break;\n              }\n\n              _context3.next = 28;\n              return db.Service.create({\n                id: serviceId,\n                UserId: userId,\n                fee: fee1\n              });\n\n            case 28:\n              resolve('Thêm thành công !');\n\n            case 29:\n              _context3.next = 34;\n              break;\n\n            case 31:\n              _context3.prev = 31;\n              _context3.t0 = _context3[\"catch\"](0);\n              reject(_context3.t0);\n\n            case 34:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, null, [[0, 31]]);\n    }));\n\n    return function (_x5, _x6) {\n      return _ref3.apply(this, arguments);\n    };\n  }());\n}; //Get account by id\n\n\nvar getAccountById = function getAccountById(id) {\n  return new Promise( /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(resolve, reject) {\n      var user, clinics, clinicOfDoctor, serviceOfDoctor;\n      return regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.prev = 0;\n              _context4.next = 3;\n              return db.User.findOne({\n                where: {\n                  id: id\n                },\n                raw: true\n              });\n\n            case 3:\n              user = _context4.sent;\n              _context4.next = 6;\n              return db.Clinic.findAll({\n                raw: true\n              });\n\n            case 6:\n              clinics = _context4.sent;\n\n              if (!user) {\n                _context4.next = 21;\n                break;\n              }\n\n              if (!(user.roleID == 2)) {\n                _context4.next = 18;\n                break;\n              }\n\n              _context4.next = 11;\n              return db.Clinic.findOne({\n                where: {\n                  id: user.clinicID\n                },\n                raw: true\n              });\n\n            case 11:\n              clinicOfDoctor = _context4.sent;\n              _context4.next = 14;\n              return db.Service.findOne({\n                where: {\n                  UserId: user.id\n                }\n              });\n\n            case 14:\n              serviceOfDoctor = _context4.sent;\n              resolve([user, clinicOfDoctor, clinics, serviceOfDoctor]);\n              _context4.next = 19;\n              break;\n\n            case 18:\n              resolve([user, '', clinics, '']);\n\n            case 19:\n              _context4.next = 22;\n              break;\n\n            case 21:\n              resolve({});\n\n            case 22:\n              _context4.next = 27;\n              break;\n\n            case 24:\n              _context4.prev = 24;\n              _context4.t0 = _context4[\"catch\"](0);\n              reject(_context4.t0);\n\n            case 27:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4, null, [[0, 24]]);\n    }));\n\n    return function (_x7, _x8) {\n      return _ref4.apply(this, arguments);\n    };\n  }());\n}; //Update account\n\n\nvar updateAccount = function updateAccount(data) {\n  return new Promise( /*#__PURE__*/function () {\n    var _ref5 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5(resolve, reject) {\n      var user, clinicId, resumeId, fee1, service;\n      return regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              _context5.prev = 0;\n              _context5.next = 3;\n              return db.User.findOne({\n                where: {\n                  id: data.id\n                }\n              });\n\n            case 3:\n              user = _context5.sent;\n\n              if (!user) {\n                _context5.next = 39;\n                break;\n              }\n\n              clinicId = null;\n              resumeId = null;\n\n              if (!(data.roleID == 2)) {\n                _context5.next = 13;\n                break;\n              }\n\n              clinicId = data.clinic;\n\n              if (!(user.resumeID == null)) {\n                _context5.next = 13;\n                break;\n              }\n\n              resumeId = uuidv4();\n              _context5.next = 13;\n              return db.Resume.create({\n                id: resumeId,\n                title: '',\n                description: ''\n              });\n\n            case 13:\n              user.firstName = data.firstName;\n              user.lastName = data.lastName;\n              user.email = data.email;\n              user.address = data.address;\n              user.phoneNumber = data.phoneNumber;\n              user.roleID = data.roleID; // user.status = 1;\n\n              user.clinicID = clinicId;\n              user.resumeID = resumeId;\n              _context5.next = 23;\n              return user.save();\n\n            case 23:\n              if (!(data.roleID == 2)) {\n                _context5.next = 36;\n                break;\n              }\n\n              fee1 = data.fee;\n              _context5.next = 27;\n              return db.Service.findOne({\n                where: {\n                  UserId: user.id\n                }\n              });\n\n            case 27:\n              service = _context5.sent;\n\n              if (!service) {\n                _context5.next = 34;\n                break;\n              }\n\n              service.fee = fee1;\n              _context5.next = 32;\n              return service.save();\n\n            case 32:\n              _context5.next = 36;\n              break;\n\n            case 34:\n              _context5.next = 36;\n              return db.Service.create({\n                id: uuidv4(),\n                UserId: user.id,\n                fee: fee1\n              });\n\n            case 36:\n              resolve('Cập nhật thành công !'); //return\n\n              _context5.next = 40;\n              break;\n\n            case 39:\n              resolve(); //return\n\n            case 40:\n              _context5.next = 45;\n              break;\n\n            case 42:\n              _context5.prev = 42;\n              _context5.t0 = _context5[\"catch\"](0);\n              reject(_context5.t0);\n\n            case 45:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5, null, [[0, 42]]);\n    }));\n\n    return function (_x9, _x10) {\n      return _ref5.apply(this, arguments);\n    };\n  }());\n}; //delete account\n\n\nvar deleteAcc = function deleteAcc(id) {\n  return new Promise( /*#__PURE__*/function () {\n    var _ref6 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee6(resolve, reject) {\n      var user;\n      return regeneratorRuntime.wrap(function _callee6$(_context6) {\n        while (1) {\n          switch (_context6.prev = _context6.next) {\n            case 0:\n              _context6.prev = 0;\n              _context6.next = 3;\n              return db.User.findOne({\n                where: {\n                  id: id\n                }\n              });\n\n            case 3:\n              user = _context6.sent;\n\n              if (!user) {\n                _context6.next = 14;\n                break;\n              }\n\n              if (!(user.roleID === 1)) {\n                _context6.next = 9;\n                break;\n              }\n\n              resolve('Không thể xóa tài khoản quản trị viên');\n              _context6.next = 12;\n              break;\n\n            case 9:\n              _context6.next = 11;\n              return user.destroy();\n\n            case 11:\n              resolve('Xóa thành công !');\n\n            case 12:\n              _context6.next = 15;\n              break;\n\n            case 14:\n              resolve();\n\n            case 15:\n              _context6.next = 20;\n              break;\n\n            case 17:\n              _context6.prev = 17;\n              _context6.t0 = _context6[\"catch\"](0);\n              reject(_context6.t0);\n\n            case 20:\n            case \"end\":\n              return _context6.stop();\n          }\n        }\n      }, _callee6, null, [[0, 17]]);\n    }));\n\n    return function (_x11, _x12) {\n      return _ref6.apply(this, arguments);\n    };\n  }());\n}; //Change account status\n\n\nvar changeAccStatus = function changeAccStatus(data) {\n  return new Promise( /*#__PURE__*/function () {\n    var _ref7 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee7(resolve, reject) {\n      var account;\n      return regeneratorRuntime.wrap(function _callee7$(_context7) {\n        while (1) {\n          switch (_context7.prev = _context7.next) {\n            case 0:\n              _context7.prev = 0;\n              _context7.next = 3;\n              return db.User.findOne({\n                where: {\n                  id: data.id\n                }\n              });\n\n            case 3:\n              account = _context7.sent;\n\n              if (!account) {\n                _context7.next = 11;\n                break;\n              }\n\n              if (account.roleID == 2) {\n                if (account.status == 0) {\n                  account.status = 1;\n                } else if (account.status == 1) {\n                  account.status = 2;\n                } else {\n                  account.status = 0;\n                }\n              } else {\n                if (account.status == 1) {\n                  account.status = 0;\n                } else {\n                  account.status = 1;\n                }\n              }\n\n              _context7.next = 8;\n              return account.save();\n\n            case 8:\n              resolve();\n              _context7.next = 12;\n              break;\n\n            case 11:\n              resolve();\n\n            case 12:\n              _context7.next = 17;\n              break;\n\n            case 14:\n              _context7.prev = 14;\n              _context7.t0 = _context7[\"catch\"](0);\n              reject(_context7.t0);\n\n            case 17:\n            case \"end\":\n              return _context7.stop();\n          }\n        }\n      }, _callee7, null, [[0, 14]]);\n    }));\n\n    return function (_x13, _x14) {\n      return _ref7.apply(this, arguments);\n    };\n  }());\n};\n\nmodule.exports = {\n  getListAccounts: getListAccounts,\n  createNewAccount: createNewAccount,\n  updateAccount: updateAccount,\n  getAccountById: getAccountById,\n  deleteAcc: deleteAcc,\n  changeAccStatus: changeAccStatus\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkFjY291bnRTZXJ2aWNlLmpzIl0sIm5hbWVzIjpbImJjcnlwdCIsInJlcXVpcmUiLCJkYiIsInNhbHQiLCJnZW5TYWx0U3luYyIsInV1aWR2NCIsInY0IiwiaGFzaFVzZXJQYXNzd29yZCIsInBhc3N3b3JkIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJoYXNoU3luYyIsImhhc2hQYXNzd29yZCIsImdldExpc3RBY2NvdW50cyIsIkNsaW5pYyIsImZpbmRBbGwiLCJyYXciLCJsaXN0Q2xpbmljcyIsIlVzZXIiLCJsaXN0VXNlcnMiLCJjcmVhdGVOZXdBY2NvdW50IiwiZGF0YSIsImZpbmRPbmUiLCJ3aGVyZSIsImVtYWlsIiwiYWNjIiwidXNlcklkIiwic2VydmljZUlkIiwiY2xpbmljSWQiLCJyZXN1bWVJZCIsImZlZTEiLCJyb2xlSUQiLCJjbGluaWMiLCJmZWUiLCJSZXN1bWUiLCJjcmVhdGUiLCJpZCIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJmaXJzdE5hbWUiLCJsYXN0TmFtZSIsImdlbmRlciIsInBob25lTnVtYmVyIiwiYWRkcmVzcyIsInN0YXR1cyIsImltYWdlIiwicmVzdW1lSUQiLCJjbGluaWNJRCIsIlNlcnZpY2UiLCJVc2VySWQiLCJnZXRBY2NvdW50QnlJZCIsInVzZXIiLCJjbGluaWNzIiwiY2xpbmljT2ZEb2N0b3IiLCJzZXJ2aWNlT2ZEb2N0b3IiLCJ1cGRhdGVBY2NvdW50Iiwic2F2ZSIsInNlcnZpY2UiLCJkZWxldGVBY2MiLCJkZXN0cm95IiwiY2hhbmdlQWNjU3RhdHVzIiwiYWNjb3VudCIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQU1BLE1BQU0sR0FBR0MsT0FBTyxDQUFDLFVBQUQsQ0FBdEI7O0FBQ0EsSUFBTUMsRUFBRSxHQUFHRCxPQUFPLENBQUMsaUJBQUQsQ0FBbEI7O0FBQ0EsSUFBSUUsSUFBSSxHQUFHSCxNQUFNLENBQUNJLFdBQVAsQ0FBbUIsQ0FBbkIsQ0FBWDs7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Y0FBYyxFQUFkQSxjQUplO0FBS2ZRLEVBQUFBLFNBQVMsRUFBVEEsU0FMZTtBQU1mRSxFQUFBQSxlQUFlLEVBQWZBO0FBTmUsQ0FBakIiLCJzb3VyY2VSb290IjoiL1VzZXJzL21hYy9EZXNrdG9wL0ZpbmFsX1Byb2plY3RfRFRVL3NyYy9hcHAvc2VydmljZS8iLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBiY3J5cHQgPSByZXF1aXJlKCdiY3J5cHRqcycpO1xyXG5jb25zdCBkYiA9IHJlcXVpcmUoJy4uL21vZGVscy9pbmRleCcpO1xyXG5sZXQgc2FsdCA9IGJjcnlwdC5nZW5TYWx0U3luYyg1KTtcclxuY29uc3QgeyB2NDogdXVpZHY0IH0gPSByZXF1aXJlKCd1dWlkJyk7XHJcblxyXG5sZXQgaGFzaFVzZXJQYXNzd29yZCA9IChwYXNzd29yZCkgPT4ge1xyXG4gIHJldHVybiBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBsZXQgaGFzaFBhc3N3b3JkID0gYXdhaXQgYmNyeXB0Lmhhc2hTeW5jKHBhc3N3b3JkLCA1KTtcclxuICAgICAgcmVzb2x2ZShoYXNoUGFzc3dvcmQpO1xyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICByZWplY3QoZSk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn07XHJcblxyXG5sZXQgZ2V0TGlzdEFjY291bnRzID0gKCkgPT4ge1xyXG4gIHJldHVybiBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBsZXQgbGlzdENsaW5pY3MgPSBhd2FpdCBkYi5DbGluaWMuZmluZEFsbCh7IHJhdzogdHJ1ZSB9KTtcclxuICAgICAgbGV0IGxpc3RVc2VycyA9IGF3YWl0IGRiLlVzZXIuZmluZEFsbCh7IHJhdzogdHJ1ZSB9KTtcclxuICAgICAgcmVzb2x2ZShbbGlzdFVzZXJzLCBsaXN0Q2xpbmljc10pOyAvLyA9PSByZXR1cm4gbGlzdFVzZXJzXHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIHJlamVjdChlKTtcclxuICAgIH1cclxuICB9KTtcclxufTtcclxuXHJcbi8vQ3JlYXRlIEFjY291bnRcclxubGV0IGNyZWF0ZU5ld0FjY291bnQgPSAoZGF0YSkgPT4ge1xyXG4gIHJldHVybiBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBsZXQgaGFzaFBhc3N3b3JkID0gYXdhaXQgaGFzaFVzZXJQYXNzd29yZChkYXRhLnBhc3N3b3JkKTtcclxuXHJcbiAgICAgIGxldCBhY2MgPSBhd2FpdCBkYi5Vc2VyLmZpbmRPbmUoe1xyXG4gICAgICAgIHdoZXJlOiB7IGVtYWlsOiBkYXRhLmVtYWlsIH0sXHJcbiAgICAgICAgcmF3OiB0cnVlLFxyXG4gICAgICB9KTtcclxuICAgICAgaWYgKGFjYykge1xyXG4gICAgICAgIHJlc29sdmUoJ0FjY291bnQgZXhpc3QnKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBjb25zdCB1c2VySWQgPSB1dWlkdjQoKTtcclxuICAgICAgICBsZXQgc2VydmljZUlkID0gbnVsbDtcclxuICAgICAgICBsZXQgY2xpbmljSWQgPSBudWxsO1xyXG4gICAgICAgIGxldCByZXN1bWVJZCA9IG51bGw7XHJcbiAgICAgICAgbGV0IGZlZTEgPSBudWxsO1xyXG4gICAgICAgIGlmIChkYXRhLnJvbGVJRCA9PSAyKSB7XHJcbiAgICAgICAgICBjbGluaWNJZCA9IGRhdGEuY2xpbmljO1xyXG4gICAgICAgICAgZmVlMSA9IGRhdGEuZmVlO1xyXG4gICAgICAgICAgcmVzdW1lSWQgPSB1dWlkdjQoKTtcclxuICAgICAgICAgIHNlcnZpY2VJZCA9IHV1aWR2NCgpO1xyXG4gICAgICAgICAgYXdhaXQgZGIuUmVzdW1lLmNyZWF0ZSh7IGlkOiByZXN1bWVJZCwgdGl0bGU6ICcnLCBkZXNjcmlwdGlvbjogJycgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGF3YWl0IGRiLlVzZXIuY3JlYXRlKHtcclxuICAgICAgICAgIGlkOiB1c2VySWQsXHJcbiAgICAgICAgICBlbWFpbDogZGF0YS5lbWFpbCxcclxuICAgICAgICAgIHBhc3N3b3JkOiBoYXNoUGFzc3dvcmQsXHJcbiAgICAgICAgICBmaXJzdE5hbWU6IGRhdGEuZmlyc3ROYW1lLFxyXG4gICAgICAgICAgbGFzdE5hbWU6IGRhdGEubGFzdE5hbWUsXHJcbiAgICAgICAgICBnZW5kZXI6IGRhdGEuZ2VuZGVyLFxyXG4gICAgICAgICAgcGhvbmVOdW1iZXI6IGRhdGEucGhvbmVOdW1iZXIsXHJcbiAgICAgICAgICBhZGRyZXNzOiBkYXRhLmFkZHJlc3MsXHJcbiAgICAgICAgICByb2xlSUQ6IGRhdGEucm9sZUlELFxyXG4gICAgICAgICAgc3RhdHVzOiAxLFxyXG4gICAgICAgICAgaW1hZ2U6XHJcbiAgICAgICAgICAgICdodHRwczovL2Nkbi5waXhhYmF5LmNvbS9waG90by8yMDE1LzEwLzA1LzIyLzM3L2JsYW5rLXByb2ZpbGUtcGljdHVyZS05NzM0NjBfXzQ4MC5wbmcnLFxyXG4gICAgICAgICAgcmVzdW1lSUQ6IHJlc3VtZUlkLFxyXG4gICAgICAgICAgY2xpbmljSUQ6IGNsaW5pY0lkLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmIChkYXRhLnJvbGVJRCA9PSAyKSB7XHJcbiAgICAgICAgICBhd2FpdCBkYi5TZXJ2aWNlLmNyZWF0ZSh7IGlkOiBzZXJ2aWNlSWQsIFVzZXJJZDogdXNlcklkLCBmZWU6IGZlZTEgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXNvbHZlKCdUaMOqbSB0aMOgbmggY8O0bmcgIScpO1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIHJlamVjdChlKTtcclxuICAgIH1cclxuICB9KTtcclxufTtcclxuLy9HZXQgYWNjb3VudCBieSBpZFxyXG5sZXQgZ2V0QWNjb3VudEJ5SWQgPSAoaWQpID0+IHtcclxuICByZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgbGV0IHVzZXIgPSBhd2FpdCBkYi5Vc2VyLmZpbmRPbmUoe1xyXG4gICAgICAgIHdoZXJlOiB7IGlkOiBpZCB9LFxyXG4gICAgICAgIHJhdzogdHJ1ZSxcclxuICAgICAgfSk7XHJcbiAgICAgIGxldCBjbGluaWNzID0gYXdhaXQgZGIuQ2xpbmljLmZpbmRBbGwoe1xyXG4gICAgICAgIHJhdzogdHJ1ZSxcclxuICAgICAgfSk7XHJcbiAgICAgIGlmICh1c2VyKSB7XHJcbiAgICAgICAgaWYgKHVzZXIucm9sZUlEID09IDIpIHtcclxuICAgICAgICAgIGxldCBjbGluaWNPZkRvY3RvciA9IGF3YWl0IGRiLkNsaW5pYy5maW5kT25lKHtcclxuICAgICAgICAgICAgd2hlcmU6IHsgaWQ6IHVzZXIuY2xpbmljSUQgfSxcclxuICAgICAgICAgICAgcmF3OiB0cnVlLFxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICBsZXQgc2VydmljZU9mRG9jdG9yID0gYXdhaXQgZGIuU2VydmljZS5maW5kT25lKHtcclxuICAgICAgICAgICAgd2hlcmU6IHsgVXNlcklkOiB1c2VyLmlkIH0sXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIHJlc29sdmUoW3VzZXIsIGNsaW5pY09mRG9jdG9yLCBjbGluaWNzLCBzZXJ2aWNlT2ZEb2N0b3JdKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgcmVzb2x2ZShbdXNlciwgJycsIGNsaW5pY3MsICcnXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJlc29sdmUoe30pO1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIHJlamVjdChlKTtcclxuICAgIH1cclxuICB9KTtcclxufTtcclxuXHJcbi8vVXBkYXRlIGFjY291bnRcclxubGV0IHVwZGF0ZUFjY291bnQgPSAoZGF0YSkgPT4ge1xyXG4gIHJldHVybiBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBsZXQgdXNlciA9IGF3YWl0IGRiLlVzZXIuZmluZE9uZSh7XHJcbiAgICAgICAgd2hlcmU6IHsgaWQ6IGRhdGEuaWQgfSxcclxuICAgICAgfSk7XHJcbiAgICAgIGlmICh1c2VyKSB7XHJcbiAgICAgICAgbGV0IGNsaW5pY0lkID0gbnVsbDtcclxuICAgICAgICBsZXQgcmVzdW1lSWQgPSBudWxsO1xyXG4gICAgICAgIGlmIChkYXRhLnJvbGVJRCA9PSAyKSB7XHJcbiAgICAgICAgICBjbGluaWNJZCA9IGRhdGEuY2xpbmljO1xyXG5cclxuICAgICAgICAgIGlmICh1c2VyLnJlc3VtZUlEID09IG51bGwpIHtcclxuICAgICAgICAgICAgcmVzdW1lSWQgPSB1dWlkdjQoKTtcclxuICAgICAgICAgICAgYXdhaXQgZGIuUmVzdW1lLmNyZWF0ZSh7IGlkOiByZXN1bWVJZCwgdGl0bGU6ICcnLCBkZXNjcmlwdGlvbjogJycgfSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHVzZXIuZmlyc3ROYW1lID0gZGF0YS5maXJzdE5hbWU7XHJcbiAgICAgICAgdXNlci5sYXN0TmFtZSA9IGRhdGEubGFzdE5hbWU7XHJcbiAgICAgICAgdXNlci5lbWFpbCA9IGRhdGEuZW1haWw7XHJcbiAgICAgICAgdXNlci5hZGRyZXNzID0gZGF0YS5hZGRyZXNzO1xyXG4gICAgICAgIHVzZXIucGhvbmVOdW1iZXIgPSBkYXRhLnBob25lTnVtYmVyO1xyXG4gICAgICAgIHVzZXIucm9sZUlEID0gZGF0YS5yb2xlSUQ7XHJcbiAgICAgICAgLy8gdXNlci5zdGF0dXMgPSAxO1xyXG4gICAgICAgIHVzZXIuY2xpbmljSUQgPSBjbGluaWNJZDtcclxuICAgICAgICB1c2VyLnJlc3VtZUlEID0gcmVzdW1lSWQ7XHJcblxyXG4gICAgICAgIGF3YWl0IHVzZXIuc2F2ZSgpO1xyXG5cclxuICAgICAgICBpZiAoZGF0YS5yb2xlSUQgPT0gMikge1xyXG4gICAgICAgICAgbGV0IGZlZTEgPSBkYXRhLmZlZTtcclxuICAgICAgICAgIGxldCBzZXJ2aWNlID0gYXdhaXQgZGIuU2VydmljZS5maW5kT25lKHtcclxuICAgICAgICAgICAgd2hlcmU6IHsgVXNlcklkOiB1c2VyLmlkIH0sXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIGlmIChzZXJ2aWNlKSB7XHJcbiAgICAgICAgICAgIHNlcnZpY2UuZmVlID0gZmVlMTtcclxuICAgICAgICAgICAgYXdhaXQgc2VydmljZS5zYXZlKCk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBhd2FpdCBkYi5TZXJ2aWNlLmNyZWF0ZSh7IGlkOiB1dWlkdjQoKSwgVXNlcklkOiB1c2VyLmlkLCBmZWU6IGZlZTEgfSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJlc29sdmUoJ0Phuq1wIG5o4bqtdCB0aMOgbmggY8O0bmcgIScpOyAvL3JldHVyblxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJlc29sdmUoKTsgLy9yZXR1cm5cclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICByZWplY3QoZSk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn07XHJcbi8vZGVsZXRlIGFjY291bnRcclxubGV0IGRlbGV0ZUFjYyA9IChpZCkgPT4ge1xyXG4gIHJldHVybiBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBsZXQgdXNlciA9IGF3YWl0IGRiLlVzZXIuZmluZE9uZSh7XHJcbiAgICAgICAgd2hlcmU6IHsgaWQ6IGlkIH0sXHJcbiAgICAgIH0pO1xyXG4gICAgICBpZiAodXNlcikge1xyXG4gICAgICAgIGlmICh1c2VyLnJvbGVJRCA9PT0gMSkge1xyXG4gICAgICAgICAgcmVzb2x2ZSgnS2jDtG5nIHRo4buDIHjDs2EgdMOgaSBraG/huqNuIHF14bqjbiB0cuG7iyB2acOqbicpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBhd2FpdCB1c2VyLmRlc3Ryb3koKTtcclxuICAgICAgICAgIHJlc29sdmUoJ1jDs2EgdGjDoG5oIGPDtG5nICEnKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIHJlamVjdChlKTtcclxuICAgIH1cclxuICB9KTtcclxufTtcclxuLy9DaGFuZ2UgYWNjb3VudCBzdGF0dXNcclxubGV0IGNoYW5nZUFjY1N0YXR1cyA9IChkYXRhKSA9PiB7XHJcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGxldCBhY2NvdW50ID0gYXdhaXQgZGIuVXNlci5maW5kT25lKHtcclxuICAgICAgICB3aGVyZTogeyBpZDogZGF0YS5pZCB9LFxyXG4gICAgICB9KTtcclxuICAgICAgaWYgKGFjY291bnQpIHtcclxuICAgICAgICBpZiAoYWNjb3VudC5yb2xlSUQgPT0gMikge1xyXG4gICAgICAgICAgaWYgKGFjY291bnQuc3RhdHVzID09IDApIHtcclxuICAgICAgICAgICAgYWNjb3VudC5zdGF0dXMgPSAxO1xyXG4gICAgICAgICAgfSBlbHNlIGlmIChhY2NvdW50LnN0YXR1cyA9PSAxKSB7XHJcbiAgICAgICAgICAgIGFjY291bnQuc3RhdHVzID0gMjtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGFjY291bnQuc3RhdHVzID0gMDtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgaWYgKGFjY291bnQuc3RhdHVzID09IDEpIHtcclxuICAgICAgICAgICAgYWNjb3VudC5zdGF0dXMgPSAwO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgYWNjb3VudC5zdGF0dXMgPSAxO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBhd2FpdCBhY2NvdW50LnNhdmUoKTtcclxuICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIHJlamVjdChlKTtcclxuICAgIH1cclxuICB9KTtcclxufTtcclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgZ2V0TGlzdEFjY291bnRzLFxyXG4gIGNyZWF0ZU5ld0FjY291bnQsXHJcbiAgdXBkYXRlQWNjb3VudCxcclxuICBnZXRBY2NvdW50QnlJZCxcclxuICBkZWxldGVBY2MsXHJcbiAgY2hhbmdlQWNjU3RhdHVzLFxyXG59O1xyXG4iXX0=","map":{"version":3,"sources":["AccountService.js"],"names":["bcrypt","require","db","salt","genSaltSync","uuidv4","v4","hashUserPassword","password","Promise","resolve","reject","hashSync","hashPassword","getListAccounts","Clinic","findAll","raw","listClinics","User","listUsers","createNewAccount","data","findOne","where","email","acc","userId","serviceId","clinicId","resumeId","fee1","roleID","clinic","fee","Resume","create","id","title","description","firstName","lastName","gender","phoneNumber","address","status","image","resumeID","clinicID","Service","UserId","getAccountById","user","clinics","clinicOfDoctor","serviceOfDoctor","updateAccount","save","service","deleteAcc","destroy","changeAccStatus","account","module","exports"],"mappings":"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","sourceRoot":"/Users/mac/Desktop/Final_Project_DTU/src/app/service/","sourcesContent":["const bcrypt = require('bcryptjs');\r\nconst db = require('../models/index');\r\nlet salt = bcrypt.genSaltSync(5);\r\nconst { v4: uuidv4 } = require('uuid');\r\n\r\nlet hashUserPassword = (password) => {\r\n  return new Promise(async (resolve, reject) => {\r\n    try {\r\n      let hashPassword = await bcrypt.hashSync(password, 5);\r\n      resolve(hashPassword);\r\n    } catch (e) {\r\n      reject(e);\r\n    }\r\n  });\r\n};\r\n\r\nlet getListAccounts = () => {\r\n  return new Promise(async (resolve, reject) => {\r\n    try {\r\n      let listClinics = await db.Clinic.findAll({ raw: true });\r\n      let listUsers = await db.User.findAll({ raw: true });\r\n      resolve([listUsers, listClinics]); // == return listUsers\r\n    } catch (e) {\r\n      reject(e);\r\n    }\r\n  });\r\n};\r\n\r\n//Create Account\r\nlet createNewAccount = (data) => {\r\n  return new Promise(async (resolve, reject) => {\r\n    try {\r\n      let hashPassword = await hashUserPassword(data.password);\r\n\r\n      let acc = await db.User.findOne({\r\n        where: { email: data.email },\r\n        raw: true,\r\n      });\r\n      if (acc) {\r\n        resolve('Account exist');\r\n      } else {\r\n        const userId = uuidv4();\r\n        let serviceId = null;\r\n        let clinicId = null;\r\n        let resumeId = null;\r\n        let fee1 = null;\r\n        if (data.roleID == 2) {\r\n          clinicId = data.clinic;\r\n          fee1 = data.fee;\r\n          resumeId = uuidv4();\r\n          serviceId = uuidv4();\r\n          await db.Resume.create({ id: resumeId, title: '', description: '' });\r\n        }\r\n        await db.User.create({\r\n          id: userId,\r\n          email: data.email,\r\n          password: hashPassword,\r\n          firstName: data.firstName,\r\n          lastName: data.lastName,\r\n          gender: data.gender,\r\n          phoneNumber: data.phoneNumber,\r\n          address: data.address,\r\n          roleID: data.roleID,\r\n          status: 1,\r\n          image:\r\n            'https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460__480.png',\r\n          resumeID: resumeId,\r\n          clinicID: clinicId,\r\n        });\r\n        if (data.roleID == 2) {\r\n          await db.Service.create({ id: serviceId, UserId: userId, fee: fee1 });\r\n        }\r\n\r\n        resolve('Thêm thành công !');\r\n      }\r\n    } catch (e) {\r\n      reject(e);\r\n    }\r\n  });\r\n};\r\n//Get account by id\r\nlet getAccountById = (id) => {\r\n  return new Promise(async (resolve, reject) => {\r\n    try {\r\n      let user = await db.User.findOne({\r\n        where: { id: id },\r\n        raw: true,\r\n      });\r\n      let clinics = await db.Clinic.findAll({\r\n        raw: true,\r\n      });\r\n      if (user) {\r\n        if (user.roleID == 2) {\r\n          let clinicOfDoctor = await db.Clinic.findOne({\r\n            where: { id: user.clinicID },\r\n            raw: true,\r\n          });\r\n          let serviceOfDoctor = await db.Service.findOne({\r\n            where: { UserId: user.id },\r\n          });\r\n          resolve([user, clinicOfDoctor, clinics, serviceOfDoctor]);\r\n        } else {\r\n          resolve([user, '', clinics, '']);\r\n        }\r\n      } else {\r\n        resolve({});\r\n      }\r\n    } catch (e) {\r\n      reject(e);\r\n    }\r\n  });\r\n};\r\n\r\n//Update account\r\nlet updateAccount = (data) => {\r\n  return new Promise(async (resolve, reject) => {\r\n    try {\r\n      let user = await db.User.findOne({\r\n        where: { id: data.id },\r\n      });\r\n      if (user) {\r\n        let clinicId = null;\r\n        let resumeId = null;\r\n        if (data.roleID == 2) {\r\n          clinicId = data.clinic;\r\n\r\n          if (user.resumeID == null) {\r\n            resumeId = uuidv4();\r\n            await db.Resume.create({ id: resumeId, title: '', description: '' });\r\n          }\r\n        }\r\n        user.firstName = data.firstName;\r\n        user.lastName = data.lastName;\r\n        user.email = data.email;\r\n        user.address = data.address;\r\n        user.phoneNumber = data.phoneNumber;\r\n        user.roleID = data.roleID;\r\n        // user.status = 1;\r\n        user.clinicID = clinicId;\r\n        user.resumeID = resumeId;\r\n\r\n        await user.save();\r\n\r\n        if (data.roleID == 2) {\r\n          let fee1 = data.fee;\r\n          let service = await db.Service.findOne({\r\n            where: { UserId: user.id },\r\n          });\r\n          if (service) {\r\n            service.fee = fee1;\r\n            await service.save();\r\n          } else {\r\n            await db.Service.create({ id: uuidv4(), UserId: user.id, fee: fee1 });\r\n          }\r\n        }\r\n        resolve('Cập nhật thành công !'); //return\r\n      } else {\r\n        resolve(); //return\r\n      }\r\n    } catch (e) {\r\n      reject(e);\r\n    }\r\n  });\r\n};\r\n//delete account\r\nlet deleteAcc = (id) => {\r\n  return new Promise(async (resolve, reject) => {\r\n    try {\r\n      let user = await db.User.findOne({\r\n        where: { id: id },\r\n      });\r\n      if (user) {\r\n        if (user.roleID === 1) {\r\n          resolve('Không thể xóa tài khoản quản trị viên');\r\n        } else {\r\n          await user.destroy();\r\n          resolve('Xóa thành công !');\r\n        }\r\n      } else {\r\n        resolve();\r\n      }\r\n    } catch (e) {\r\n      reject(e);\r\n    }\r\n  });\r\n};\r\n//Change account status\r\nlet changeAccStatus = (data) => {\r\n  return new Promise(async (resolve, reject) => {\r\n    try {\r\n      let account = await db.User.findOne({\r\n        where: { id: data.id },\r\n      });\r\n      if (account) {\r\n        if (account.roleID == 2) {\r\n          if (account.status == 0) {\r\n            account.status = 1;\r\n          } else if (account.status == 1) {\r\n            account.status = 2;\r\n          } else {\r\n            account.status = 0;\r\n          }\r\n        } else {\r\n          if (account.status == 1) {\r\n            account.status = 0;\r\n          } else {\r\n            account.status = 1;\r\n          }\r\n        }\r\n        await account.save();\r\n        resolve();\r\n      } else {\r\n        resolve();\r\n      }\r\n    } catch (e) {\r\n      reject(e);\r\n    }\r\n  });\r\n};\r\nmodule.exports = {\r\n  getListAccounts,\r\n  createNewAccount,\r\n  updateAccount,\r\n  getAccountById,\r\n  deleteAcc,\r\n  changeAccStatus,\r\n};\r\n"]}},"mtime":1651628686000},"{\"sourceRoot\":\"/Users/mac/Desktop/Final_Project_DTU/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/mac/Desktop/Final_Project_DTU\",\"filename\":\"/Users/mac/Desktop/Final_Project_DTU/src/routes/doctor.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/mac/Desktop/Final_Project_DTU\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar express = require(\"express\");\n\nvar router = express.Router();\n\nvar multer = require(\"multer\");\n\nvar upload = multer({\n  dest: \"src/public/uploads/\"\n});\n\nvar doctorController = require(\"../app/controllers/DoctorController\");\n\nrouter.post(\"/changeAccount\", upload.single(\"image\"), doctorController.changeAccountDoctor);\nrouter.post(\"/changeResume\", doctorController.changeResume);\nrouter.use(\"/workHistory\", doctorController.workHistory);\nrouter.get(\"/changeStatus\", doctorController.changeStatus);\nrouter.use(\"/resume\", doctorController.doctorResume);\nrouter.use(\"/updateAccount\", doctorController.displayUpdateAccount);\nrouter.use(\"/\", doctorController.index);\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRvY3Rvci5qcyJdLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInJvdXRlciIsIlJvdXRlciIsIm11bHRlciIsInVwbG9hZCIsImRlc3QiLCJkb2N0b3JDb250cm9sbGVyIiwicG9zdCIsInNpbmdsZSIsImNoYW5nZUFjY291bnREb2N0b3IiLCJjaGFuZ2VSZXN1bWUiLCJ1c2UiLCJ3b3JrSGlzdG9yeSIsImdldCIsImNoYW5nZVN0YXR1cyIsImRvY3RvclJlc3VtZSIsImRpc3BsYXlVcGRhdGVBY2NvdW50IiwiaW5kZXgiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOztBQUFBLElBQUlBLE9BQU8sR0FBR0MsT0FBTyxDQUFDLFNBQUQsQ0FBckI7O0FBQ0EsSUFBSUMsTUFBTSxHQUFHRixPQUFPLENBQUNHLE1BQVIsRUFBYjs7QUFDQSxJQUFJQyxNQUFNLEdBQUdILE9BQU8sQ0FBQyxRQUFELENBQXBCOztBQUNBLElBQU1JLE1BQU0sR0FBR0QsTUFBTSxDQUFDO0FBQ3BCRSxFQUFBQSxJQUFJLEVBQUU7QUFEYyxDQUFELENBQXJCOztBQUdBLElBQU1DLGdCQUFnQixHQUFHTixPQUFPLENBQUMscUNBQUQsQ0FBaEM7O0FBQ0FDLE1BQU0sQ0FBQ00sSUFBUCxDQUNFLGdCQURGLEVBRUVILE1BQU0sQ0FBQ0ksTUFBUCxDQUFjLE9BQWQsQ0FGRixFQUdFRixnQkFBZ0IsQ0FBQ0csbUJBSG5CO0FBS0FSLE1BQU0sQ0FBQ00sSUFBUCxDQUFZLGVBQVosRUFBNkJELGdCQUFnQixDQUFDSSxZQUE5QztBQUNBVCxNQUFNLENBQUNVLEdBQVAsQ0FBVyxjQUFYLEVBQTJCTCxnQkFBZ0IsQ0FBQ00sV0FBNUM7QUFDQVgsTUFBTSxDQUFDWSxHQUFQLENBQVcsZUFBWCxFQUE0QlAsZ0JBQWdCLENBQUNRLFlBQTdDO0FBQ0FiLE1BQU0sQ0FBQ1UsR0FBUCxDQUFXLFNBQVgsRUFBc0JMLGdCQUFnQixDQUFDUyxZQUF2QztBQUNBZCxNQUFNLENBQUNVLEdBQVAsQ0FBVyxnQkFBWCxFQUE2QkwsZ0JBQWdCLENBQUNVLG9CQUE5QztBQUNBZixNQUFNLENBQUNVLEdBQVAsQ0FBVyxHQUFYLEVBQWdCTCxnQkFBZ0IsQ0FBQ1csS0FBakM7QUFDQUMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCbEIsTUFBakIiLCJzb3VyY2VSb290IjoiL1VzZXJzL21hYy9EZXNrdG9wL0ZpbmFsX1Byb2plY3RfRFRVL3NyYy9yb3V0ZXMvIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGV4cHJlc3MgPSByZXF1aXJlKFwiZXhwcmVzc1wiKTtcclxudmFyIHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XHJcbmxldCBtdWx0ZXIgPSByZXF1aXJlKFwibXVsdGVyXCIpO1xyXG5jb25zdCB1cGxvYWQgPSBtdWx0ZXIoe1xyXG4gIGRlc3Q6IFwic3JjL3B1YmxpYy91cGxvYWRzL1wiLFxyXG59KTtcclxuY29uc3QgZG9jdG9yQ29udHJvbGxlciA9IHJlcXVpcmUoXCIuLi9hcHAvY29udHJvbGxlcnMvRG9jdG9yQ29udHJvbGxlclwiKTtcclxucm91dGVyLnBvc3QoXHJcbiAgXCIvY2hhbmdlQWNjb3VudFwiLFxyXG4gIHVwbG9hZC5zaW5nbGUoXCJpbWFnZVwiKSxcclxuICBkb2N0b3JDb250cm9sbGVyLmNoYW5nZUFjY291bnREb2N0b3JcclxuKTtcclxucm91dGVyLnBvc3QoXCIvY2hhbmdlUmVzdW1lXCIsIGRvY3RvckNvbnRyb2xsZXIuY2hhbmdlUmVzdW1lKTtcclxucm91dGVyLnVzZShcIi93b3JrSGlzdG9yeVwiLCBkb2N0b3JDb250cm9sbGVyLndvcmtIaXN0b3J5KTtcclxucm91dGVyLmdldChcIi9jaGFuZ2VTdGF0dXNcIiwgZG9jdG9yQ29udHJvbGxlci5jaGFuZ2VTdGF0dXMpO1xyXG5yb3V0ZXIudXNlKFwiL3Jlc3VtZVwiLCBkb2N0b3JDb250cm9sbGVyLmRvY3RvclJlc3VtZSk7XHJcbnJvdXRlci51c2UoXCIvdXBkYXRlQWNjb3VudFwiLCBkb2N0b3JDb250cm9sbGVyLmRpc3BsYXlVcGRhdGVBY2NvdW50KTtcclxucm91dGVyLnVzZShcIi9cIiwgZG9jdG9yQ29udHJvbGxlci5pbmRleCk7XHJcbm1vZHVsZS5leHBvcnRzID0gcm91dGVyO1xyXG4iXX0=","map":{"version":3,"sources":["doctor.js"],"names":["express","require","router","Router","multer","upload","dest","doctorController","post","single","changeAccountDoctor","changeResume","use","workHistory","get","changeStatus","doctorResume","displayUpdateAccount","index","module","exports"],"mappings":";;AAAA,IAAIA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAArB;;AACA,IAAIC,MAAM,GAAGF,OAAO,CAACG,MAAR,EAAb;;AACA,IAAIC,MAAM,GAAGH,OAAO,CAAC,QAAD,CAApB;;AACA,IAAMI,MAAM,GAAGD,MAAM,CAAC;AACpBE,EAAAA,IAAI,EAAE;AADc,CAAD,CAArB;;AAGA,IAAMC,gBAAgB,GAAGN,OAAO,CAAC,qCAAD,CAAhC;;AACAC,MAAM,CAACM,IAAP,CACE,gBADF,EAEEH,MAAM,CAACI,MAAP,CAAc,OAAd,CAFF,EAGEF,gBAAgB,CAACG,mBAHnB;AAKAR,MAAM,CAACM,IAAP,CAAY,eAAZ,EAA6BD,gBAAgB,CAACI,YAA9C;AACAT,MAAM,CAACU,GAAP,CAAW,cAAX,EAA2BL,gBAAgB,CAACM,WAA5C;AACAX,MAAM,CAACY,GAAP,CAAW,eAAX,EAA4BP,gBAAgB,CAACQ,YAA7C;AACAb,MAAM,CAACU,GAAP,CAAW,SAAX,EAAsBL,gBAAgB,CAACS,YAAvC;AACAd,MAAM,CAACU,GAAP,CAAW,gBAAX,EAA6BL,gBAAgB,CAACU,oBAA9C;AACAf,MAAM,CAACU,GAAP,CAAW,GAAX,EAAgBL,gBAAgB,CAACW,KAAjC;AACAC,MAAM,CAACC,OAAP,GAAiBlB,MAAjB","sourceRoot":"/Users/mac/Desktop/Final_Project_DTU/src/routes/","sourcesContent":["var express = require(\"express\");\r\nvar router = express.Router();\r\nlet multer = require(\"multer\");\r\nconst upload = multer({\r\n  dest: \"src/public/uploads/\",\r\n});\r\nconst doctorController = require(\"../app/controllers/DoctorController\");\r\nrouter.post(\r\n  \"/changeAccount\",\r\n  upload.single(\"image\"),\r\n  doctorController.changeAccountDoctor\r\n);\r\nrouter.post(\"/changeResume\", doctorController.changeResume);\r\nrouter.use(\"/workHistory\", doctorController.workHistory);\r\nrouter.get(\"/changeStatus\", doctorController.changeStatus);\r\nrouter.use(\"/resume\", doctorController.doctorResume);\r\nrouter.use(\"/updateAccount\", doctorController.displayUpdateAccount);\r\nrouter.use(\"/\", doctorController.index);\r\nmodule.exports = router;\r\n"]}},"mtime":1651628686000},"{\"sourceRoot\":\"/Users/mac/Desktop/Final_Project_DTU/src/app/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/mac/Desktop/Final_Project_DTU\",\"filename\":\"/Users/mac/Desktop/Final_Project_DTU/src/app/controllers/DoctorController.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/mac/Desktop/Final_Project_DTU\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar _AppoinmentService = require(\"../service/AppoinmentService\");\n\nvar _UserService = require(\"../service/UserService\");\n\nvar _DoctorService = require(\"../service/DoctorService\");\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nvar express = require(\"express\");\n\nvar router = express.Router();\n\nvar DoctorController = /*#__PURE__*/function () {\n  function DoctorController() {\n    _classCallCheck(this, DoctorController);\n  }\n\n  _createClass(DoctorController, [{\n    key: \"index\",\n    value: function () {\n      var _index = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(req, res, next) {\n        var userId, account;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                userId = req.session.userID;\n                _context.next = 3;\n                return (0, _UserService.getUserById)(userId);\n\n              case 3:\n                account = _context.sent;\n                // res.render(\"doctor/edit_profile\", { account: account });\n                res.render(\"doctor/profile\", {\n                  account: account\n                });\n\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function index(_x, _x2, _x3) {\n        return _index.apply(this, arguments);\n      }\n\n      return index;\n    }()\n  }, {\n    key: \"displayUpdateAccount\",\n    value: function () {\n      var _displayUpdateAccount = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(req, res, next) {\n        var userId, account;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                userId = req.session.userID;\n                _context2.next = 3;\n                return (0, _UserService.getUserById)(userId);\n\n              case 3:\n                account = _context2.sent;\n                res.render(\"doctor/edit_profile\", {\n                  account: account\n                });\n\n              case 5:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      function displayUpdateAccount(_x4, _x5, _x6) {\n        return _displayUpdateAccount.apply(this, arguments);\n      }\n\n      return displayUpdateAccount;\n    }()\n  }, {\n    key: \"changeAccountDoctor\",\n    value: function () {\n      var _changeAccountDoctor = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(req, res, next) {\n        var accountChanged;\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                if (!req.file) {\n                  req.body.image = \"\";\n                } else {\n                  req.body.image = req.file.path.split(\"\\\\\").slice(3).join();\n                }\n\n                _context3.next = 3;\n                return (0, _UserService.updateUser)(req.body);\n\n              case 3:\n                accountChanged = _context3.sent;\n\n                if (accountChanged) {\n                  res.redirect(\"/doctor\");\n                } else {\n                  console.log(\"Change failed !\");\n                }\n\n              case 5:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      function changeAccountDoctor(_x7, _x8, _x9) {\n        return _changeAccountDoctor.apply(this, arguments);\n      }\n\n      return changeAccountDoctor;\n    }() //render workHistory Page\n\n  }, {\n    key: \"workHistory\",\n    value: function () {\n      var _workHistory = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(req, res) {\n        var appointments, _iterator, _step, appointment;\n\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return (0, _AppoinmentService.getAppointmentsAndTransactionsByUserID)(req.session.userID, 2);\n\n              case 2:\n                appointments = _context4.sent;\n                _iterator = _createForOfIteratorHelper(appointments);\n\n                try {\n                  for (_iterator.s(); !(_step = _iterator.n()).done;) {\n                    appointment = _step.value;\n                    appointment.balance = appointment[\"TransactionHistory.balance\"];\n                  }\n                } catch (err) {\n                  _iterator.e(err);\n                } finally {\n                  _iterator.f();\n                }\n\n                res.render(\"doctor/workHistory\", {\n                  appointments: appointments\n                });\n\n              case 6:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4);\n      }));\n\n      function workHistory(_x10, _x11) {\n        return _workHistory.apply(this, arguments);\n      }\n\n      return workHistory;\n    }()\n  }, {\n    key: \"doctorResume\",\n    value: function () {\n      var _doctorResume = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5(req, res) {\n        var resume;\n        return regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _context5.next = 2;\n                return (0, _DoctorService.getResumeById)(req.session.resumeID);\n\n              case 2:\n                resume = _context5.sent;\n                res.render(\"doctor/resumeDoctor\", {\n                  resume: resume\n                });\n\n              case 4:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5);\n      }));\n\n      function doctorResume(_x12, _x13) {\n        return _doctorResume.apply(this, arguments);\n      }\n\n      return doctorResume;\n    }()\n  }, {\n    key: \"changeResume\",\n    value: function () {\n      var _changeResume = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee6(req, res) {\n        var resumeUpdated;\n        return regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                console.log(req.body.description.trim());\n                _context6.next = 3;\n                return (0, _DoctorService.updateResume)(req.body);\n\n              case 3:\n                resumeUpdated = _context6.sent;\n\n                if (!resumeUpdated) {\n                  _context6.next = 8;\n                  break;\n                }\n\n                res.redirect(\"/doctor\");\n                _context6.next = 10;\n                break;\n\n              case 8:\n                console.log(\"update failed !\");\n                return _context6.abrupt(\"return\");\n\n              case 10:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6);\n      }));\n\n      function changeResume(_x14, _x15) {\n        return _changeResume.apply(this, arguments);\n      }\n\n      return changeResume;\n    }()\n  }, {\n    key: \"changeStatus\",\n    value: function () {\n      var _changeStatus = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee7(req, res) {\n        var updatedStatus;\n        return regeneratorRuntime.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                _context7.next = 2;\n                return (0, _DoctorService.updateFollowDoctorIdStatus)(req.session.userID);\n\n              case 2:\n                updatedStatus = _context7.sent;\n\n                if (updatedStatus) {\n                  res.redirect(\"back\");\n                } else {\n                  console.log(\"error update !\");\n                }\n\n              case 4:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7);\n      }));\n\n      function changeStatus(_x16, _x17) {\n        return _changeStatus.apply(this, arguments);\n      }\n\n      return changeStatus;\n    }()\n  }]);\n\n  return DoctorController;\n}();\n\nmodule.exports = new DoctorController();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkRvY3RvckNvbnRyb2xsZXIuanMiXSwibmFtZXMiOlsiZXhwcmVzcyIsInJlcXVpcmUiLCJyb3V0ZXIiLCJSb3V0ZXIiLCJEb2N0b3JDb250cm9sbGVyIiwicmVxIiwicmVzIiwibmV4dCIsInVzZXJJZCIsInNlc3Npb24iLCJ1c2VySUQiLCJhY2NvdW50IiwicmVuZGVyIiwiZmlsZSIsImJvZHkiLCJpbWFnZSIsInBhdGgiLCJzcGxpdCIsInNsaWNlIiwiam9pbiIsImFjY291bnRDaGFuZ2VkIiwicmVkaXJlY3QiLCJjb25zb2xlIiwibG9nIiwiYXBwb2ludG1lbnRzIiwiYXBwb2ludG1lbnQiLCJiYWxhbmNlIiwicmVzdW1lSUQiLCJyZXN1bWUiLCJkZXNjcmlwdGlvbiIsInRyaW0iLCJyZXN1bWVVcGRhdGVkIiwidXBkYXRlZFN0YXR1cyIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7O0FBRUE7O0FBSUE7O0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQVBBLElBQU1BLE9BQU8sR0FBR0MsT0FBTyxDQUFDLFNBQUQsQ0FBdkI7O0FBQ0EsSUFBTUMsTUFBTSxHQUFHRixPQUFPLENBQUNHLE1BQVIsRUFBZjs7SUFZTUMsZ0I7Ozs7Ozs7OzJFQUNKLGlCQUFZQyxHQUFaLEVBQWlCQyxHQUFqQixFQUFzQkMsSUFBdEI7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ1FDLGdCQUFBQSxNQURSLEdBQ2lCSCxHQUFHLENBQUNJLE9BQUosQ0FBWUMsTUFEN0I7QUFBQTtBQUFBLHVCQUVzQiw4QkFBWUYsTUFBWixDQUZ0Qjs7QUFBQTtBQUVNRyxnQkFBQUEsT0FGTjtBQUdFO0FBQ0FMLGdCQUFBQSxHQUFHLENBQUNNLE1BQUosQ0FBVyxnQkFBWCxFQUE2QjtBQUFFRCxrQkFBQUEsT0FBTyxFQUFFQTtBQUFYLGlCQUE3Qjs7QUFKRjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxPOzs7Ozs7Ozs7OzswRkFNQSxrQkFBMkJOLEdBQTNCLEVBQWdD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QUFBO0FBQUE7QUFBQTs7QUFJSXpCLGdCQUFBQSxHQUFHLENBQUNlLFFBQUosQ0FBYSxTQUFiO0FBSko7QUFBQTs7QUFBQTtBQU1JQyxnQkFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVksaUJBQVo7QUFOSjs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxPOzs7Ozs7Ozs7OztrRkFVQSxrQkFBbUJsQixHQUFuQixFQUF3QkMsR0FBeEI7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSx1QkFDNEIsK0NBQTJCRCxHQUFHLENBQUNJLE9BQUosQ0FBWUMsTUFBdkMsQ0FENUI7O0FBQUE7QUFDTXNCLGdCQUFBQSxhQUROOztBQUdFLG9CQUFJQSxhQUFKLEVBQW1CO0FBQ2pCMUIsa0JBQUFBLEdBQUcsQ0FBQ2UsUUFBSixDQUFhLE1BQWI7QUFDRCxpQkFGRCxNQUVPO0FBQ0xDLGtCQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxnQkFBWjtBQUNEOztBQVBIO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLE87Ozs7Ozs7Ozs7Ozs7QUFVRlUsTUFBTSxDQUFDQyxPQUFQLEdBQWlCLElBQUk5QixnQkFBSixFQUFqQiIsInNvdXJjZVJvb3QiOiIvVXNlcnMvbWFjL0Rlc2t0b3AvRmluYWxfUHJvamVjdF9EVFUvc3JjL2FwcC9jb250cm9sbGVycy8iLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBleHByZXNzID0gcmVxdWlyZShcImV4cHJlc3NcIik7XHJcbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XHJcbmltcG9ydCB7XHJcbiAgZ2V0QXBwb2ludG1lbnRzQnlVc2VySUQsXHJcbiAgZ2V0QXBwb2ludG1lbnRzQW5kVHJhbnNhY3Rpb25zQnlVc2VySUQsXHJcbn0gZnJvbSBcIi4uL3NlcnZpY2UvQXBwb2lubWVudFNlcnZpY2VcIjtcclxuaW1wb3J0IHsgZ2V0VXNlckJ5SWQsIHVwZGF0ZVVzZXIgfSBmcm9tIFwiLi4vc2VydmljZS9Vc2VyU2VydmljZVwiO1xyXG5pbXBvcnQge1xyXG4gIGdldFJlc3VtZUJ5SWQsXHJcbiAgdXBkYXRlUmVzdW1lLFxyXG4gIHVwZGF0ZUZvbGxvd0RvY3RvcklkU3RhdHVzLFxyXG59IGZyb20gXCIuLi9zZXJ2aWNlL0RvY3RvclNlcnZpY2VcIjtcclxuXHJcbmNsYXNzIERvY3RvckNvbnRyb2xsZXIge1xyXG4gIGFzeW5jIGluZGV4KHJlcSwgcmVzLCBuZXh0KSB7XHJcbiAgICBjb25zdCB1c2VySWQgPSByZXEuc2Vzc2lvbi51c2VySUQ7XHJcbiAgICBsZXQgYWNjb3VudCA9IGF3YWl0IGdldFVzZXJCeUlkKHVzZXJJZCk7XHJcbiAgICAvLyByZXMucmVuZGVyKFwiZG9jdG9yL2VkaXRfcHJvZmlsZVwiLCB7IGFjY291bnQ6IGFjY291bnQgfSk7XHJcbiAgICByZXMucmVuZGVyKFwiZG9jdG9yL3Byb2ZpbGVcIiwgeyBhY2NvdW50OiBhY2NvdW50IH0pO1xyXG4gIH1cclxuICBhc3luYyBkaXNwbGF5VXBkYXRlQWNjb3VudChyZXEsIHJlcywgbmV4dCkge1xyXG4gICAgY29uc3QgdXNlcklkID0gcmVxLnNlc3Npb24udXNlcklEO1xyXG4gICAgbGV0IGFjY291bnQgPSBhd2FpdCBnZXRVc2VyQnlJZCh1c2VySWQpO1xyXG4gICAgcmVzLnJlbmRlcihcImRvY3Rvci9lZGl0X3Byb2ZpbGVcIiwgeyBhY2NvdW50OiBhY2NvdW50IH0pO1xyXG4gIH1cclxuICBhc3luYyBjaGFuZ2VBY2NvdW50RG9jdG9yKHJlcSwgcmVzLCBuZXh0KSB7XHJcbiAgICBpZiAoIXJlcS5maWxlKSB7XHJcbiAgICAgIHJlcS5ib2R5LmltYWdlID0gXCJcIjtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJlcS5ib2R5LmltYWdlID0gcmVxLmZpbGUucGF0aC5zcGxpdChcIlxcXFxcIikuc2xpY2UoMykuam9pbigpO1xyXG4gICAgfVxyXG4gICAgbGV0IGFjY291bnRDaGFuZ2VkID0gYXdhaXQgdXBkYXRlVXNlcihyZXEuYm9keSk7XHJcbiAgICBpZiAoYWNjb3VudENoYW5nZWQpIHtcclxuICAgICAgcmVzLnJlZGlyZWN0KFwiL2RvY3RvclwiKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwiQ2hhbmdlIGZhaWxlZCAhXCIpO1xyXG4gICAgfVxyXG4gIH1cclxuICAvL3JlbmRlciB3b3JrSGlzdG9yeSBQYWdlXHJcbiAgYXN5bmMgd29ya0hpc3RvcnkocmVxLCByZXMpIHtcclxuICAgIGxldCBhcHBvaW50bWVudHMgPSBhd2FpdCBnZXRBcHBvaW50bWVudHNBbmRUcmFuc2FjdGlvbnNCeVVzZXJJRChcclxuICAgICAgcmVxLnNlc3Npb24udXNlcklELFxyXG4gICAgICAyXHJcbiAgICApO1xyXG5cclxuICAgIGZvciAobGV0IGFwcG9pbnRtZW50IG9mIGFwcG9pbnRtZW50cykge1xyXG4gICAgICBhcHBvaW50bWVudC5iYWxhbmNlID0gYXBwb2ludG1lbnRbXCJUcmFuc2FjdGlvbkhpc3RvcnkuYmFsYW5jZVwiXTtcclxuICAgIH1cclxuXHJcbiAgICByZXMucmVuZGVyKFwiZG9jdG9yL3dvcmtIaXN0b3J5XCIsIHsgYXBwb2ludG1lbnRzOiBhcHBvaW50bWVudHMgfSk7XHJcbiAgfVxyXG4gIGFzeW5jIGRvY3RvclJlc3VtZShyZXEsIHJlcykge1xyXG4gICAgbGV0IHJlc3VtZSA9IGF3YWl0IGdldFJlc3VtZUJ5SWQocmVxLnNlc3Npb24ucmVzdW1lSUQpO1xyXG4gICAgcmVzLnJlbmRlcihcImRvY3Rvci9yZXN1bWVEb2N0b3JcIiwgeyByZXN1bWU6IHJlc3VtZSB9KTtcclxuICB9XHJcbiAgYXN5bmMgY2hhbmdlUmVzdW1lKHJlcSwgcmVzKSB7XHJcbiAgICBjb25zb2xlLmxvZyhyZXEuYm9keS5kZXNjcmlwdGlvbi50cmltKCkpO1xyXG4gICAgbGV0IHJlc3VtZVVwZGF0ZWQgPSBhd2FpdCB1cGRhdGVSZXN1bWUocmVxLmJvZHkpO1xyXG4gICAgaWYgKHJlc3VtZVVwZGF0ZWQpIHtcclxuICAgICAgcmVzLnJlZGlyZWN0KFwiL2RvY3RvclwiKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwidXBkYXRlIGZhaWxlZCAhXCIpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgfVxyXG4gIGFzeW5jIGNoYW5nZVN0YXR1cyhyZXEsIHJlcykge1xyXG4gICAgbGV0IHVwZGF0ZWRTdGF0dXMgPSBhd2FpdCB1cGRhdGVGb2xsb3dEb2N0b3JJZFN0YXR1cyhyZXEuc2Vzc2lvbi51c2VySUQpO1xyXG5cclxuICAgIGlmICh1cGRhdGVkU3RhdHVzKSB7XHJcbiAgICAgIHJlcy5yZWRpcmVjdChcImJhY2tcIik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zb2xlLmxvZyhcImVycm9yIHVwZGF0ZSAhXCIpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5tb2R1bGUuZXhwb3J0cyA9IG5ldyBEb2N0b3JDb250cm9sbGVyKCk7XHJcbiJdfQ==","map":{"version":3,"sources":["DoctorController.js"],"names":["express","require","router","Router","DoctorController","req","res","next","userId","session","userID","account","render","file","body","image","path","split","slice","join","accountChanged","redirect","console","log","appointments","appointment","balance","resumeID","resume","description","trim","resumeUpdated","updatedStatus","module","exports"],"mappings":"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","sourceRoot":"/Users/mac/Desktop/Final_Project_DTU/src/app/controllers/","sourcesContent":["const express = require(\"express\");\r\nconst router = express.Router();\r\nimport {\r\n  getAppointmentsByUserID,\r\n  getAppointmentsAndTransactionsByUserID,\r\n} from \"../service/AppoinmentService\";\r\nimport { getUserById, updateUser } from \"../service/UserService\";\r\nimport {\r\n  getResumeById,\r\n  updateResume,\r\n  updateFollowDoctorIdStatus,\r\n} from \"../service/DoctorService\";\r\n\r\nclass DoctorController {\r\n  async index(req, res, next) {\r\n    const userId = req.session.userID;\r\n    let account = await getUserById(userId);\r\n    // res.render(\"doctor/edit_profile\", { account: account });\r\n    res.render(\"doctor/profile\", { account: account });\r\n  }\r\n  async displayUpdateAccount(req, res, next) {\r\n    const userId = req.session.userID;\r\n    let account = await getUserById(userId);\r\n    res.render(\"doctor/edit_profile\", { account: account });\r\n  }\r\n  async changeAccountDoctor(req, res, next) {\r\n    if (!req.file) {\r\n      req.body.image = \"\";\r\n    } else {\r\n      req.body.image = req.file.path.split(\"\\\\\").slice(3).join();\r\n    }\r\n    let accountChanged = await updateUser(req.body);\r\n    if (accountChanged) {\r\n      res.redirect(\"/doctor\");\r\n    } else {\r\n      console.log(\"Change failed !\");\r\n    }\r\n  }\r\n  //render workHistory Page\r\n  async workHistory(req, res) {\r\n    let appointments = await getAppointmentsAndTransactionsByUserID(\r\n      req.session.userID,\r\n      2\r\n    );\r\n\r\n    for (let appointment of appointments) {\r\n      appointment.balance = appointment[\"TransactionHistory.balance\"];\r\n    }\r\n\r\n    res.render(\"doctor/workHistory\", { appointments: appointments });\r\n  }\r\n  async doctorResume(req, res) {\r\n    let resume = await getResumeById(req.session.resumeID);\r\n    res.render(\"doctor/resumeDoctor\", { resume: resume });\r\n  }\r\n  async changeResume(req, res) {\r\n    console.log(req.body.description.trim());\r\n    let resumeUpdated = await updateResume(req.body);\r\n    if (resumeUpdated) {\r\n      res.redirect(\"/doctor\");\r\n    } else {\r\n      console.log(\"update failed !\");\r\n      return;\r\n    }\r\n  }\r\n  async changeStatus(req, res) {\r\n    let updatedStatus = await updateFollowDoctorIdStatus(req.session.userID);\r\n\r\n    if (updatedStatus) {\r\n      res.redirect(\"back\");\r\n    } else {\r\n      console.log(\"error update !\");\r\n    }\r\n  }\r\n}\r\nmodule.exports = new DoctorController();\r\n"]}},"mtime":1651628686000},"{\"sourceRoot\":\"/Users/mac/Desktop/Final_Project_DTU/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/mac/Desktop/Final_Project_DTU\",\"filename\":\"/Users/mac/Desktop/Final_Project_DTU/src/routes/callVideo.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/mac/Desktop/Final_Project_DTU\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar express = require(\"express\");\n\nvar router = express.Router();\n\nvar multer = require(\"multer\");\n\nvar upload = multer({\n  dest: \"src/public/uploads/\"\n});\n\nvar callVideoController = require(\"../app/controllers/CallVideoController\");\n\nrouter.use(\"/\", callVideoController.index);\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNhbGxWaWRlby5qcyJdLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInJvdXRlciIsIlJvdXRlciIsIm11bHRlciIsInVwbG9hZCIsImRlc3QiLCJjYWxsVmlkZW9Db250cm9sbGVyIiwidXNlIiwiaW5kZXgiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOztBQUFBLElBQUlBLE9BQU8sR0FBR0MsT0FBTyxDQUFDLFNBQUQsQ0FBckI7O0FBQ0EsSUFBSUMsTUFBTSxHQUFHRixPQUFPLENBQUNHLE1BQVIsRUFBYjs7QUFDQSxJQUFJQyxNQUFNLEdBQUdILE9BQU8sQ0FBQyxRQUFELENBQXBCOztBQUNBLElBQU1JLE1BQU0sR0FBR0QsTUFBTSxDQUFDO0FBQ3BCRSxFQUFBQSxJQUFJLEVBQUU7QUFEYyxDQUFELENBQXJCOztBQUlBLElBQU1DLG1CQUFtQixHQUFHTixPQUFPLENBQUMsd0NBQUQsQ0FBbkM7O0FBRUFDLE1BQU0sQ0FBQ00sR0FBUCxDQUFXLEdBQVgsRUFBZ0JELG1CQUFtQixDQUFDRSxLQUFwQztBQUNBQyxNQUFNLENBQUNDLE9BQVAsR0FBaUJULE1BQWpCIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9tYWMvRGVza3RvcC9GaW5hbF9Qcm9qZWN0X0RUVS9zcmMvcm91dGVzLyIsInNvdXJjZXNDb250ZW50IjpbInZhciBleHByZXNzID0gcmVxdWlyZShcImV4cHJlc3NcIik7XHJcbnZhciByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xyXG5sZXQgbXVsdGVyID0gcmVxdWlyZShcIm11bHRlclwiKTtcclxuY29uc3QgdXBsb2FkID0gbXVsdGVyKHtcclxuICBkZXN0OiBcInNyYy9wdWJsaWMvdXBsb2Fkcy9cIixcclxufSk7XHJcblxyXG5jb25zdCBjYWxsVmlkZW9Db250cm9sbGVyID0gcmVxdWlyZShcIi4uL2FwcC9jb250cm9sbGVycy9DYWxsVmlkZW9Db250cm9sbGVyXCIpO1xyXG5cclxucm91dGVyLnVzZShcIi9cIiwgY2FsbFZpZGVvQ29udHJvbGxlci5pbmRleCk7XHJcbm1vZHVsZS5leHBvcnRzID0gcm91dGVyO1xyXG4iXX0=","map":{"version":3,"sources":["callVideo.js"],"names":["express","require","router","Router","multer","upload","dest","callVideoController","use","index","module","exports"],"mappings":";;AAAA,IAAIA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAArB;;AACA,IAAIC,MAAM,GAAGF,OAAO,CAACG,MAAR,EAAb;;AACA,IAAIC,MAAM,GAAGH,OAAO,CAAC,QAAD,CAApB;;AACA,IAAMI,MAAM,GAAGD,MAAM,CAAC;AACpBE,EAAAA,IAAI,EAAE;AADc,CAAD,CAArB;;AAIA,IAAMC,mBAAmB,GAAGN,OAAO,CAAC,wCAAD,CAAnC;;AAEAC,MAAM,CAACM,GAAP,CAAW,GAAX,EAAgBD,mBAAmB,CAACE,KAApC;AACAC,MAAM,CAACC,OAAP,GAAiBT,MAAjB","sourceRoot":"/Users/mac/Desktop/Final_Project_DTU/src/routes/","sourcesContent":["var express = require(\"express\");\r\nvar router = express.Router();\r\nlet multer = require(\"multer\");\r\nconst upload = multer({\r\n  dest: \"src/public/uploads/\",\r\n});\r\n\r\nconst callVideoController = require(\"../app/controllers/CallVideoController\");\r\n\r\nrouter.use(\"/\", callVideoController.index);\r\nmodule.exports = router;\r\n"]}},"mtime":1651628644000},"{\"sourceRoot\":\"/Users/mac/Desktop/Final_Project_DTU/src/app/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/mac/Desktop/Final_Project_DTU\",\"filename\":\"/Users/mac/Desktop/Final_Project_DTU/src/app/controllers/CallVideoController.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/mac/Desktop/Final_Project_DTU\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nvar express = require(\"express\");\n\nvar router = express.Router();\n\nvar CallVideoController = /*#__PURE__*/function () {\n  function CallVideoController() {\n    _classCallCheck(this, CallVideoController);\n  }\n\n  _createClass(CallVideoController, [{\n    key: \"index\",\n    value: function index(req, res, next) {\n      res.render(\"user/callVideoView\");\n    }\n  }]);\n\n  return CallVideoController;\n}();\n\nmodule.exports = new CallVideoController();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkNhbGxWaWRlb0NvbnRyb2xsZXIuanMiXSwibmFtZXMiOlsiZXhwcmVzcyIsInJlcXVpcmUiLCJyb3V0ZXIiLCJSb3V0ZXIiLCJDYWxsVmlkZW9Db250cm9sbGVyIiwicmVxIiwicmVzIiwibmV4dCIsInJlbmRlciIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUEsSUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBRCxDQUF2Qjs7QUFDQSxJQUFNQyxNQUFNLEdBQUdGLE9BQU8sQ0FBQ0csTUFBUixFQUFmOztJQUVNQyxtQjs7Ozs7OztXQUNKLGVBQU1DLEdBQU4sRUFBV0MsR0FBWCxFQUFnQkMsSUFBaEIsRUFBc0I7QUFDcEJELE1BQUFBLEdBQUcsQ0FBQ0UsTUFBSixDQUFXLG9CQUFYO0FBQ0Q7Ozs7OztBQUVIQyxNQUFNLENBQUNDLE9BQVAsR0FBaUIsSUFBSU4sbUJBQUosRUFBakIiLCJzb3VyY2VSb290IjoiL1VzZXJzL21hYy9EZXNrdG9wL0ZpbmFsX1Byb2plY3RfRFRVL3NyYy9hcHAvY29udHJvbGxlcnMvIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoXCJleHByZXNzXCIpO1xyXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xyXG5cclxuY2xhc3MgQ2FsbFZpZGVvQ29udHJvbGxlciB7XHJcbiAgaW5kZXgocmVxLCByZXMsIG5leHQpIHtcclxuICAgIHJlcy5yZW5kZXIoXCJ1c2VyL2NhbGxWaWRlb1ZpZXdcIik7XHJcbiAgfVxyXG59XHJcbm1vZHVsZS5leHBvcnRzID0gbmV3IENhbGxWaWRlb0NvbnRyb2xsZXIoKTtcclxuIl19","map":{"version":3,"sources":["CallVideoController.js"],"names":["express","require","router","Router","CallVideoController","req","res","next","render","module","exports"],"mappings":";;;;;;;;AAAA,IAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,IAAMC,MAAM,GAAGF,OAAO,CAACG,MAAR,EAAf;;IAEMC,mB;;;;;;;WACJ,eAAMC,GAAN,EAAWC,GAAX,EAAgBC,IAAhB,EAAsB;AACpBD,MAAAA,GAAG,CAACE,MAAJ,CAAW,oBAAX;AACD;;;;;;AAEHC,MAAM,CAACC,OAAP,GAAiB,IAAIN,mBAAJ,EAAjB","sourceRoot":"/Users/mac/Desktop/Final_Project_DTU/src/app/controllers/","sourcesContent":["const express = require(\"express\");\r\nconst router = express.Router();\r\n\r\nclass CallVideoController {\r\n  index(req, res, next) {\r\n    res.render(\"user/callVideoView\");\r\n  }\r\n}\r\nmodule.exports = new CallVideoController();\r\n"]}},"mtime":1651628686000},"{\"sourceRoot\":\"/Users/mac/Desktop/Final_Project_DTU/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/mac/Desktop/Final_Project_DTU\",\"filename\":\"/Users/mac/Desktop/Final_Project_DTU/src/routes/inbox.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/mac/Desktop/Final_Project_DTU\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar express = require(\"express\");\n\nvar router = express.Router();\n\nvar multer = require(\"multer\");\n\nvar upload = multer({\n  dest: \"src/public/uploads/\"\n});\n\nvar InboxController = require(\"../app/controllers/InboxController\");\n\nrouter.post(\"/saveMessage\", InboxController.saveMessage);\nrouter.use(\"/:appointmentTitle\", InboxController.displayChat);\nrouter.use(\"/\", InboxController.index);\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluYm94LmpzIl0sIm5hbWVzIjpbImV4cHJlc3MiLCJyZXF1aXJlIiwicm91dGVyIiwiUm91dGVyIiwibXVsdGVyIiwidXBsb2FkIiwiZGVzdCIsIkluYm94Q29udHJvbGxlciIsInBvc3QiLCJzYXZlTWVzc2FnZSIsInVzZSIsImRpc3BsYXlDaGF0IiwiaW5kZXgiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOztBQUFBLElBQUlBLE9BQU8sR0FBR0MsT0FBTyxDQUFDLFNBQUQsQ0FBckI7O0FBQ0EsSUFBSUMsTUFBTSxHQUFHRixPQUFPLENBQUNHLE1BQVIsRUFBYjs7QUFDQSxJQUFJQyxNQUFNLEdBQUdILE9BQU8sQ0FBQyxRQUFELENBQXBCOztBQUNBLElBQU1JLE1BQU0sR0FBR0QsTUFBTSxDQUFDO0FBQ3BCRSxFQUFBQSxJQUFJLEVBQUU7QUFEYyxDQUFELENBQXJCOztBQUlBLElBQU1DLGVBQWUsR0FBR04sT0FBTyxDQUFDLG9DQUFELENBQS9COztBQUNBQyxNQUFNLENBQUNNLElBQVAsQ0FBWSxjQUFaLEVBQTRCRCxlQUFlLENBQUNFLFdBQTVDO0FBQ0FQLE1BQU0sQ0FBQ1EsR0FBUCxDQUFXLG9CQUFYLEVBQWlDSCxlQUFlLENBQUNJLFdBQWpEO0FBQ0FULE1BQU0sQ0FBQ1EsR0FBUCxDQUFXLEdBQVgsRUFBZ0JILGVBQWUsQ0FBQ0ssS0FBaEM7QUFDQUMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCWixNQUFqQiIsInNvdXJjZVJvb3QiOiIvVXNlcnMvbWFjL0Rlc2t0b3AvRmluYWxfUHJvamVjdF9EVFUvc3JjL3JvdXRlcy8iLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZXhwcmVzcyA9IHJlcXVpcmUoXCJleHByZXNzXCIpO1xyXG52YXIgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcclxubGV0IG11bHRlciA9IHJlcXVpcmUoXCJtdWx0ZXJcIik7XHJcbmNvbnN0IHVwbG9hZCA9IG11bHRlcih7XHJcbiAgZGVzdDogXCJzcmMvcHVibGljL3VwbG9hZHMvXCIsXHJcbn0pO1xyXG5cclxuY29uc3QgSW5ib3hDb250cm9sbGVyID0gcmVxdWlyZShcIi4uL2FwcC9jb250cm9sbGVycy9JbmJveENvbnRyb2xsZXJcIik7XHJcbnJvdXRlci5wb3N0KFwiL3NhdmVNZXNzYWdlXCIsIEluYm94Q29udHJvbGxlci5zYXZlTWVzc2FnZSk7XHJcbnJvdXRlci51c2UoXCIvOmFwcG9pbnRtZW50VGl0bGVcIiwgSW5ib3hDb250cm9sbGVyLmRpc3BsYXlDaGF0KTtcclxucm91dGVyLnVzZShcIi9cIiwgSW5ib3hDb250cm9sbGVyLmluZGV4KTtcclxubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7XHJcbiJdfQ==","map":{"version":3,"sources":["inbox.js"],"names":["express","require","router","Router","multer","upload","dest","InboxController","post","saveMessage","use","displayChat","index","module","exports"],"mappings":";;AAAA,IAAIA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAArB;;AACA,IAAIC,MAAM,GAAGF,OAAO,CAACG,MAAR,EAAb;;AACA,IAAIC,MAAM,GAAGH,OAAO,CAAC,QAAD,CAApB;;AACA,IAAMI,MAAM,GAAGD,MAAM,CAAC;AACpBE,EAAAA,IAAI,EAAE;AADc,CAAD,CAArB;;AAIA,IAAMC,eAAe,GAAGN,OAAO,CAAC,oCAAD,CAA/B;;AACAC,MAAM,CAACM,IAAP,CAAY,cAAZ,EAA4BD,eAAe,CAACE,WAA5C;AACAP,MAAM,CAACQ,GAAP,CAAW,oBAAX,EAAiCH,eAAe,CAACI,WAAjD;AACAT,MAAM,CAACQ,GAAP,CAAW,GAAX,EAAgBH,eAAe,CAACK,KAAhC;AACAC,MAAM,CAACC,OAAP,GAAiBZ,MAAjB","sourceRoot":"/Users/mac/Desktop/Final_Project_DTU/src/routes/","sourcesContent":["var express = require(\"express\");\r\nvar router = express.Router();\r\nlet multer = require(\"multer\");\r\nconst upload = multer({\r\n  dest: \"src/public/uploads/\",\r\n});\r\n\r\nconst InboxController = require(\"../app/controllers/InboxController\");\r\nrouter.post(\"/saveMessage\", InboxController.saveMessage);\r\nrouter.use(\"/:appointmentTitle\", InboxController.displayChat);\r\nrouter.use(\"/\", InboxController.index);\r\nmodule.exports = router;\r\n"]}},"mtime":1651628686000},"{\"sourceRoot\":\"/Users/mac/Desktop/Final_Project_DTU/src/app/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/mac/Desktop/Final_Project_DTU\",\"filename\":\"/Users/mac/Desktop/Final_Project_DTU/src/app/controllers/InboxController.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/mac/Desktop/Final_Project_DTU\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar _AppoinmentService = require(\"../service/AppoinmentService\");\n\nvar _MessageService = require(\"../service/MessageService\");\n\nvar _UserService = require(\"../service/UserService\");\n\nvar _socketServer = require(\"../../public/script/socketServer\");\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nvar express = require(\"express\");\n\nvar router = express.Router();\nvar app = express();\n\nvar server = require(\"http\").Server(app);\n\nvar io = require(\"socket.io\")(server);\n\nvar _require = require(\"uuid\"),\n    uuidv4 = _require.v4;\n\nvar InboxController = /*#__PURE__*/function () {\n  function InboxController() {\n    _classCallCheck(this, InboxController);\n  }\n\n  _createClass(InboxController, [{\n    key: \"index\",\n    value: function () {\n      var _index = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(req, res, next) {\n        var userID, roleID, getGroupChat, account;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                userID = req.session.userID;\n                roleID = req.session.roleID;\n                _context.next = 4;\n                return (0, _AppoinmentService.getAppointmentsByUserID)(userID, roleID);\n\n              case 4:\n                getGroupChat = _context.sent;\n                account = {\n                  id: req.session.userID,\n                  lastName: req.session.lastName,\n                  firstName: req.session.firstName\n                }; //save id room\n\n                res.render(\"user/inbox-list\", {\n                  appointments: getGroupChat,\n                  account: account\n                });\n\n              case 7:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function index(_x, _x2, _x3) {\n        return _index.apply(this, arguments);\n      }\n\n      return index;\n    }()\n  }, {\n    key: \"saveMessage\",\n    value: function () {\n      var _saveMessage = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(req, res) {\n        var newMessage, getAppointment, notificationInbox;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                req.body.id = uuidv4();\n                req.body.message = req.body.message;\n                _context2.next = 4;\n                return (0, _MessageService.createMessage)(req.body);\n\n              case 4:\n                newMessage = _context2.sent;\n\n                if (!newMessage) {\n                  _context2.next = 14;\n                  break;\n                }\n\n                _context2.next = 8;\n                return (0, _AppoinmentService.getAppointmentById)(newMessage.appointmentID);\n\n              case 8:\n                getAppointment = _context2.sent;\n\n                //send notification\n                if (getAppointment.userID == req.session.userID) {\n                  notificationInbox = {\n                    userID: getAppointment.doctorID,\n                    content: \"Bạn có tin nhắn mới !\"\n                  };\n                } else if (getAppointment.doctorID == req.session.userID) {\n                  notificationInbox = {\n                    userID: getAppointment.userID,\n                    content: \"Bạn có tin nhắn mới !\"\n                  };\n                }\n\n                (0, _socketServer.serverNotification)(io, \"\", notificationInbox);\n                console.log(\"insert success!\");\n                _context2.next = 15;\n                break;\n\n              case 14:\n                console.log(\"insert Error ! \");\n\n              case 15:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      function saveMessage(_x4, _x5) {\n        return _saveMessage.apply(this, arguments);\n      }\n\n      return saveMessage;\n    }()\n  }, {\n    key: \"displayChat\",\n    value: function () {\n      var _displayChat = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(req, res) {\n        var userID, roleID, allRooms, room, result, user, account, appointment, messages;\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                userID = req.session.userID;\n                roleID = req.session.roleID;\n                _context3.next = 4;\n                return (0, _AppoinmentService.getAppointmentsByUserID)(userID, roleID);\n\n              case 4:\n                allRooms = _context3.sent;\n                room = req.params.appointmentTitle;\n                _context3.prev = 6;\n                _context3.next = 9;\n                return (0, _MessageService.getMessageAndAppointmentByAppointmentIDandTile)(room);\n\n              case 9:\n                result = _context3.sent;\n                _context3.next = 12;\n                return (0, _UserService.getUserById)(userID);\n\n              case 12:\n                user = _context3.sent;\n                account = {\n                  id: req.session.userID,\n                  lastName: user.lastName,\n                  firstName: user.firstName,\n                  avatar: user.image,\n                  room: room\n                };\n                appointment = result[0];\n                messages = result[1];\n                res.render(\"user/inbox\", {\n                  account: account,\n                  roomID: appointment.id,\n                  messages: messages,\n                  rooms: allRooms\n                });\n                _context3.next = 22;\n                break;\n\n              case 19:\n                _context3.prev = 19;\n                _context3.t0 = _context3[\"catch\"](6);\n                console.log(_context3.t0);\n\n              case 22:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, null, [[6, 19]]);\n      }));\n\n      function displayChat(_x6, _x7) {\n        return _displayChat.apply(this, arguments);\n      }\n\n      return displayChat;\n    }()\n  }]);\n\n  return InboxController;\n}();\n\nmodule.exports = new InboxController();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkluYm94Q29udHJvbGxlci5qcyJdLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInJvdXRlciIsIlJvdXRlciIsImFwcCIsInNlcnZlciIsIlNlcnZlciIsImlvIiwidXVpZHY0IiwidjQiLCJJbmJveENvbnRyb2xsZXIiLCJyZXEiLCJyZXMiLCJuZXh0IiwidXNlcklEIiwic2Vzc2lvbiIsInJvbGVJRCIsImdldEdyb3VwQ2hhdCIsImFjY291bnQiLCJpZCIsImxhc3ROYW1lIiwiZmlyc3ROYW1lIiwicmVuZGVyIiwiYXBwb2ludG1lbnRzIiwiYm9keSIsIm1lc3NhZ2UiLCJuZXdNZXNzYWdlIiwiYXBwb2ludG1lbnRJRCIsImdldEFwcG9pbnRtZW50Iiwibm90aWZpY2F0aW9uSW5ib3giLCJkb2N0b3JJRCIsImNvbnRlbnQiLCJjb25zb2xlIiwibG9nIiwiYWxsUm9vbXMiLCJyb29tIiwicGFyYW1zIiwiYXBwb2ludG1lbnRUaXRsZSIsInJlc3VsdCIsInVzZXIiLCJhdmF0YXIiLCJpbWFnZSIsImFwcG9pbnRtZW50IiwibWVzc2FnZXMiLCJyb29tSUQiLCJyb29tcyIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7O0FBTUE7O0FBSUE7O0FBSUE7O0FBR0E7Ozs7Ozs7Ozs7OztBQWpCQSxJQUFNQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQyxTQUFELENBQXZCOztBQUNBLElBQU1DLE1BQU0sR0FBR0YsT0FBTyxDQUFDRyxNQUFSLEVBQWY7QUFDQSxJQUFNQyxHQUFHLEdBQUdKLE9BQU8sRUFBbkI7O0FBQ0EsSUFBTUssTUFBTSxHQUFHSixPQUFPLENBQUMsTUFBRCxDQUFQLENBQWdCSyxNQUFoQixDQUF1QkYsR0FBdkIsQ0FBZjs7QUFDQSxJQUFJRyxFQUFFLEdBQUdOLE9BQU8sQ0FBQyxXQUFELENBQVAsQ0FBcUJJLE1BQXJCLENBQVQ7O0FBQ0EsZUFBdUJKLE9BQU8sQ0FBQyxNQUFELENBQTlCO0FBQUEsSUFBWU8sTUFBWixZQUFRQyxFQUFSOztJQWFNQyxlOzs7Ozs7OzsyRUFDSixpQkFBWUMsR0FBWixFQUFpQkMsR0FBakIsRUFBc0JDLElBQXRCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNNQyxnQkFBQUEsTUFETixHQUNlSCxHQUFHLENBQUNJLE9BQUosQ0FBWUQsTUFEM0I7QUFFTUUsZ0JBQUFBLE1BRk4sR0FFZUwsR0FBRyxDQUFDSSxPQUFKLENBQVlDLE1BRjNCO0FBQUE7QUFBQSx1QkFHMkIsZ0RBQXdCRixNQUF4QixFQUFnQ0UsTUFBaEMsQ0FIM0I7O0FBQUE7QUFHTUMsZ0JBQUFBLFlBSE47QUFLTUMsZ0JBQUFBLE9BTE4sR0FLZ0I7QUFDWkMsa0JBQUFBLEVBQUUsRUFBRVIsR0FBRyxDQUFDSSxPQUFKLENBQVlELE1BREo7QUFFWk0sa0JBQUFBLFFBQVEsRUFBRVQsR0FBRyxDQUFDSSxPQUFKLENBQVlLLFFBRlY7QUFHWkMsa0JBQUFBLFNBQVMsRUFBRVYsR0FBRyxDQUFDSSxPQUFKLENBQVlNO0FBSFgsaUJBTGhCLEVBVUU7O0FBRUFULGdCQUFBQSxHQUFHLENBQUNVLE1BQUosQ0FBVyxpQkFBWCxFQUE4QjtBQUM1QkMsa0JBQUFBLFlBQVksRUFBRU4sWUFEYztBQUU1QkMsa0JBQUFBLE9BQU8sRUFBRUE7QUFGbUIsaUJBQTlCOztBQVpGO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLE87Ozs7Ozs7Ozs7O2lGQWlCQSxrQkFBa0JQLEdBQWxCLEVBQXVCQyxHQUF2QjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDRUQsZ0JBQUFBLEdBQUcsQ0FBQ2EsSUFBSixDQUFTTCxFQUFULEdBQWNYLE1BQU0sRUFBcEI7QUFFQUcsZ0JBQUFBLEdBQUcsQ0FBQ2EsSUFBSixDQUFTQyxPQUFULEdBQW1CZCxHQUFHLENBQUNhLElBQUosQ0FBU0MsT0FBNUI7QUFIRjtBQUFBLHVCQUl5QixtQ0FBY2QsR0FBRyxDQUFDYSxJQUFsQixDQUp6Qjs7QUFBQTtBQUlNRSxnQkFBQUEsVUFKTjs7QUFBQSxxQkFLTUEsVUFMTjtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBLHVCQU0rQiwyQ0FBbUJBLFVBQVUsQ0FBQ0MsYUFBOUIsQ0FOL0I7O0FBQUE7QUFNUUMsZ0JBQUFBLGNBTlI7O0FBUUk7QUFDQSxvQkFBSUEsY0FBYyxDQUFDZCxNQUFmLElBQXlCSCxHQUFHLENBQUNJLE9BQUosQ0FBWUQsTUFBekMsRUFBaUQ7QUFDL0NlLGtCQUFBQSxpQkFBaUIsR0FBRztBQUNsQmYsb0JBQUFBLE1BQU0sRUFBRWMsY0FBYyxDQUFDRSxRQURMO0FBRWxCQyxvQkFBQUEsT0FBTyxFQUFFO0FBRlMsbUJBQXBCO0FBSUQsaUJBTEQsTUFLTyxJQUFJSCxjQUFjLENBQUNFLFFBQWYsSUFBMkJuQixHQUFHLENBQUNJLE9BQUosQ0FBWUQsTUFBM0MsRUFBbUQ7QUFDeERlLGtCQUFBQSxpQkFBaUIsR0FBRztBQUNsQmYsb0JBQUFBLE1BQU0sRUFBRWMsY0FBYyxDQUFDZCxNQURMO0FBRWxCaUIsb0JBQUFBLE9BQU8sRUFBRTtBQUZTLG1CQUFwQjtBQUlEOztBQUVELHNEQUFtQnhCLEVBQW5CLEVBQXVCLEVBQXZCLEVBQTJCc0IsaUJBQTNCO0FBQ0FHLGdCQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxpQkFBWjtBQXRCSjtBQUFBOztBQUFBO0FBdUJTRCxnQkFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVksaUJBQVo7O0FBdkJUO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLE87Ozs7Ozs7Ozs7O2lGQTBCQSxrQkFBa0J0QixHQUFsQixFQUF1QkMsR0FBdkI7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ01FLGdCQUFBQSxNQUROLEdBQ2VILEdBQUcsQ0FBQ0ksT0FBSixDQUFZRCxNQUQzQjtBQUVNRSxnQkFBQUEsTUFGTixHQUVlTCxHQUFHLENBQUNJLE9BQUosQ0FBWUMsTUFGM0I7QUFBQTtBQUFBLHVCQUd1QixnREFBd0JGLE1BQXhCLEVBQWdDRSxNQUFoQyxDQUh2Qjs7QUFBQTtBQUdNa0IsZ0JBQUFBLFFBSE47QUFJTUMsZ0JBQUFBLElBSk4sR0FJYXhCLEdBQUcsQ0FBQ3lCLE1BQUosQ0FBV0MsZ0JBSnhCO0FBQUE7QUFBQTtBQUFBLHVCQU11QixvRUFBK0NGLElBQS9DLENBTnZCOztBQUFBO0FBTVFHLGdCQUFBQSxNQU5SO0FBQUE7QUFBQSx1QkFPcUIsOEJBQVl4QixNQUFaLENBUHJCOztBQUFBO0FBT1F5QixnQkFBQUEsSUFQUjtBQVFRckIsZ0JBQUFBLE9BUlIsR0FRa0I7QUFDWkMsa0JBQUFBLEVBQUUsRUFBRVIsR0FBRyxDQUFDSSxPQUFKLENBQVlELE1BREo7QUFFWk0sa0JBQUFBLFFBQVEsRUFBRW1CLElBQUksQ0FBQ25CLFFBRkg7QUFHWkMsa0JBQUFBLFNBQVMsRUFBRWtCLElBQUksQ0FBQ2xCLFNBSEo7QUFJWm1CLGtCQUFBQSxNQUFNLEVBQUVELElBQUksQ0FBQ0UsS0FKRDtBQUtaTixrQkFBQUEsSUFBSSxFQUFFQTtBQUxNLGlCQVJsQjtBQWdCVU8sZ0JBQUFBLFdBaEJWLEdBZ0J3QkosTUFBTSxDQUFDLENBQUQsQ0FoQjlCO0FBaUJVSyxnQkFBQUEsUUFqQlYsR0FpQnFCTCxNQUFNLENBQUMsQ0FBRCxDQWpCM0I7QUFtQkkxQixnQkFBQUEsR0FBRyxDQUFDVSxNQUFKLENBQVcsWUFBWCxFQUF5QjtBQUN2Qkosa0JBQUFBLE9BQU8sRUFBRUEsT0FEYztBQUV2QjBCLGtCQUFBQSxNQUFNLEVBQUVGLFdBQVcsQ0FBQ3ZCLEVBRkc7QUFHdkJ3QixrQkFBQUEsUUFBUSxFQUFFQSxRQUhhO0FBSXZCRSxrQkFBQUEsS0FBSyxFQUFFWDtBQUpnQixpQkFBekI7QUFuQko7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUEwQklGLGdCQUFBQSxPQUFPLENBQUNDLEdBQVI7O0FBMUJKO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLE87Ozs7Ozs7Ozs7Ozs7QUE4QkZhLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQixJQUFJckMsZUFBSixFQUFqQiIsInNvdXJjZVJvb3QiOiIvVXNlcnMvbWFjL0Rlc2t0b3AvRmluYWxfUHJvamVjdF9EVFUvc3JjL2FwcC9jb250cm9sbGVycy8iLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBleHByZXNzID0gcmVxdWlyZShcImV4cHJlc3NcIik7XHJcbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XHJcbmNvbnN0IGFwcCA9IGV4cHJlc3MoKTtcclxuY29uc3Qgc2VydmVyID0gcmVxdWlyZShcImh0dHBcIikuU2VydmVyKGFwcCk7XHJcbnZhciBpbyA9IHJlcXVpcmUoXCJzb2NrZXQuaW9cIikoc2VydmVyKTtcclxuY29uc3QgeyB2NDogdXVpZHY0IH0gPSByZXF1aXJlKFwidXVpZFwiKTtcclxuaW1wb3J0IHtcclxuICBnZXRBcHBvaW50bWVudHNCeVVzZXJJRCxcclxuICBnZXRBcHBvaW50bWVudHNCeVRpdGxlLFxyXG59IGZyb20gXCIuLi9zZXJ2aWNlL0FwcG9pbm1lbnRTZXJ2aWNlXCI7XHJcbmltcG9ydCB7XHJcbiAgY3JlYXRlTWVzc2FnZSxcclxuICBnZXRNZXNzYWdlQW5kQXBwb2ludG1lbnRCeUFwcG9pbnRtZW50SURhbmRUaWxlLFxyXG59IGZyb20gXCIuLi9zZXJ2aWNlL01lc3NhZ2VTZXJ2aWNlXCI7XHJcbmltcG9ydCB7IGdldFVzZXJCeUlkIH0gZnJvbSBcIi4uL3NlcnZpY2UvVXNlclNlcnZpY2VcIjtcclxuXHJcbmltcG9ydCB7IGdldEFwcG9pbnRtZW50QnlJZCB9IGZyb20gXCIuLi9zZXJ2aWNlL0FwcG9pbm1lbnRTZXJ2aWNlXCI7XHJcbmltcG9ydCB7IHNlcnZlck5vdGlmaWNhdGlvbiB9IGZyb20gXCIuLi8uLi9wdWJsaWMvc2NyaXB0L3NvY2tldFNlcnZlclwiO1xyXG5jbGFzcyBJbmJveENvbnRyb2xsZXIge1xyXG4gIGFzeW5jIGluZGV4KHJlcSwgcmVzLCBuZXh0KSB7XHJcbiAgICBsZXQgdXNlcklEID0gcmVxLnNlc3Npb24udXNlcklEO1xyXG4gICAgbGV0IHJvbGVJRCA9IHJlcS5zZXNzaW9uLnJvbGVJRDtcclxuICAgIGxldCBnZXRHcm91cENoYXQgPSBhd2FpdCBnZXRBcHBvaW50bWVudHNCeVVzZXJJRCh1c2VySUQsIHJvbGVJRCk7XHJcblxyXG4gICAgbGV0IGFjY291bnQgPSB7XHJcbiAgICAgIGlkOiByZXEuc2Vzc2lvbi51c2VySUQsXHJcbiAgICAgIGxhc3ROYW1lOiByZXEuc2Vzc2lvbi5sYXN0TmFtZSxcclxuICAgICAgZmlyc3ROYW1lOiByZXEuc2Vzc2lvbi5maXJzdE5hbWUsXHJcbiAgICB9O1xyXG4gICAgLy9zYXZlIGlkIHJvb21cclxuXHJcbiAgICByZXMucmVuZGVyKFwidXNlci9pbmJveC1saXN0XCIsIHtcclxuICAgICAgYXBwb2ludG1lbnRzOiBnZXRHcm91cENoYXQsXHJcbiAgICAgIGFjY291bnQ6IGFjY291bnQsXHJcbiAgICB9KTtcclxuICB9XHJcbiAgYXN5bmMgc2F2ZU1lc3NhZ2UocmVxLCByZXMpIHtcclxuICAgIHJlcS5ib2R5LmlkID0gdXVpZHY0KCk7XHJcblxyXG4gICAgcmVxLmJvZHkubWVzc2FnZSA9IHJlcS5ib2R5Lm1lc3NhZ2U7XHJcbiAgICBsZXQgbmV3TWVzc2FnZSA9IGF3YWl0IGNyZWF0ZU1lc3NhZ2UocmVxLmJvZHkpO1xyXG4gICAgaWYgKG5ld01lc3NhZ2UpIHtcclxuICAgICAgbGV0IGdldEFwcG9pbnRtZW50ID0gYXdhaXQgZ2V0QXBwb2ludG1lbnRCeUlkKG5ld01lc3NhZ2UuYXBwb2ludG1lbnRJRCk7XHJcbiAgICAgIGxldCBub3RpZmljYXRpb25JbmJveDtcclxuICAgICAgLy9zZW5kIG5vdGlmaWNhdGlvblxyXG4gICAgICBpZiAoZ2V0QXBwb2ludG1lbnQudXNlcklEID09IHJlcS5zZXNzaW9uLnVzZXJJRCkge1xyXG4gICAgICAgIG5vdGlmaWNhdGlvbkluYm94ID0ge1xyXG4gICAgICAgICAgdXNlcklEOiBnZXRBcHBvaW50bWVudC5kb2N0b3JJRCxcclxuICAgICAgICAgIGNvbnRlbnQ6IFwiQuG6oW4gY8OzIHRpbiBuaOG6r24gbeG7m2kgIVwiLFxyXG4gICAgICAgIH07XHJcbiAgICAgIH0gZWxzZSBpZiAoZ2V0QXBwb2ludG1lbnQuZG9jdG9ySUQgPT0gcmVxLnNlc3Npb24udXNlcklEKSB7XHJcbiAgICAgICAgbm90aWZpY2F0aW9uSW5ib3ggPSB7XHJcbiAgICAgICAgICB1c2VySUQ6IGdldEFwcG9pbnRtZW50LnVzZXJJRCxcclxuICAgICAgICAgIGNvbnRlbnQ6IFwiQuG6oW4gY8OzIHRpbiBuaOG6r24gbeG7m2kgIVwiLFxyXG4gICAgICAgIH07XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHNlcnZlck5vdGlmaWNhdGlvbihpbywgXCJcIiwgbm90aWZpY2F0aW9uSW5ib3gpO1xyXG4gICAgICBjb25zb2xlLmxvZyhcImluc2VydCBzdWNjZXNzIVwiKTtcclxuICAgIH0gZWxzZSBjb25zb2xlLmxvZyhcImluc2VydCBFcnJvciAhIFwiKTtcclxuICB9XHJcblxyXG4gIGFzeW5jIGRpc3BsYXlDaGF0KHJlcSwgcmVzKSB7XHJcbiAgICBsZXQgdXNlcklEID0gcmVxLnNlc3Npb24udXNlcklEO1xyXG4gICAgbGV0IHJvbGVJRCA9IHJlcS5zZXNzaW9uLnJvbGVJRDtcclxuICAgIGxldCBhbGxSb29tcyA9IGF3YWl0IGdldEFwcG9pbnRtZW50c0J5VXNlcklEKHVzZXJJRCwgcm9sZUlEKTtcclxuICAgIGxldCByb29tID0gcmVxLnBhcmFtcy5hcHBvaW50bWVudFRpdGxlO1xyXG4gICAgdHJ5IHtcclxuICAgICAgbGV0IHJlc3VsdCA9IGF3YWl0IGdldE1lc3NhZ2VBbmRBcHBvaW50bWVudEJ5QXBwb2ludG1lbnRJRGFuZFRpbGUocm9vbSk7XHJcbiAgICAgIGxldCB1c2VyID0gYXdhaXQgZ2V0VXNlckJ5SWQodXNlcklEKTtcclxuICAgICAgbGV0IGFjY291bnQgPSB7XHJcbiAgICAgICAgaWQ6IHJlcS5zZXNzaW9uLnVzZXJJRCxcclxuICAgICAgICBsYXN0TmFtZTogdXNlci5sYXN0TmFtZSxcclxuICAgICAgICBmaXJzdE5hbWU6IHVzZXIuZmlyc3ROYW1lLFxyXG4gICAgICAgIGF2YXRhcjogdXNlci5pbWFnZSxcclxuICAgICAgICByb29tOiByb29tLFxyXG4gICAgICB9O1xyXG5cclxuICAgICAgY29uc3QgYXBwb2ludG1lbnQgPSByZXN1bHRbMF07XHJcbiAgICAgIGNvbnN0IG1lc3NhZ2VzID0gcmVzdWx0WzFdO1xyXG5cclxuICAgICAgcmVzLnJlbmRlcihcInVzZXIvaW5ib3hcIiwge1xyXG4gICAgICAgIGFjY291bnQ6IGFjY291bnQsXHJcbiAgICAgICAgcm9vbUlEOiBhcHBvaW50bWVudC5pZCxcclxuICAgICAgICBtZXNzYWdlczogbWVzc2FnZXMsXHJcbiAgICAgICAgcm9vbXM6IGFsbFJvb21zLFxyXG4gICAgICB9KTtcclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbm1vZHVsZS5leHBvcnRzID0gbmV3IEluYm94Q29udHJvbGxlcigpO1xyXG4iXX0=","map":{"version":3,"sources":["InboxController.js"],"names":["express","require","router","Router","app","server","Server","io","uuidv4","v4","InboxController","req","res","next","userID","session","roleID","getGroupChat","account","id","lastName","firstName","render","appointments","body","message","newMessage","appointmentID","getAppointment","notificationInbox","doctorID","content","console","log","allRooms","room","params","appointmentTitle","result","user","avatar","image","appointment","messages","roomID","rooms","module","exports"],"mappings":"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","sourceRoot":"/Users/mac/Desktop/Final_Project_DTU/src/app/controllers/","sourcesContent":["const express = require(\"express\");\r\nconst router = express.Router();\r\nconst app = express();\r\nconst server = require(\"http\").Server(app);\r\nvar io = require(\"socket.io\")(server);\r\nconst { v4: uuidv4 } = require(\"uuid\");\r\nimport {\r\n  getAppointmentsByUserID,\r\n  getAppointmentsByTitle,\r\n} from \"../service/AppoinmentService\";\r\nimport {\r\n  createMessage,\r\n  getMessageAndAppointmentByAppointmentIDandTile,\r\n} from \"../service/MessageService\";\r\nimport { getUserById } from \"../service/UserService\";\r\n\r\nimport { getAppointmentById } from \"../service/AppoinmentService\";\r\nimport { serverNotification } from \"../../public/script/socketServer\";\r\nclass InboxController {\r\n  async index(req, res, next) {\r\n    let userID = req.session.userID;\r\n    let roleID = req.session.roleID;\r\n    let getGroupChat = await getAppointmentsByUserID(userID, roleID);\r\n\r\n    let account = {\r\n      id: req.session.userID,\r\n      lastName: req.session.lastName,\r\n      firstName: req.session.firstName,\r\n    };\r\n    //save id room\r\n\r\n    res.render(\"user/inbox-list\", {\r\n      appointments: getGroupChat,\r\n      account: account,\r\n    });\r\n  }\r\n  async saveMessage(req, res) {\r\n    req.body.id = uuidv4();\r\n\r\n    req.body.message = req.body.message;\r\n    let newMessage = await createMessage(req.body);\r\n    if (newMessage) {\r\n      let getAppointment = await getAppointmentById(newMessage.appointmentID);\r\n      let notificationInbox;\r\n      //send notification\r\n      if (getAppointment.userID == req.session.userID) {\r\n        notificationInbox = {\r\n          userID: getAppointment.doctorID,\r\n          content: \"Bạn có tin nhắn mới !\",\r\n        };\r\n      } else if (getAppointment.doctorID == req.session.userID) {\r\n        notificationInbox = {\r\n          userID: getAppointment.userID,\r\n          content: \"Bạn có tin nhắn mới !\",\r\n        };\r\n      }\r\n\r\n      serverNotification(io, \"\", notificationInbox);\r\n      console.log(\"insert success!\");\r\n    } else console.log(\"insert Error ! \");\r\n  }\r\n\r\n  async displayChat(req, res) {\r\n    let userID = req.session.userID;\r\n    let roleID = req.session.roleID;\r\n    let allRooms = await getAppointmentsByUserID(userID, roleID);\r\n    let room = req.params.appointmentTitle;\r\n    try {\r\n      let result = await getMessageAndAppointmentByAppointmentIDandTile(room);\r\n      let user = await getUserById(userID);\r\n      let account = {\r\n        id: req.session.userID,\r\n        lastName: user.lastName,\r\n        firstName: user.firstName,\r\n        avatar: user.image,\r\n        room: room,\r\n      };\r\n\r\n      const appointment = result[0];\r\n      const messages = result[1];\r\n\r\n      res.render(\"user/inbox\", {\r\n        account: account,\r\n        roomID: appointment.id,\r\n        messages: messages,\r\n        rooms: allRooms,\r\n      });\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  }\r\n}\r\nmodule.exports = new InboxController();\r\n"]}},"mtime":1651628686000},"{\"sourceRoot\":\"/Users/mac/Desktop/Final_Project_DTU/src/app/service/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/mac/Desktop/Final_Project_DTU\",\"filename\":\"/Users/mac/Desktop/Final_Project_DTU/src/app/service/MessageService.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/mac/Desktop/Final_Project_DTU\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar db = require(\"../models/index\");\n\nvar getMessageAndAppointmentByAppointmentIDandTile = function getMessageAndAppointmentByAppointmentIDandTile(title) {\n  return new Promise( /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(resolve, reject) {\n      var appointment, messages, arrayMessage, returnName;\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return db.Appointment.findOne({\n                where: {\n                  title: title\n                },\n                raw: true\n              });\n\n            case 3:\n              appointment = _context2.sent;\n              _context2.next = 6;\n              return db.Message.findAll({\n                where: {\n                  appointmentID: appointment.id\n                },\n                order: [[\"createdAt\", \"ASC\"]],\n                raw: true\n              });\n\n            case 6:\n              messages = _context2.sent;\n              arrayMessage = messages;\n\n              returnName = /*#__PURE__*/function () {\n                var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n                  var _iterator, _step, e, user;\n\n                  return regeneratorRuntime.wrap(function _callee$(_context) {\n                    while (1) {\n                      switch (_context.prev = _context.next) {\n                        case 0:\n                          _iterator = _createForOfIteratorHelper(arrayMessage);\n                          _context.prev = 1;\n\n                          _iterator.s();\n\n                        case 3:\n                          if ((_step = _iterator.n()).done) {\n                            _context.next = 11;\n                            break;\n                          }\n\n                          e = _step.value;\n                          _context.next = 7;\n                          return db.User.findOne({\n                            where: {\n                              id: e.userID\n                            },\n                            raw: true\n                          });\n\n                        case 7:\n                          user = _context.sent;\n                          e.userName = user.firstName + \" \" + user.lastName;\n\n                        case 9:\n                          _context.next = 3;\n                          break;\n\n                        case 11:\n                          _context.next = 16;\n                          break;\n\n                        case 13:\n                          _context.prev = 13;\n                          _context.t0 = _context[\"catch\"](1);\n\n                          _iterator.e(_context.t0);\n\n                        case 16:\n                          _context.prev = 16;\n\n                          _iterator.f();\n\n                          return _context.finish(16);\n\n                        case 19:\n                          if (appointment) {\n                            resolve([appointment, arrayMessage]);\n                          } else {\n                            resolve([]);\n                          }\n\n                        case 20:\n                        case \"end\":\n                          return _context.stop();\n                      }\n                    }\n                  }, _callee, null, [[1, 13, 16, 19]]);\n                }));\n\n                return function returnName() {\n                  return _ref2.apply(this, arguments);\n                };\n              }();\n\n              returnName();\n              _context2.next = 15;\n              break;\n\n            case 12:\n              _context2.prev = 12;\n              _context2.t0 = _context2[\"catch\"](0);\n              reject(_context2.t0);\n\n            case 15:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[0, 12]]);\n    }));\n\n    return function (_x, _x2) {\n      return _ref.apply(this, arguments);\n    };\n  }());\n};\n\nvar createMessage = function createMessage(data) {\n  return new Promise( /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(resolve, reject) {\n      var newMessage;\n      return regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.prev = 0;\n              _context3.next = 3;\n              return db.Message.create({\n                id: data.id,\n                appointmentID: data.roomID,\n                message: data.message,\n                userID: data.senderID\n              });\n\n            case 3:\n              newMessage = _context3.sent;\n              resolve(newMessage);\n              _context3.next = 10;\n              break;\n\n            case 7:\n              _context3.prev = 7;\n              _context3.t0 = _context3[\"catch\"](0);\n              reject(_context3.t0);\n\n            case 10:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, null, [[0, 7]]);\n    }));\n\n    return function (_x3, _x4) {\n      return _ref3.apply(this, arguments);\n    };\n  }());\n};\n\nmodule.exports = {\n  createMessage: createMessage,\n  getMessageAndAppointmentByAppointmentIDandTile: getMessageAndAppointmentByAppointmentIDandTile\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIk1lc3NhZ2VTZXJ2aWNlLmpzIl0sIm5hbWVzIjpbImRiIiwicmVxdWlyZSIsImdldE1lc3NhZ2VBbmRBcHBvaW50bWVudEJ5QXBwb2ludG1lbnRJRGFuZFRpbGUiLCJ0aXRsZSIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiQXBwb2ludG1lbnQiLCJmaW5kT25lIiwid2hlcmUiLCJyYXciLCJhcHBvaW50bWVudCIsIk1lc3NhZ2UiLCJmaW5kQWxsIiwiYXBwb2ludG1lbnRJRCIsImlkIiwib3JkZXIiLCJtZXNzYWdlcyIsImFycmF5TWVzc2FnZSIsInJldHVybk5hbWUiLCJlIiwiVXNlciIsInVzZXJJRCIsInVzZXIiLCJ1c2VyTmFtZSIsImZpcnN0TmFtZSIsImxhc3ROYW1lIiwiY3JlYXRlTWVzc2FnZSIsImRhdGEiLCJjcmVhdGUiLCJyb29tSUQiLCJtZXNzYWdlIiwic2VuZGVySUQiLCJuZXdNZXNzYWdlIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQUEsSUFBTUEsRUFBRSxHQUFHQyxPQUFPLENBQUMsaUJBQUQsQ0FBbEI7O0FBRUEsSUFBSUMsOENBQThDLEdBQUcsU0FBakRBLDhDQUFpRCxDQUFDQyxLQUFELEVBQVc7QUFDOUQsU0FBTyxJQUFJQyxPQUFKO0FBQUEsdUVBQVksa0JBQU9DLE9BQVAsRUFBZ0JDLE1BQWhCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxxQkFFU04sRUFBRSxDQUFDTyxXQUFILENBQWVDLE9BQWYsQ0FBdUI7QUFDN0NDLGdCQUFBQSxLQUFLLEVBQUU7QUFBRU4sa0JBQUFBLEtBQUssRUFBRUE7QUFBVCxpQkFEc0M7QUFFN0NPLGdCQUFBQSxHQUFHLEVBQUU7QUFGd0MsZUFBdkIsQ0FGVDs7QUFBQTtBQUVYQyxjQUFBQSxXQUZXO0FBQUE7QUFBQSxxQkFPTVgsRUFBRSxDQUFDWSxPQUFILENBQVdDLE9BQVgsQ0FBbUI7QUFDdENKLGdCQUFBQSxLQUFLLEVBQUU7QUFBRUssa0JBQUFBLGFBQWEsRUFBRUgsV0FBVyxDQUFDSTtBQUE3QixpQkFEK0I7QUFFdENDLGdCQUFBQSxLQUFLLEVBQUUsQ0FBQyxDQUFDLFdBQUQsRUFBYyxLQUFkLENBQUQsQ0FGK0I7QUFHdENOLGdCQUFBQSxHQUFHLEVBQUU7QUFIaUMsZUFBbkIsQ0FQTjs7QUFBQTtBQU9YTyxjQUFBQSxRQVBXO0FBWVhDLGNBQUFBLFlBWlcsR0FZSUQsUUFaSjs7QUFhWEUsY0FBQUEsVUFiVztBQUFBLG9GQWFFO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxpRUFDREQsWUFEQztBQUFBOztBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQ05FLDBCQUFBQSxDQURNO0FBQUE7QUFBQSxpQ0FFSXBCLEVBQUUsQ0FBQ3FCLElBQUgsQ0FBUWIsT0FBUixDQUFnQjtBQUMvQkMsNEJBQUFBLEtBQUssRUFBRTtBQUFFTSw4QkFBQUEsRUFBRSxFQUFFSyxDQUFDLENBQUNFO0FBQVIsNkJBRHdCO0FBRS9CWiw0QkFBQUEsR0FBRyxFQUFFO0FBRjBCLDJCQUFoQixDQUZKOztBQUFBO0FBRVRhLDBCQUFBQSxJQUZTO0FBTWJILDBCQUFBQSxDQUFDLENBQUNJLFFBQUYsR0FBYUQsSUFBSSxDQUFDRSxTQUFMLEdBQWlCLEdBQWpCLEdBQXVCRixJQUFJLENBQUNHLFFBQXpDOztBQU5hO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBOztBQUFBOztBQUFBO0FBQUE7O0FBQUE7O0FBQUE7O0FBQUE7QUFTZiw4QkFBSWYsV0FBSixFQUFpQjtBQUNmTiw0QkFBQUEsT0FBTyxDQUFDLENBQUNNLFdBQUQsRUFBY08sWUFBZCxDQUFELENBQVA7QUFDRCwyQkFGRCxNQUVPO0FBQ0xiLDRCQUFBQSxPQUFPLENBQUMsRUFBRCxDQUFQO0FBQ0Q7O0FBYmM7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsaUJBYkY7O0FBQUEsZ0NBYVhjLFVBYlc7QUFBQTtBQUFBO0FBQUE7O0FBNkJmQSxjQUFBQSxVQUFVO0FBN0JLO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBK0JmYixjQUFBQSxNQUFNLGNBQU47O0FBL0JlO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEtBQVo7O0FBQUE7QUFBQTtBQUFBO0FBQUEsTUFBUDtBQWtDRCxDQW5DRDs7QUFxQ0EsSUFBSXFCLGFBQWEsR0FBRyxTQUFoQkEsYUFBZ0IsQ0FBQ0MsSUFBRCxFQUFVO0FBQzVCLFNBQU8sSUFBSXhCLE9BQUo7QUFBQSx3RUFBWSxrQkFBT0MsT0FBUCxFQUFnQkMsTUFBaEI7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLHFCQUVRTixFQUFFLENBQUNZLE9BQUgsQ0FBV2lCLE1BQVgsQ0FBa0I7QUFDdkNkLGdCQUFBQSxFQUFFLEVBQUVhLElBQUksQ0FBQ2IsRUFEOEI7QUFFdkNELGdCQUFBQSxhQUFhLEVBQUVjLElBQUksQ0FBQ0UsTUFGbUI7QUFHdkNDLGdCQUFBQSxPQUFPLEVBQUVILElBQUksQ0FBQ0csT0FIeUI7QUFJdkNULGdCQUFBQSxNQUFNLEVBQUVNLElBQUksQ0FBQ0k7QUFKMEIsZUFBbEIsQ0FGUjs7QUFBQTtBQUVYQyxjQUFBQSxVQUZXO0FBU2Y1QixjQUFBQSxPQUFPLENBQUM0QixVQUFELENBQVA7QUFUZTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQVdmM0IsY0FBQUEsTUFBTSxjQUFOOztBQVhlO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEtBQVo7O0FBQUE7QUFBQTtBQUFBO0FBQUEsTUFBUDtBQWNELENBZkQ7O0FBaUJBNEIsTUFBTSxDQUFDQyxPQUFQLEdBQWlCO0FBQ2ZSLEVBQUFBLGFBQWEsRUFBRUEsYUFEQTtBQUVmekIsRUFBQUEsOENBQThDLEVBQTlDQTtBQUZlLENBQWpCIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9tYWMvRGVza3RvcC9GaW5hbF9Qcm9qZWN0X0RUVS9zcmMvYXBwL3NlcnZpY2UvIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZGIgPSByZXF1aXJlKFwiLi4vbW9kZWxzL2luZGV4XCIpO1xyXG5cclxubGV0IGdldE1lc3NhZ2VBbmRBcHBvaW50bWVudEJ5QXBwb2ludG1lbnRJRGFuZFRpbGUgPSAodGl0bGUpID0+IHtcclxuICByZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgbGV0IGFwcG9pbnRtZW50ID0gYXdhaXQgZGIuQXBwb2ludG1lbnQuZmluZE9uZSh7XHJcbiAgICAgICAgd2hlcmU6IHsgdGl0bGU6IHRpdGxlIH0sXHJcbiAgICAgICAgcmF3OiB0cnVlLFxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGxldCBtZXNzYWdlcyA9IGF3YWl0IGRiLk1lc3NhZ2UuZmluZEFsbCh7XHJcbiAgICAgICAgd2hlcmU6IHsgYXBwb2ludG1lbnRJRDogYXBwb2ludG1lbnQuaWQgfSxcclxuICAgICAgICBvcmRlcjogW1tcImNyZWF0ZWRBdFwiLCBcIkFTQ1wiXV0sXHJcbiAgICAgICAgcmF3OiB0cnVlLFxyXG4gICAgICB9KTtcclxuICAgICAgbGV0IGFycmF5TWVzc2FnZSA9IG1lc3NhZ2VzO1xyXG4gICAgICBsZXQgcmV0dXJuTmFtZSA9IGFzeW5jICgpID0+IHtcclxuICAgICAgICBmb3IgKGxldCBlIG9mIGFycmF5TWVzc2FnZSkge1xyXG4gICAgICAgICAgbGV0IHVzZXIgPSBhd2FpdCBkYi5Vc2VyLmZpbmRPbmUoe1xyXG4gICAgICAgICAgICB3aGVyZTogeyBpZDogZS51c2VySUQgfSxcclxuICAgICAgICAgICAgcmF3OiB0cnVlLFxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICBlLnVzZXJOYW1lID0gdXNlci5maXJzdE5hbWUgKyBcIiBcIiArIHVzZXIubGFzdE5hbWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoYXBwb2ludG1lbnQpIHtcclxuICAgICAgICAgIHJlc29sdmUoW2FwcG9pbnRtZW50LCBhcnJheU1lc3NhZ2VdKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgcmVzb2x2ZShbXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG5cclxuICAgICAgcmV0dXJuTmFtZSgpO1xyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICByZWplY3QoZSk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn07XHJcblxyXG5sZXQgY3JlYXRlTWVzc2FnZSA9IChkYXRhKSA9PiB7XHJcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGxldCBuZXdNZXNzYWdlID0gYXdhaXQgZGIuTWVzc2FnZS5jcmVhdGUoe1xyXG4gICAgICAgIGlkOiBkYXRhLmlkLFxyXG4gICAgICAgIGFwcG9pbnRtZW50SUQ6IGRhdGEucm9vbUlELFxyXG4gICAgICAgIG1lc3NhZ2U6IGRhdGEubWVzc2FnZSxcclxuICAgICAgICB1c2VySUQ6IGRhdGEuc2VuZGVySUQsXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgcmVzb2x2ZShuZXdNZXNzYWdlKTtcclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgcmVqZWN0KGUpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59O1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgY3JlYXRlTWVzc2FnZTogY3JlYXRlTWVzc2FnZSxcclxuICBnZXRNZXNzYWdlQW5kQXBwb2ludG1lbnRCeUFwcG9pbnRtZW50SURhbmRUaWxlLFxyXG59O1xyXG4iXX0=","map":{"version":3,"sources":["MessageService.js"],"names":["db","require","getMessageAndAppointmentByAppointmentIDandTile","title","Promise","resolve","reject","Appointment","findOne","where","raw","appointment","Message","findAll","appointmentID","id","order","messages","arrayMessage","returnName","e","User","userID","user","userName","firstName","lastName","createMessage","data","create","roomID","message","senderID","newMessage","module","exports"],"mappings":"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","sourceRoot":"/Users/mac/Desktop/Final_Project_DTU/src/app/service/","sourcesContent":["const db = require(\"../models/index\");\r\n\r\nlet getMessageAndAppointmentByAppointmentIDandTile = (title) => {\r\n  return new Promise(async (resolve, reject) => {\r\n    try {\r\n      let appointment = await db.Appointment.findOne({\r\n        where: { title: title },\r\n        raw: true,\r\n      });\r\n\r\n      let messages = await db.Message.findAll({\r\n        where: { appointmentID: appointment.id },\r\n        order: [[\"createdAt\", \"ASC\"]],\r\n        raw: true,\r\n      });\r\n      let arrayMessage = messages;\r\n      let returnName = async () => {\r\n        for (let e of arrayMessage) {\r\n          let user = await db.User.findOne({\r\n            where: { id: e.userID },\r\n            raw: true,\r\n          });\r\n          e.userName = user.firstName + \" \" + user.lastName;\r\n        }\r\n\r\n        if (appointment) {\r\n          resolve([appointment, arrayMessage]);\r\n        } else {\r\n          resolve([]);\r\n        }\r\n      };\r\n\r\n      returnName();\r\n    } catch (e) {\r\n      reject(e);\r\n    }\r\n  });\r\n};\r\n\r\nlet createMessage = (data) => {\r\n  return new Promise(async (resolve, reject) => {\r\n    try {\r\n      let newMessage = await db.Message.create({\r\n        id: data.id,\r\n        appointmentID: data.roomID,\r\n        message: data.message,\r\n        userID: data.senderID,\r\n      });\r\n\r\n      resolve(newMessage);\r\n    } catch (e) {\r\n      reject(e);\r\n    }\r\n  });\r\n};\r\n\r\nmodule.exports = {\r\n  createMessage: createMessage,\r\n  getMessageAndAppointmentByAppointmentIDandTile,\r\n};\r\n"]}},"mtime":1651628686000},"{\"sourceRoot\":\"/Users/mac/Desktop/Final_Project_DTU/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/mac/Desktop/Final_Project_DTU\",\"filename\":\"/Users/mac/Desktop/Final_Project_DTU/src/routes/payment.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/mac/Desktop/Final_Project_DTU\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar express = require('express');\n\nvar router = express.Router();\n\nvar multer = require('multer');\n\nvar upload = multer({\n  dest: 'src/public/uploads/'\n});\n\nvar PaymentController = require('../app/controllers/PaymentController');\n\nrouter.post('/pay', PaymentController.createNewPayment);\nrouter.get('/success', PaymentController.executePayment);\nrouter.use('/', PaymentController.index);\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBheW1lbnQuanMiXSwibmFtZXMiOlsiZXhwcmVzcyIsInJlcXVpcmUiLCJyb3V0ZXIiLCJSb3V0ZXIiLCJtdWx0ZXIiLCJ1cGxvYWQiLCJkZXN0IiwiUGF5bWVudENvbnRyb2xsZXIiLCJwb3N0IiwiY3JlYXRlTmV3UGF5bWVudCIsImdldCIsImV4ZWN1dGVQYXltZW50IiwidXNlIiwiaW5kZXgiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOztBQUFBLElBQUlBLE9BQU8sR0FBR0MsT0FBTyxDQUFDLFNBQUQsQ0FBckI7O0FBQ0EsSUFBSUMsTUFBTSxHQUFHRixPQUFPLENBQUNHLE1BQVIsRUFBYjs7QUFDQSxJQUFJQyxNQUFNLEdBQUdILE9BQU8sQ0FBQyxRQUFELENBQXBCOztBQUNBLElBQU1JLE1BQU0sR0FBR0QsTUFBTSxDQUFDO0FBQ3BCRSxFQUFBQSxJQUFJLEVBQUU7QUFEYyxDQUFELENBQXJCOztBQUlBLElBQU1DLGlCQUFpQixHQUFHTixPQUFPLENBQUMsc0NBQUQsQ0FBakM7O0FBRUFDLE1BQU0sQ0FBQ00sSUFBUCxDQUFZLE1BQVosRUFBb0JELGlCQUFpQixDQUFDRSxnQkFBdEM7QUFDQVAsTUFBTSxDQUFDUSxHQUFQLENBQVcsVUFBWCxFQUF1QkgsaUJBQWlCLENBQUNJLGNBQXpDO0FBQ0FULE1BQU0sQ0FBQ1UsR0FBUCxDQUFXLEdBQVgsRUFBZ0JMLGlCQUFpQixDQUFDTSxLQUFsQztBQUVBQyxNQUFNLENBQUNDLE9BQVAsR0FBaUJiLE1BQWpCIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9tYWMvRGVza3RvcC9GaW5hbF9Qcm9qZWN0X0RUVS9zcmMvcm91dGVzLyIsInNvdXJjZXNDb250ZW50IjpbInZhciBleHByZXNzID0gcmVxdWlyZSgnZXhwcmVzcycpO1xyXG52YXIgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcclxubGV0IG11bHRlciA9IHJlcXVpcmUoJ211bHRlcicpO1xyXG5jb25zdCB1cGxvYWQgPSBtdWx0ZXIoe1xyXG4gIGRlc3Q6ICdzcmMvcHVibGljL3VwbG9hZHMvJyxcclxufSk7XHJcblxyXG5jb25zdCBQYXltZW50Q29udHJvbGxlciA9IHJlcXVpcmUoJy4uL2FwcC9jb250cm9sbGVycy9QYXltZW50Q29udHJvbGxlcicpO1xyXG5cclxucm91dGVyLnBvc3QoJy9wYXknLCBQYXltZW50Q29udHJvbGxlci5jcmVhdGVOZXdQYXltZW50KTtcclxucm91dGVyLmdldCgnL3N1Y2Nlc3MnLCBQYXltZW50Q29udHJvbGxlci5leGVjdXRlUGF5bWVudCk7XHJcbnJvdXRlci51c2UoJy8nLCBQYXltZW50Q29udHJvbGxlci5pbmRleCk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHJvdXRlcjtcclxuIl19","map":{"version":3,"sources":["payment.js"],"names":["express","require","router","Router","multer","upload","dest","PaymentController","post","createNewPayment","get","executePayment","use","index","module","exports"],"mappings":";;AAAA,IAAIA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAArB;;AACA,IAAIC,MAAM,GAAGF,OAAO,CAACG,MAAR,EAAb;;AACA,IAAIC,MAAM,GAAGH,OAAO,CAAC,QAAD,CAApB;;AACA,IAAMI,MAAM,GAAGD,MAAM,CAAC;AACpBE,EAAAA,IAAI,EAAE;AADc,CAAD,CAArB;;AAIA,IAAMC,iBAAiB,GAAGN,OAAO,CAAC,sCAAD,CAAjC;;AAEAC,MAAM,CAACM,IAAP,CAAY,MAAZ,EAAoBD,iBAAiB,CAACE,gBAAtC;AACAP,MAAM,CAACQ,GAAP,CAAW,UAAX,EAAuBH,iBAAiB,CAACI,cAAzC;AACAT,MAAM,CAACU,GAAP,CAAW,GAAX,EAAgBL,iBAAiB,CAACM,KAAlC;AAEAC,MAAM,CAACC,OAAP,GAAiBb,MAAjB","sourceRoot":"/Users/mac/Desktop/Final_Project_DTU/src/routes/","sourcesContent":["var express = require('express');\r\nvar router = express.Router();\r\nlet multer = require('multer');\r\nconst upload = multer({\r\n  dest: 'src/public/uploads/',\r\n});\r\n\r\nconst PaymentController = require('../app/controllers/PaymentController');\r\n\r\nrouter.post('/pay', PaymentController.createNewPayment);\r\nrouter.get('/success', PaymentController.executePayment);\r\nrouter.use('/', PaymentController.index);\r\n\r\nmodule.exports = router;\r\n"]}},"mtime":1651628686000},"{\"sourceRoot\":\"/Users/mac/Desktop/Final_Project_DTU/src/app/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/mac/Desktop/Final_Project_DTU\",\"filename\":\"/Users/mac/Desktop/Final_Project_DTU/src/app/controllers/PaymentController.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/mac/Desktop/Final_Project_DTU\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar _PaymentService = require(\"../service/PaymentService\");\n\nvar _UserService = require(\"../service/UserService\");\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nvar express = require('express');\n\nvar paypal = require('paypal-rest-sdk');\n\nvar router = express.Router();\npaypal.configure({\n  mode: 'sandbox',\n  client_id: 'AfX4fdY93QBgkabu_RJYEyyg3M7tnUGtdXtusY4ntea9vav8MD7Vc1x5v0ibm-AaH_ODxwVN8cv9k3m8',\n  client_secret: 'EN1j3n7JIlizyM0WrV4rJmzS-ZWAySmXo9qzb3zq5xFrzXb0lCno3bbaK-B2WnMeb8kYuU_vBRIgeq6n'\n});\nvar fund = 0;\n\nvar PaymentController = /*#__PURE__*/function () {\n  function PaymentController() {\n    _classCallCheck(this, PaymentController);\n  }\n\n  _createClass(PaymentController, [{\n    key: \"index\",\n    value: function index(req, res, next) {\n      // let user = await getUserById(req.session.userID)\n      // console.log(user);\n      res.render('user/payment');\n    }\n  }, {\n    key: \"createNewPayment\",\n    value: function createNewPayment(req, res, next) {\n      fund = req.body.amount;\n      var create_payment_json = {\n        intent: 'sale',\n        payer: {\n          payment_method: 'paypal'\n        },\n        redirect_urls: {\n          return_url: 'http://localhost:4000/payment/success',\n          cancel_url: 'http://localhost:4000/payment/cancel'\n        },\n        transactions: [{\n          amount: {\n            currency: 'USD',\n            total: fund\n          },\n          description: 'Add fund into account.'\n        }]\n      };\n      paypal.payment.create(create_payment_json, function (error, payment) {\n        if (error) {\n          throw error;\n        } else {\n          for (var i = 0; i < payment.links.length; i++) {\n            if (payment.links[i].rel === 'approval_url') {\n              res.redirect(payment.links[i].href);\n            }\n          }\n        }\n      });\n    }\n  }, {\n    key: \"executePayment\",\n    value: function () {\n      var _executePayment = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(req, res, next) {\n        var execute_payment_json, paymentID;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                execute_payment_json = {\n                  payer_id: req.query.PayerID,\n                  transactions: [{\n                    amount: {\n                      currency: 'USD',\n                      total: fund\n                    }\n                  }]\n                };\n                paymentID = req.query.paymentId;\n                paypal.payment.execute(paymentID, execute_payment_json, function (error, payment) {\n                  if (error) {\n                    console.log(error.response);\n                    throw error;\n                  } else {\n                    // console.log(checkAccountBalance(\"20d6f7e9-ec75-44e3-9237-ccaa105e2c30\"))\n                    (0, _PaymentService.updateAccountBalance)(req.session.userID, parseInt(fund));\n                    res.render('payment/success');\n                  }\n                });\n\n              case 3:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function executePayment(_x, _x2, _x3) {\n        return _executePayment.apply(this, arguments);\n      }\n\n      return executePayment;\n    }()\n  }]);\n\n  return PaymentController;\n}();\n\nmodule.exports = new PaymentController();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlBheW1lbnRDb250cm9sbGVyLmpzIl0sIm5hbWVzIjpbImV4cHJlc3MiLCJyZXF1aXJlIiwicGF5cGFsIiwicm91dGVyIiwiUm91dGVyIiwiY29uZmlndXJlIiwibW9kZSIsImNsaWVudF9pZCIsImNsaWVudF9zZWNyZXQiLCJmdW5kIiwiUGF5bWVudENvbnRyb2xsZXIiLCJyZXEiLCJyZXMiLCJuZXh0IiwicmVuZGVyIiwiYm9keSIsImFtb3VudCIsImNyZWF0ZV9wYXltZW50X2pzb24iLCJpbnRlbnQiLCJwYXllciIsInBheW1lbnRfbWV0aG9kIiwicmVkaXJlY3RfdXJscyIsInJldHVybl91cmwiLCJjYW5jZWxfdXJsIiwidHJhbnNhY3Rpb25zIiwiY3VycmVuY3kiLCJ0b3RhbCIsImRlc2NyaXB0aW9uIiwicGF5bWVudCIsImNyZWF0ZSIsImVycm9yIiwiaSIsImxpbmtzIiwibGVuZ3RoIiwicmVsIiwicmVkaXJlY3QiLCJocmVmIiwiZXhlY3V0ZV9wYXltZW50X2pzb24iLCJwYXllcl9pZCIsInF1ZXJ5IiwiUGF5ZXJJRCIsInBheW1lbnRJRCIsInBheW1lbnRJZCIsImV4ZWN1dGUiLCJjb25zb2xlIiwibG9nIiwicmVzcG9uc2UiLCJzZXNzaW9uIiwidXNlcklEIiwicGFyc2VJbnQiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOztBQUdBOztBQUNBOzs7Ozs7Ozs7Ozs7QUFKQSxJQUFNQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQyxTQUFELENBQXZCOztBQUNBLElBQU1DLE1BQU0sR0FBR0QsT0FBTyxDQUFDLGlCQUFELENBQXRCOztBQUNBLElBQU1FLE1BQU0sR0FBR0gsT0FBTyxDQUFDSSxNQUFSLEVBQWY7QUFJQUYsTUFBTSxDQUFDRyxTQUFQLENBQWlCO0FBQ2ZDLEVBQUFBLElBQUksRUFBRSxTQURTO0FBRWZDLEVBQUFBLFNBQVMsRUFBRSxrRkFGSTtBQUdmQyxFQUFBQSxhQUFhLEVBQUU7QUFIQSxDQUFqQjtBQU1BLElBQUlDLElB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dXJjZVJvb3QiOiIvVXNlcnMvbWFjL0Rlc2t0b3AvRmluYWxfUHJvamVjdF9EVFUvc3JjL2FwcC9jb250cm9sbGVycy8iLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBleHByZXNzID0gcmVxdWlyZSgnZXhwcmVzcycpO1xyXG5jb25zdCBwYXlwYWwgPSByZXF1aXJlKCdwYXlwYWwtcmVzdC1zZGsnKTtcclxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcclxuaW1wb3J0IHsgdXBkYXRlQWNjb3VudEJhbGFuY2UgfSBmcm9tICcuLi9zZXJ2aWNlL1BheW1lbnRTZXJ2aWNlJztcclxuaW1wb3J0IHsgZ2V0VXNlckJ5SWQgfSBmcm9tICcuLi9zZXJ2aWNlL1VzZXJTZXJ2aWNlJztcclxuXHJcbnBheXBhbC5jb25maWd1cmUoe1xyXG4gIG1vZGU6ICdzYW5kYm94JyxcclxuICBjbGllbnRfaWQ6ICdBZlg0ZmRZOTNRQmdrYWJ1X1JKWUV5eWczTTd0blVHdGRYdHVzWTRudGVhOXZhdjhNRDdWYzF4NXYwaWJtLUFhSF9PRHh3Vk44Y3Y5azNtOCcsXHJcbiAgY2xpZW50X3NlY3JldDogJ0VOMWozbjdKSWxpenlNMFdyVjRySm16Uy1aV0F5U21YbzlxemIzenE1eEZyelhiMGxDbm8zYmJhSy1CMlduTWViOGtZdVVfdkJSSWdlcTZuJyxcclxufSk7XHJcblxyXG5sZXQgZnVuZCA9IDA7XHJcblxyXG5jbGFzcyBQYXltZW50Q29udHJvbGxlciB7XHJcbiAgaW5kZXgocmVxLCByZXMsIG5leHQpIHtcclxuICAgIC8vIGxldCB1c2VyID0gYXdhaXQgZ2V0VXNlckJ5SWQocmVxLnNlc3Npb24udXNlcklEKVxyXG4gICAgLy8gY29uc29sZS5sb2codXNlcik7XHJcbiAgICByZXMucmVuZGVyKCd1c2VyL3BheW1lbnQnKTtcclxuICB9XHJcblxyXG4gIGNyZWF0ZU5ld1BheW1lbnQocmVxLCByZXMsIG5leHQpIHtcclxuICAgIGZ1bmQgPSByZXEuYm9keS5hbW91bnQ7XHJcbiAgICBjb25zdCBjcmVhdGVfcGF5bWVudF9qc29uID0ge1xyXG4gICAgICBpbnRlbnQ6ICdzYWxlJyxcclxuICAgICAgcGF5ZXI6IHtcclxuICAgICAgICBwYXltZW50X21ldGhvZDogJ3BheXBhbCcsXHJcbiAgICAgIH0sXHJcbiAgICAgIHJlZGlyZWN0X3VybHM6IHtcclxuICAgICAgICByZXR1cm5fdXJsOiAnaHR0cDovL2xvY2FsaG9zdDo0MDAwL3BheW1lbnQvc3VjY2VzcycsXHJcbiAgICAgICAgY2FuY2VsX3VybDogJ2h0dHA6Ly9sb2NhbGhvc3Q6NDAwMC9wYXltZW50L2NhbmNlbCcsXHJcbiAgICAgIH0sXHJcbiAgICAgIHRyYW5zYWN0aW9uczogW1xyXG4gICAgICAgIHtcclxuICAgICAgICAgIGFtb3VudDoge1xyXG4gICAgICAgICAgICBjdXJyZW5jeTogJ1VTRCcsXHJcbiAgICAgICAgICAgIHRvdGFsOiBmdW5kLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnQWRkIGZ1bmQgaW50byBhY2NvdW50LicsXHJcbiAgICAgICAgfSxcclxuICAgICAgXSxcclxuICAgIH07XHJcblxyXG4gICAgcGF5cGFsLnBheW1lbnQuY3JlYXRlKGNyZWF0ZV9wYXltZW50X2pzb24sIGZ1bmN0aW9uIChlcnJvciwgcGF5bWVudCkge1xyXG4gICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICB0aHJvdyBlcnJvcjtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBheW1lbnQubGlua3MubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgIGlmIChwYXltZW50LmxpbmtzW2ldLnJlbCA9PT0gJ2FwcHJvdmFsX3VybCcpIHtcclxuICAgICAgICAgICAgcmVzLnJlZGlyZWN0KHBheW1lbnQubGlua3NbaV0uaHJlZik7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGFzeW5jIGV4ZWN1dGVQYXltZW50KHJlcSwgcmVzLCBuZXh0KSB7XHJcbiAgICBjb25zdCBleGVjdXRlX3BheW1lbnRfanNvbiA9IHtcclxuICAgICAgcGF5ZXJfaWQ6IHJlcS5xdWVyeS5QYXllcklELFxyXG4gICAgICB0cmFuc2FjdGlvbnM6IFtcclxuICAgICAgICB7XHJcbiAgICAgICAgICBhbW91bnQ6IHtcclxuICAgICAgICAgICAgY3VycmVuY3k6ICdVU0QnLFxyXG4gICAgICAgICAgICB0b3RhbDogZnVuZCxcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgfSxcclxuICAgICAgXSxcclxuICAgIH07XHJcblxyXG4gICAgY29uc3QgcGF5bWVudElEID0gcmVxLnF1ZXJ5LnBheW1lbnRJZDtcclxuXHJcbiAgICBwYXlwYWwucGF5bWVudC5leGVjdXRlKHBheW1lbnRJRCwgZXhlY3V0ZV9wYXltZW50X2pzb24sIChlcnJvciwgcGF5bWVudCkgPT4ge1xyXG4gICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnJvci5yZXNwb25zZSk7XHJcbiAgICAgICAgdGhyb3cgZXJyb3I7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coY2hlY2tBY2NvdW50QmFsYW5jZShcIjIwZDZmN2U5LWVjNzUtNDRlMy05MjM3LWNjYWExMDVlMmMzMFwiKSlcclxuICAgICAgICB1cGRhdGVBY2NvdW50QmFsYW5jZShyZXEuc2Vzc2lvbi51c2VySUQsIHBhcnNlSW50KGZ1bmQpKTtcclxuICAgICAgICByZXMucmVuZGVyKCdwYXltZW50L3N1Y2Nlc3MnKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IG5ldyBQYXltZW50Q29udHJvbGxlcigpO1xyXG4iXX0=","map":{"version":3,"sources":["PaymentController.js"],"names":["express","require","paypal","router","Router","configure","mode","client_id","client_secret","fund","PaymentController","req","res","next","render","body","amount","create_payment_json","intent","payer","payment_method","redirect_urls","return_url","cancel_url","transactions","currency","total","description","payment","create","error","i","links","length","rel","redirect","href","execute_payment_json","payer_id","query","PayerID","paymentID","paymentId","execute","console","log","response","session","userID","parseInt","module","exports"],"mappings":"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","sourceRoot":"/Users/mac/Desktop/Final_Project_DTU/src/app/controllers/","sourcesContent":["const express = require('express');\r\nconst paypal = require('paypal-rest-sdk');\r\nconst router = express.Router();\r\nimport { updateAccountBalance } from '../service/PaymentService';\r\nimport { getUserById } from '../service/UserService';\r\n\r\npaypal.configure({\r\n  mode: 'sandbox',\r\n  client_id: 'AfX4fdY93QBgkabu_RJYEyyg3M7tnUGtdXtusY4ntea9vav8MD7Vc1x5v0ibm-AaH_ODxwVN8cv9k3m8',\r\n  client_secret: 'EN1j3n7JIlizyM0WrV4rJmzS-ZWAySmXo9qzb3zq5xFrzXb0lCno3bbaK-B2WnMeb8kYuU_vBRIgeq6n',\r\n});\r\n\r\nlet fund = 0;\r\n\r\nclass PaymentController {\r\n  index(req, res, next) {\r\n    // let user = await getUserById(req.session.userID)\r\n    // console.log(user);\r\n    res.render('user/payment');\r\n  }\r\n\r\n  createNewPayment(req, res, next) {\r\n    fund = req.body.amount;\r\n    const create_payment_json = {\r\n      intent: 'sale',\r\n      payer: {\r\n        payment_method: 'paypal',\r\n      },\r\n      redirect_urls: {\r\n        return_url: 'http://localhost:4000/payment/success',\r\n        cancel_url: 'http://localhost:4000/payment/cancel',\r\n      },\r\n      transactions: [\r\n        {\r\n          amount: {\r\n            currency: 'USD',\r\n            total: fund,\r\n          },\r\n          description: 'Add fund into account.',\r\n        },\r\n      ],\r\n    };\r\n\r\n    paypal.payment.create(create_payment_json, function (error, payment) {\r\n      if (error) {\r\n        throw error;\r\n      } else {\r\n        for (let i = 0; i < payment.links.length; i++) {\r\n          if (payment.links[i].rel === 'approval_url') {\r\n            res.redirect(payment.links[i].href);\r\n          }\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  async executePayment(req, res, next) {\r\n    const execute_payment_json = {\r\n      payer_id: req.query.PayerID,\r\n      transactions: [\r\n        {\r\n          amount: {\r\n            currency: 'USD',\r\n            total: fund,\r\n          },\r\n        },\r\n      ],\r\n    };\r\n\r\n    const paymentID = req.query.paymentId;\r\n\r\n    paypal.payment.execute(paymentID, execute_payment_json, (error, payment) => {\r\n      if (error) {\r\n        console.log(error.response);\r\n        throw error;\r\n      } else {\r\n        // console.log(checkAccountBalance(\"20d6f7e9-ec75-44e3-9237-ccaa105e2c30\"))\r\n        updateAccountBalance(req.session.userID, parseInt(fund));\r\n        res.render('payment/success');\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nmodule.exports = new PaymentController();\r\n"]}},"mtime":1651628686000},"{\"sourceRoot\":\"/Users/mac/Desktop/Final_Project_DTU/src/app/service/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/mac/Desktop/Final_Project_DTU\",\"filename\":\"/Users/mac/Desktop/Final_Project_DTU/src/app/service/PaymentService.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/mac/Desktop/Final_Project_DTU\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar paypal = require('paypal-rest-sdk');\n\nvar db = require('../models/index');\n\nvar UserService = require('./UserService');\n\nvar sampleService = require('./SampleService');\n\nvar updateAccountBalance = function updateAccountBalance(id, amount) {\n  return new Promise( /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(resolve, reject) {\n      var user;\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return db.User.findOne({\n                where: {\n                  id: id\n                }\n              });\n\n            case 3:\n              user = _context.sent;\n\n              if (!user) {\n                _context.next = 11;\n                break;\n              }\n\n              user.balance = user.balance + amount;\n              _context.next = 8;\n              return user.save();\n\n            case 8:\n              resolve(); //return\n\n              _context.next = 12;\n              break;\n\n            case 11:\n              resolve(); //return\n\n            case 12:\n              _context.next = 17;\n              break;\n\n            case 14:\n              _context.prev = 14;\n              _context.t0 = _context[\"catch\"](0);\n              reject(_context.t0);\n\n            case 17:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 14]]);\n    }));\n\n    return function (_x, _x2) {\n      return _ref.apply(this, arguments);\n    };\n  }());\n};\n\nmodule.exports = {\n  updateAccountBalance: updateAccountBalance\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlBheW1lbnRTZXJ2aWNlLmpzIl0sIm5hbWVzIjpbInBheXBhbCIsInJlcXVpcmUiLCJkYiIsIlVzZXJTZXJ2aWNlIiwic2FtcGxlU2VydmljZSIsInVwZGF0ZUFjY291bnRCYWxhbmNlIiwiaWQiLCJhbW91bnQiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsIlVzZXIiLCJmaW5kT25lIiwid2hlcmUiLCJ1c2VyIiwiYmFsYW5jZSIsInNhdmUiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFNQSxNQUFNLEdBQUdDLE9BQU8sQ0FBQyxpQkFBRCxDQUF0Qjs7QUFDQSxJQUFNQyxFQUFFLEdBQUdELE9BQU8sQ0FBQyxpQkFBRCxDQUFsQjs7QUFDQSxJQUFNRSxXQUFXLEdBQUdGLE9BQU8sQ0FBQyxlQUFELENBQTNCOztBQUNBLElBQU1HLGFBQWEsR0FBR0gsT0FBTyxDQUFDLGlCQUFELENBQTdCOztBQUVBLElBQUlJLG9CQUFvQixHQUFHLFNBQXZCQSxvQkFBdUIsQ0FBQ0MsRUFBRCxFQUFLQyxNQUFMLEVBQWdCO0FBQ3pDLFNBQU8sSUFBSUMsT0FBSjtBQUFBLHVFQUFZLGlCQUFPQyxPQUFQLEVBQWdCQyxNQUFoQjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEscUJBRUVSLEVBQUUsQ0FBQ1MsSUFBSCxDQUFRQyxPQUFSLENBQWdCO0FBQy9CQyxnQkFBQUEsS0FBSyxFQUFFO0FBQUVQLGtCQUFBQSxFQUFFLEVBQUVBO0FBQU47QUFEd0IsZUFBaEIsQ0FGRjs7QUFBQTtBQUVYUSxjQUFBQSxJQUZXOztBQUFBLG1CQUtYQSxJQUxXO0FBQUE7QUFBQTtBQUFBOztBQU1iQSxjQUFBQSxJQUFJLENBQUNDLE9BQUwsR0FBZUQsSUFBSSxDQUFDQyxPQUFMLEdBQWVSLE1BQTlCO0FBTmE7QUFBQSxxQkFPUE8sSUFBSSxDQUFDRSxJQUFMLEVBUE87O0FBQUE7QUFRYlAsY0FBQUEsT0FBTyxHQVJNLENBUUY7O0FBUkU7QUFBQTs7QUFBQTtBQVViQSxjQUFBQSxPQUFPLEdBVk0sQ0FVRjs7QUFWRTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBYWZDLGNBQUFBLE1BQU0sYUFBTjs7QUFiZTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxLQUFaOztBQUFBO0FBQUE7QUFBQTtBQUFBLE1BQVA7QUFnQkQsQ0FqQkQ7O0FBbUJBTyxNQUFNLENBQUNDLE9BQVAsR0FBaUI7QUFDZmIsRUFBQUEsb0JBQW9CLEVBQXBCQTtBQURlLENBQWpCIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9tYWMvRGVza3RvcC9GaW5hbF9Qcm9qZWN0X0RUVS9zcmMvYXBwL3NlcnZpY2UvIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgcGF5cGFsID0gcmVxdWlyZSgncGF5cGFsLXJlc3Qtc2RrJyk7XHJcbmNvbnN0IGRiID0gcmVxdWlyZSgnLi4vbW9kZWxzL2luZGV4Jyk7XHJcbmNvbnN0IFVzZXJTZXJ2aWNlID0gcmVxdWlyZSgnLi9Vc2VyU2VydmljZScpO1xyXG5jb25zdCBzYW1wbGVTZXJ2aWNlID0gcmVxdWlyZSgnLi9TYW1wbGVTZXJ2aWNlJyk7XHJcblxyXG5sZXQgdXBkYXRlQWNjb3VudEJhbGFuY2UgPSAoaWQsIGFtb3VudCkgPT4ge1xyXG4gIHJldHVybiBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBsZXQgdXNlciA9IGF3YWl0IGRiLlVzZXIuZmluZE9uZSh7XHJcbiAgICAgICAgd2hlcmU6IHsgaWQ6IGlkIH0sXHJcbiAgICAgIH0pO1xyXG4gICAgICBpZiAodXNlcikge1xyXG4gICAgICAgIHVzZXIuYmFsYW5jZSA9IHVzZXIuYmFsYW5jZSArIGFtb3VudDtcclxuICAgICAgICBhd2FpdCB1c2VyLnNhdmUoKTtcclxuICAgICAgICByZXNvbHZlKCk7IC8vcmV0dXJuXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmVzb2x2ZSgpOyAvL3JldHVyblxyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIHJlamVjdChlKTtcclxuICAgIH1cclxuICB9KTtcclxufTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG4gIHVwZGF0ZUFjY291bnRCYWxhbmNlLFxyXG59O1xyXG4iXX0=","map":{"version":3,"sources":["PaymentService.js"],"names":["paypal","require","db","UserService","sampleService","updateAccountBalance","id","amount","Promise","resolve","reject","User","findOne","where","user","balance","save","module","exports"],"mappings":";;;;;;AAAA,IAAMA,MAAM,GAAGC,OAAO,CAAC,iBAAD,CAAtB;;AACA,IAAMC,EAAE,GAAGD,OAAO,CAAC,iBAAD,CAAlB;;AACA,IAAME,WAAW,GAAGF,OAAO,CAAC,eAAD,CAA3B;;AACA,IAAMG,aAAa,GAAGH,OAAO,CAAC,iBAAD,CAA7B;;AAEA,IAAII,oBAAoB,GAAG,SAAvBA,oBAAuB,CAACC,EAAD,EAAKC,MAAL,EAAgB;AACzC,SAAO,IAAIC,OAAJ;AAAA,uEAAY,iBAAOC,OAAP,EAAgBC,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAEER,EAAE,CAACS,IAAH,CAAQC,OAAR,CAAgB;AAC/BC,gBAAAA,KAAK,EAAE;AAAEP,kBAAAA,EAAE,EAAEA;AAAN;AADwB,eAAhB,CAFF;;AAAA;AAEXQ,cAAAA,IAFW;;AAAA,mBAKXA,IALW;AAAA;AAAA;AAAA;;AAMbA,cAAAA,IAAI,CAACC,OAAL,GAAeD,IAAI,CAACC,OAAL,GAAeR,MAA9B;AANa;AAAA,qBAOPO,IAAI,CAACE,IAAL,EAPO;;AAAA;AAQbP,cAAAA,OAAO,GARM,CAQF;;AARE;AAAA;;AAAA;AAUbA,cAAAA,OAAO,GAVM,CAUF;;AAVE;AAAA;AAAA;;AAAA;AAAA;AAAA;AAafC,cAAAA,MAAM,aAAN;;AAbe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAZ;;AAAA;AAAA;AAAA;AAAA,MAAP;AAgBD,CAjBD;;AAmBAO,MAAM,CAACC,OAAP,GAAiB;AACfb,EAAAA,oBAAoB,EAApBA;AADe,CAAjB","sourceRoot":"/Users/mac/Desktop/Final_Project_DTU/src/app/service/","sourcesContent":["const paypal = require('paypal-rest-sdk');\r\nconst db = require('../models/index');\r\nconst UserService = require('./UserService');\r\nconst sampleService = require('./SampleService');\r\n\r\nlet updateAccountBalance = (id, amount) => {\r\n  return new Promise(async (resolve, reject) => {\r\n    try {\r\n      let user = await db.User.findOne({\r\n        where: { id: id },\r\n      });\r\n      if (user) {\r\n        user.balance = user.balance + amount;\r\n        await user.save();\r\n        resolve(); //return\r\n      } else {\r\n        resolve(); //return\r\n      }\r\n    } catch (e) {\r\n      reject(e);\r\n    }\r\n  });\r\n};\r\n\r\nmodule.exports = {\r\n  updateAccountBalance,\r\n};\r\n"]}},"mtime":1651628686000},"{\"sourceRoot\":\"/Users/mac/Desktop/Final_Project_DTU/src/app/service/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/mac/Desktop/Final_Project_DTU\",\"filename\":\"/Users/mac/Desktop/Final_Project_DTU/src/app/service/SampleService.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/mac/Desktop/Final_Project_DTU\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar bcrypt = require(\"bcryptjs\");\n\nvar db = require(\"../models/index\");\n\nvar salt = bcrypt.genSaltSync(10);\n\nvar getListUsers = function getListUsers() {\n  return new Promise( /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(resolve, reject) {\n      var listUsers;\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return db.User.findAll({\n                raw: true\n              });\n\n            case 3:\n              listUsers = _context.sent;\n              resolve(listUsers); // == return listUsers\n\n              _context.next = 10;\n              break;\n\n            case 7:\n              _context.prev = 7;\n              _context.t0 = _context[\"catch\"](0);\n              reject(_context.t0);\n\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 7]]);\n    }));\n\n    return function (_x, _x2) {\n      return _ref.apply(this, arguments);\n    };\n  }());\n};\n\nvar createNewUser = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(data) {\n    return regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            return _context3.abrupt(\"return\", new Promise( /*#__PURE__*/function () {\n              var _ref3 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(resolve, reject) {\n                var hashPassword;\n                return regeneratorRuntime.wrap(function _callee2$(_context2) {\n                  while (1) {\n                    switch (_context2.prev = _context2.next) {\n                      case 0:\n                        _context2.prev = 0;\n                        _context2.next = 3;\n                        return hashUserPassword(data.password);\n\n                      case 3:\n                        hashPassword = _context2.sent;\n                        _context2.next = 6;\n                        return db.User.create({\n                          email: data.email,\n                          password: hashPassword,\n                          firstName: data.firstName,\n                          lastName: data.lastName,\n                          address: data.address,\n                          phoneNumber: data.phoneNumber,\n                          gender: data.gender === \"1\" ? true : false,\n                          roleID: data.roleID\n                        });\n\n                      case 6:\n                        resolve(\"create success !\");\n                        _context2.next = 12;\n                        break;\n\n                      case 9:\n                        _context2.prev = 9;\n                        _context2.t0 = _context2[\"catch\"](0);\n                        reject(_context2.t0);\n\n                      case 12:\n                      case \"end\":\n                        return _context2.stop();\n                    }\n                  }\n                }, _callee2, null, [[0, 9]]);\n              }));\n\n              return function (_x4, _x5) {\n                return _ref3.apply(this, arguments);\n              };\n            }()));\n\n          case 1:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n\n  return function createNewUser(_x3) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nvar hashUserPassword = function hashUserPassword(password) {\n  return new Promise( /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(resolve, reject) {\n      var hashPassword;\n      return regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.prev = 0;\n              _context4.next = 3;\n              return bcrypt.hashSync(password, salt);\n\n            case 3:\n              hashPassword = _context4.sent;\n              resolve(hashPassword);\n              _context4.next = 10;\n              break;\n\n            case 7:\n              _context4.prev = 7;\n              _context4.t0 = _context4[\"catch\"](0);\n              reject(_context4.t0);\n\n            case 10:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4, null, [[0, 7]]);\n    }));\n\n    return function (_x6, _x7) {\n      return _ref4.apply(this, arguments);\n    };\n  }());\n};\n\nvar getUserById = function getUserById(id) {\n  return new Promise( /*#__PURE__*/function () {\n    var _ref5 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5(resolve, reject) {\n      var user;\n      return regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              _context5.prev = 0;\n              _context5.next = 3;\n              return db.User.findOne({\n                where: {\n                  id: id\n                },\n                raw: true\n              });\n\n            case 3:\n              user = _context5.sent;\n\n              if (user) {\n                resolve(user);\n              } else {\n                resolve({});\n              }\n\n              _context5.next = 10;\n              break;\n\n            case 7:\n              _context5.prev = 7;\n              _context5.t0 = _context5[\"catch\"](0);\n              reject(_context5.t0);\n\n            case 10:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5, null, [[0, 7]]);\n    }));\n\n    return function (_x8, _x9) {\n      return _ref5.apply(this, arguments);\n    };\n  }());\n};\n\nvar updateUser = function updateUser(data) {\n  return new Promise( /*#__PURE__*/function () {\n    var _ref6 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee6(resolve, reject) {\n      var user;\n      return regeneratorRuntime.wrap(function _callee6$(_context6) {\n        while (1) {\n          switch (_context6.prev = _context6.next) {\n            case 0:\n              _context6.prev = 0;\n              _context6.next = 3;\n              return db.User.findOne({\n                where: {\n                  id: data.id\n                }\n              });\n\n            case 3:\n              user = _context6.sent;\n\n              if (!user) {\n                _context6.next = 16;\n                break;\n              }\n\n              user.firstName = data.firstName;\n              user.lastName = data.lastName;\n              user.address = data.address;\n              user.phoneNumber = data.phoneNumber;\n              user.gender = data.gender;\n              user.roleID = data.roleID;\n              _context6.next = 13;\n              return user.save();\n\n            case 13:\n              resolve(); //return\n\n              _context6.next = 17;\n              break;\n\n            case 16:\n              resolve(); //return\n\n            case 17:\n              _context6.next = 22;\n              break;\n\n            case 19:\n              _context6.prev = 19;\n              _context6.t0 = _context6[\"catch\"](0);\n              reject(_context6.t0);\n\n            case 22:\n            case \"end\":\n              return _context6.stop();\n          }\n        }\n      }, _callee6, null, [[0, 19]]);\n    }));\n\n    return function (_x10, _x11) {\n      return _ref6.apply(this, arguments);\n    };\n  }());\n};\n\nvar deleteUser = function deleteUser(id) {\n  return new Promise( /*#__PURE__*/function () {\n    var _ref7 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee7(resolve, reject) {\n      var user;\n      return regeneratorRuntime.wrap(function _callee7$(_context7) {\n        while (1) {\n          switch (_context7.prev = _context7.next) {\n            case 0:\n              _context7.prev = 0;\n              _context7.next = 3;\n              return db.User.findOne({\n                where: {\n                  id: id\n                }\n              });\n\n            case 3:\n              user = _context7.sent;\n\n              if (!user) {\n                _context7.next = 7;\n                break;\n              }\n\n              _context7.next = 7;\n              return user.destroy();\n\n            case 7:\n              resolve();\n              _context7.next = 13;\n              break;\n\n            case 10:\n              _context7.prev = 10;\n              _context7.t0 = _context7[\"catch\"](0);\n              reject(_context7.t0);\n\n            case 13:\n            case \"end\":\n              return _context7.stop();\n          }\n        }\n      }, _callee7, null, [[0, 10]]);\n    }));\n\n    return function (_x12, _x13) {\n      return _ref7.apply(this, arguments);\n    };\n  }());\n};\n\nmodule.exports = {\n  createNewUser: createNewUser,\n  getListUsers: getListUsers,\n  getUserById: getUserById,\n  deleteUser: deleteUser,\n  updateUser: updateUser\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlNhbXBsZVNlcnZpY2UuanMiXSwibmFtZXMiOlsiYmNyeXB0IiwicmVxdWlyZSIsImRiIiwic2FsdCIsImdlblNhbHRTeW5jIiwiZ2V0TGlzdFVzZXJzIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJVc2VyIiwiZmluZEFsbCIsInJhdyIsImxpc3RVc2VycyIsImNyZWF0ZU5ld1VzZXIiLCJkYXRhIiwiaGFzaFVzZXJQYXNzd29yZCIsInBhc3N3b3JkIiwiaGFzaFBhc3N3b3JkIiwiY3JlYXRlIiwiZW1haWwiLCJmaXJzdE5hbWUiLCJsYXN0TmFtZSIsImFkZHJlc3MiLCJwaG9uZU51bWJlciIsImdlbmRlciIsInJvbGVJRCIsImhhc2hTeW5jIiwiZ2V0VXNlckJ5SWQiLCJpZCIsImZpbmRPbmUiLCJ3aGVyZSIsInVzZXIiLCJ1cGRhdGVVc2VyIiwic2F2ZSIsImRlbGV0ZVVzZXIiLCJkZXN0cm95IiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBTUEsTUFBTSxHQUFHQyxPQUFPLENBQUMsVUFBRCxDQUF0Qjs7QUFDQSxJQUFNQyxFQUFFLEdBQUdELE9BQU8sQ0FBQyxpQkFBRCxDQUFsQjs7QUFDQSxJQUFJRSxJQUFJLEdBQUdILE1BQU0sQ0FBQ0ksV0FBUCxDQUFtQixFQUFuQixDQUFYOztBQUVBLElBQUlDLFlBQVksR0FBRyxTQUFmQSxZQUFlLEdBQU07QUFDdkIsU0FBTyxJQUFJQyxPQUFKO0FBQUEsdUVBQVksaUJBQU9DLE9BQVAsRUFBZ0JDLE1BQWhCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxxQkFFT04sRUFBRSxDQUFDTyxJQUFILENBQVFDLE9BQVIsQ0FBZ0I7QUFBRUMsZ0JBQUFBLEdBQUcsRUFBRTtBQUFQLGVBQWhCLENBRlA7O0FBQUE7QUFFWEMsY0FBQUEsU0FGVztBQUdmTCxjQUFBQSxPQUFPLENBQUNLLFNBQUQsQ0FBUCxDQUhlLENBR0s7O0FBSEw7QUFBQTs7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O0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBa0JmQyxjQUFBQSxNQUFNLGNBQU47O0FBbEJlO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEtBQVo7O0FBQUE7QUFBQTtBQUFBO0FBQUEsTUFBUDtBQXFCRCxDQXRCRDs7QUF3QkEsSUFBSTBCLFVBQVUsR0FBRyxTQUFiQSxVQUFhLENBQUNOLEVBQUQsRUFBUTtBQUN2QixTQUFPLElBQUl0QixPQUFKO0FBQUEsd0VBQVksa0JBQU9DLE9BQVAsRUFBZ0JDLE1BQWhCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxxQkFFRU4sRUFBRSxDQUFDTyxJQUFILENBQVFvQixPQUFSLENBQWdCO0FBQy9CQyxnQkFBQUEsS0FBSyxFQUFFO0FBQUVGLGtCQUFBQSxFQUFFLEVBQUVBO0FBQU47QUFEd0IsZUFBaEIsQ0FGRjs7QUFBQTtBQUVYRyxjQUFBQSxJQUZXOztBQUFBLG1CQUtYQSxJQUxXO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUEscUJBTVBBLElBQUksQ0FBQ0ksT0FBTCxFQU5POztBQUFBO0FBUWY1QixjQUFBQSxPQUFPO0FBUlE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFVZkMsY0FBQUEsTUFBTSxjQUFOOztBQVZlO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEtBQVo7O0FBQUE7QUFBQTtBQUFBO0FBQUEsTUFBUDtBQWFELENBZEQ7O0FBZUE0QixNQUFNLENBQUNDLE9BQVAsR0FBaUI7QUFDZnhCLEVBQUFBLGFBQWEsRUFBRUEsYUFEQTtBQUVmUixFQUFBQSxZQUFZLEVBQUVBLFlBRkM7QUFHZnNCLEVBQUFBLFdBQVcsRUFBWEEsV0FIZTtBQUlmTyxFQUFBQSxVQUFVLEVBQVZBLFVBSmU7QUFLZkYsRUFBQUEsVUFBVSxFQUFWQTtBQUxlLENBQWpCIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9tYWMvRGVza3RvcC9GaW5hbF9Qcm9qZWN0X0RUVS9zcmMvYXBwL3NlcnZpY2UvIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgYmNyeXB0ID0gcmVxdWlyZShcImJjcnlwdGpzXCIpO1xyXG5jb25zdCBkYiA9IHJlcXVpcmUoXCIuLi9tb2RlbHMvaW5kZXhcIik7XHJcbmxldCBzYWx0ID0gYmNyeXB0LmdlblNhbHRTeW5jKDEwKTtcclxuXHJcbmxldCBnZXRMaXN0VXNlcnMgPSAoKSA9PiB7XHJcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGxldCBsaXN0VXNlcnMgPSBhd2FpdCBkYi5Vc2VyLmZpbmRBbGwoeyByYXc6IHRydWUgfSk7XHJcbiAgICAgIHJlc29sdmUobGlzdFVzZXJzKTsgLy8gPT0gcmV0dXJuIGxpc3RVc2Vyc1xyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICByZWplY3QoZSk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn07XHJcbmxldCBjcmVhdGVOZXdVc2VyID0gYXN5bmMgKGRhdGEpID0+IHtcclxuICByZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgbGV0IGhhc2hQYXNzd29yZCA9IGF3YWl0IGhhc2hVc2VyUGFzc3dvcmQoZGF0YS5wYXNzd29yZCk7XHJcbiAgICAgIGF3YWl0IGRiLlVzZXIuY3JlYXRlKHtcclxuICAgICAgICBlbWFpbDogZGF0YS5lbWFpbCxcclxuICAgICAgICBwYXNzd29yZDogaGFzaFBhc3N3b3JkLFxyXG4gICAgICAgIGZpcnN0TmFtZTogZGF0YS5maXJzdE5hbWUsXHJcbiAgICAgICAgbGFzdE5hbWU6IGRhdGEubGFzdE5hbWUsXHJcbiAgICAgICAgYWRkcmVzczogZGF0YS5hZGRyZXNzLFxyXG4gICAgICAgIHBob25lTnVtYmVyOiBkYXRhLnBob25lTnVtYmVyLFxyXG4gICAgICAgIGdlbmRlcjogZGF0YS5nZW5kZXIgPT09IFwiMVwiID8gdHJ1ZSA6IGZhbHNlLFxyXG4gICAgICAgIHJvbGVJRDogZGF0YS5yb2xlSUQsXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgcmVzb2x2ZShcImNyZWF0ZSBzdWNjZXNzICFcIik7XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIHJlamVjdChlKTtcclxuICAgIH1cclxuICB9KTtcclxufTtcclxubGV0IGhhc2hVc2VyUGFzc3dvcmQgPSAocGFzc3dvcmQpID0+IHtcclxuICByZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgbGV0IGhhc2hQYXNzd29yZCA9IGF3YWl0IGJjcnlwdC5oYXNoU3luYyhwYXNzd29yZCwgc2FsdCk7XHJcbiAgICAgIHJlc29sdmUoaGFzaFBhc3N3b3JkKTtcclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgcmVqZWN0KGUpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59O1xyXG5sZXQgZ2V0VXNlckJ5SWQgPSAoaWQpID0+IHtcclxuICByZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgbGV0IHVzZXIgPSBhd2FpdCBkYi5Vc2VyLmZpbmRPbmUoe1xyXG4gICAgICAgIHdoZXJlOiB7IGlkOiBpZCB9LFxyXG4gICAgICAgIHJhdzogdHJ1ZSxcclxuICAgICAgfSk7XHJcbiAgICAgIGlmICh1c2VyKSB7XHJcbiAgICAgICAgcmVzb2x2ZSh1c2VyKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXNvbHZlKHt9KTtcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICByZWplY3QoZSk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn07XHJcbmxldCB1cGRhdGVVc2VyID0gKGRhdGEpID0+IHtcclxuICByZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgbGV0IHVzZXIgPSBhd2FpdCBkYi5Vc2VyLmZpbmRPbmUoe1xyXG4gICAgICAgIHdoZXJlOiB7IGlkOiBkYXRhLmlkIH0sXHJcbiAgICAgIH0pO1xyXG4gICAgICBpZiAodXNlcikge1xyXG4gICAgICAgIHVzZXIuZmlyc3ROYW1lID0gZGF0YS5maXJzdE5hbWU7XHJcbiAgICAgICAgdXNlci5sYXN0TmFtZSA9IGRhdGEubGFzdE5hbWU7XHJcbiAgICAgICAgdXNlci5hZGRyZXNzID0gZGF0YS5hZGRyZXNzO1xyXG4gICAgICAgIHVzZXIucGhvbmVOdW1iZXIgPSBkYXRhLnBob25lTnVtYmVyO1xyXG4gICAgICAgIHVzZXIuZ2VuZGVyID0gZGF0YS5nZW5kZXI7XHJcbiAgICAgICAgdXNlci5yb2xlSUQgPSBkYXRhLnJvbGVJRDtcclxuICAgICAgICBhd2FpdCB1c2VyLnNhdmUoKTtcclxuICAgICAgICByZXNvbHZlKCk7IC8vcmV0dXJuXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmVzb2x2ZSgpOyAvL3JldHVyblxyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIHJlamVjdChlKTtcclxuICAgIH1cclxuICB9KTtcclxufTtcclxuXHJcbmxldCBkZWxldGVVc2VyID0gKGlkKSA9PiB7XHJcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGxldCB1c2VyID0gYXdhaXQgZGIuVXNlci5maW5kT25lKHtcclxuICAgICAgICB3aGVyZTogeyBpZDogaWQgfSxcclxuICAgICAgfSk7XHJcbiAgICAgIGlmICh1c2VyKSB7XHJcbiAgICAgICAgYXdhaXQgdXNlci5kZXN0cm95KCk7XHJcbiAgICAgIH1cclxuICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICByZWplY3QoZSk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn07XHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG4gIGNyZWF0ZU5ld1VzZXI6IGNyZWF0ZU5ld1VzZXIsXHJcbiAgZ2V0TGlzdFVzZXJzOiBnZXRMaXN0VXNlcnMsXHJcbiAgZ2V0VXNlckJ5SWQsXHJcbiAgZGVsZXRlVXNlcixcclxuICB1cGRhdGVVc2VyLFxyXG59O1xyXG4iXX0=","map":{"version":3,"sources":["SampleService.js"],"names":["bcrypt","require","db","salt","genSaltSync","getListUsers","Promise","resolve","reject","User","findAll","raw","listUsers","createNewUser","data","hashUserPassword","password","hashPassword","create","email","firstName","lastName","address","phoneNumber","gender","roleID","hashSync","getUserById","id","findOne","where","user","updateUser","save","deleteUser","destroy","module","exports"],"mappings":"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","sourceRoot":"/Users/mac/Desktop/Final_Project_DTU/src/app/service/","sourcesContent":["const bcrypt = require(\"bcryptjs\");\r\nconst db = require(\"../models/index\");\r\nlet salt = bcrypt.genSaltSync(10);\r\n\r\nlet getListUsers = () => {\r\n  return new Promise(async (resolve, reject) => {\r\n    try {\r\n      let listUsers = await db.User.findAll({ raw: true });\r\n      resolve(listUsers); // == return listUsers\r\n    } catch (e) {\r\n      reject(e);\r\n    }\r\n  });\r\n};\r\nlet createNewUser = async (data) => {\r\n  return new Promise(async (resolve, reject) => {\r\n    try {\r\n      let hashPassword = await hashUserPassword(data.password);\r\n      await db.User.create({\r\n        email: data.email,\r\n        password: hashPassword,\r\n        firstName: data.firstName,\r\n        lastName: data.lastName,\r\n        address: data.address,\r\n        phoneNumber: data.phoneNumber,\r\n        gender: data.gender === \"1\" ? true : false,\r\n        roleID: data.roleID,\r\n      });\r\n\r\n      resolve(\"create success !\");\r\n    } catch (e) {\r\n      reject(e);\r\n    }\r\n  });\r\n};\r\nlet hashUserPassword = (password) => {\r\n  return new Promise(async (resolve, reject) => {\r\n    try {\r\n      let hashPassword = await bcrypt.hashSync(password, salt);\r\n      resolve(hashPassword);\r\n    } catch (e) {\r\n      reject(e);\r\n    }\r\n  });\r\n};\r\nlet getUserById = (id) => {\r\n  return new Promise(async (resolve, reject) => {\r\n    try {\r\n      let user = await db.User.findOne({\r\n        where: { id: id },\r\n        raw: true,\r\n      });\r\n      if (user) {\r\n        resolve(user);\r\n      } else {\r\n        resolve({});\r\n      }\r\n    } catch (e) {\r\n      reject(e);\r\n    }\r\n  });\r\n};\r\nlet updateUser = (data) => {\r\n  return new Promise(async (resolve, reject) => {\r\n    try {\r\n      let user = await db.User.findOne({\r\n        where: { id: data.id },\r\n      });\r\n      if (user) {\r\n        user.firstName = data.firstName;\r\n        user.lastName = data.lastName;\r\n        user.address = data.address;\r\n        user.phoneNumber = data.phoneNumber;\r\n        user.gender = data.gender;\r\n        user.roleID = data.roleID;\r\n        await user.save();\r\n        resolve(); //return\r\n      } else {\r\n        resolve(); //return\r\n      }\r\n    } catch (e) {\r\n      reject(e);\r\n    }\r\n  });\r\n};\r\n\r\nlet deleteUser = (id) => {\r\n  return new Promise(async (resolve, reject) => {\r\n    try {\r\n      let user = await db.User.findOne({\r\n        where: { id: id },\r\n      });\r\n      if (user) {\r\n        await user.destroy();\r\n      }\r\n      resolve();\r\n    } catch (e) {\r\n      reject(e);\r\n    }\r\n  });\r\n};\r\nmodule.exports = {\r\n  createNewUser: createNewUser,\r\n  getListUsers: getListUsers,\r\n  getUserById,\r\n  deleteUser,\r\n  updateUser,\r\n};\r\n"]}},"mtime":1651628644000},"{\"sourceRoot\":\"/Users/mac/Desktop/Final_Project_DTU/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/mac/Desktop/Final_Project_DTU\",\"filename\":\"/Users/mac/Desktop/Final_Project_DTU/src/routes/user.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/mac/Desktop/Final_Project_DTU\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar express = require(\"express\");\n\nvar router = express.Router();\n\nvar multer = require(\"multer\");\n\nvar upload = multer({\n  dest: \"src/public/uploads/\"\n});\n\nvar userController = require(\"../app/controllers/UserController\");\n\nvar _require = require(\"./site\"),\n    route = _require.route;\n\nrouter.post(\"/changeAccount\", upload.single(\"image\"), userController.changeAccount);\nrouter.use(\"/updateAccount\", userController.updateAccountView);\nrouter.use(\"/transactionHistory\", userController.transactionHistory);\nrouter.use(\"/\", userController.index);\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXIuanMiXSwibmFtZXMiOlsiZXhwcmVzcyIsInJlcXVpcmUiLCJyb3V0ZXIiLCJSb3V0ZXIiLCJtdWx0ZXIiLCJ1cGxvYWQiLCJkZXN0IiwidXNlckNvbnRyb2xsZXIiLCJyb3V0ZSIsInBvc3QiLCJzaW5nbGUiLCJjaGFuZ2VBY2NvdW50IiwidXNlIiwidXBkYXRlQWNjb3VudFZpZXciLCJ0cmFuc2FjdGlvbkhpc3RvcnkiLCJpbmRleCIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBSUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBRCxDQUFyQjs7QUFDQSxJQUFJQyxNQUFNLEdBQUdGLE9BQU8sQ0FBQ0csTUFBUixFQUFiOztBQUNBLElBQUlDLE1BQU0sR0FBR0gsT0FBTyxDQUFDLFFBQUQsQ0FBcEI7O0FBQ0EsSUFBTUksTUFBTSxHQUFHRCxNQUFNLENBQUM7QUFDcEJFLEVBQUFBLElBQUksRUFBRTtBQURjLENBQUQsQ0FBckI7O0FBSUEsSUFBTUMsY0FBYyxHQUFHTixPQUFPLENBQUMsbUNBQUQsQ0FBOUI7O0FBQ0EsZUFBa0JBLE9BQU8sQ0FBQyxRQUFELENBQXpCO0FBQUEsSUFBUU8sS0FBUixZQUFRQSxLQUFSOztBQUVBTixNQUFNLENBQUNPLElBQVAsQ0FDRSxnQkFERixFQUVFSixNQUFNLENBQUNLLE1BQVAsQ0FBYyxPQUFkLENBRkYsRUFHRUgsY0FBYyxDQUFDSSxhQUhqQjtBQUtBVCxNQUFNLENBQUNVLEdBQVAsQ0FBVyxnQkFBWCxFQUE2QkwsY0FBYyxDQUFDTSxpQkFBNUM7QUFDQVgsTUFBTSxDQUFDVSxHQUFQLENBQVcscUJBQVgsRUFBa0NMLGNBQWMsQ0FBQ08sa0JBQWpEO0FBQ0FaLE1BQU0sQ0FBQ1UsR0FBUCxDQUFXLEdBQVgsRUFBZ0JMLGNBQWMsQ0FBQ1EsS0FBL0I7QUFDQUMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCZixNQUFqQiIsInNvdXJjZVJvb3QiOiIvVXNlcnMvbWFjL0Rlc2t0b3AvRmluYWxfUHJvamVjdF9EVFUvc3JjL3JvdXRlcy8iLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZXhwcmVzcyA9IHJlcXVpcmUoXCJleHByZXNzXCIpO1xyXG52YXIgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcclxubGV0IG11bHRlciA9IHJlcXVpcmUoXCJtdWx0ZXJcIik7XHJcbmNvbnN0IHVwbG9hZCA9IG11bHRlcih7XHJcbiAgZGVzdDogXCJzcmMvcHVibGljL3VwbG9hZHMvXCIsXHJcbn0pO1xyXG5cclxuY29uc3QgdXNlckNvbnRyb2xsZXIgPSByZXF1aXJlKFwiLi4vYXBwL2NvbnRyb2xsZXJzL1VzZXJDb250cm9sbGVyXCIpO1xyXG5jb25zdCB7IHJvdXRlIH0gPSByZXF1aXJlKFwiLi9zaXRlXCIpO1xyXG5cclxucm91dGVyLnBvc3QoXHJcbiAgXCIvY2hhbmdlQWNjb3VudFwiLFxyXG4gIHVwbG9hZC5zaW5nbGUoXCJpbWFnZVwiKSxcclxuICB1c2VyQ29udHJvbGxlci5jaGFuZ2VBY2NvdW50XHJcbik7XHJcbnJvdXRlci51c2UoXCIvdXBkYXRlQWNjb3VudFwiLCB1c2VyQ29udHJvbGxlci51cGRhdGVBY2NvdW50Vmlldyk7XHJcbnJvdXRlci51c2UoXCIvdHJhbnNhY3Rpb25IaXN0b3J5XCIsIHVzZXJDb250cm9sbGVyLnRyYW5zYWN0aW9uSGlzdG9yeSk7XHJcbnJvdXRlci51c2UoXCIvXCIsIHVzZXJDb250cm9sbGVyLmluZGV4KTtcclxubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7XHJcbiJdfQ==","map":{"version":3,"sources":["user.js"],"names":["express","require","router","Router","multer","upload","dest","userController","route","post","single","changeAccount","use","updateAccountView","transactionHistory","index","module","exports"],"mappings":";;AAAA,IAAIA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAArB;;AACA,IAAIC,MAAM,GAAGF,OAAO,CAACG,MAAR,EAAb;;AACA,IAAIC,MAAM,GAAGH,OAAO,CAAC,QAAD,CAApB;;AACA,IAAMI,MAAM,GAAGD,MAAM,CAAC;AACpBE,EAAAA,IAAI,EAAE;AADc,CAAD,CAArB;;AAIA,IAAMC,cAAc,GAAGN,OAAO,CAAC,mCAAD,CAA9B;;AACA,eAAkBA,OAAO,CAAC,QAAD,CAAzB;AAAA,IAAQO,KAAR,YAAQA,KAAR;;AAEAN,MAAM,CAACO,IAAP,CACE,gBADF,EAEEJ,MAAM,CAACK,MAAP,CAAc,OAAd,CAFF,EAGEH,cAAc,CAACI,aAHjB;AAKAT,MAAM,CAACU,GAAP,CAAW,gBAAX,EAA6BL,cAAc,CAACM,iBAA5C;AACAX,MAAM,CAACU,GAAP,CAAW,qBAAX,EAAkCL,cAAc,CAACO,kBAAjD;AACAZ,MAAM,CAACU,GAAP,CAAW,GAAX,EAAgBL,cAAc,CAACQ,KAA/B;AACAC,MAAM,CAACC,OAAP,GAAiBf,MAAjB","sourceRoot":"/Users/mac/Desktop/Final_Project_DTU/src/routes/","sourcesContent":["var express = require(\"express\");\r\nvar router = express.Router();\r\nlet multer = require(\"multer\");\r\nconst upload = multer({\r\n  dest: \"src/public/uploads/\",\r\n});\r\n\r\nconst userController = require(\"../app/controllers/UserController\");\r\nconst { route } = require(\"./site\");\r\n\r\nrouter.post(\r\n  \"/changeAccount\",\r\n  upload.single(\"image\"),\r\n  userController.changeAccount\r\n);\r\nrouter.use(\"/updateAccount\", userController.updateAccountView);\r\nrouter.use(\"/transactionHistory\", userController.transactionHistory);\r\nrouter.use(\"/\", userController.index);\r\nmodule.exports = router;\r\n"]}},"mtime":1651628686000},"{\"sourceRoot\":\"/Users/mac/Desktop/Final_Project_DTU/src/app/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/mac/Desktop/Final_Project_DTU\",\"filename\":\"/Users/mac/Desktop/Final_Project_DTU/src/app/controllers/UserController.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/mac/Desktop/Final_Project_DTU\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar _UserService = require(\"../service/UserService\");\n\nvar _AppoinmentService = require(\"../service/AppoinmentService\");\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nvar express = require(\"express\");\n\nvar router = express.Router();\n\nvar UserController = /*#__PURE__*/function () {\n  function UserController() {\n    _classCallCheck(this, UserController);\n  }\n\n  _createClass(UserController, [{\n    key: \"index\",\n    value: function () {\n      var _index = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(req, res, next) {\n        var userId, account;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                userId = req.session.userID;\n                _context.next = 3;\n                return (0, _UserService.getUserById)(userId);\n\n              case 3:\n                account = _context.sent;\n                //res.render(\"user/edit_profile\", { account: account });\n                res.render(\"user/profile\", {\n                  account: account\n                });\n\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function index(_x, _x2, _x3) {\n        return _index.apply(this, arguments);\n      }\n\n      return index;\n    }()\n  }, {\n    key: \"updateAccountView\",\n    value: function () {\n      var _updateAccountView = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(req, res, next) {\n        var userId, account;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                userId = req.session.userID;\n                _context2.next = 3;\n                return (0, _UserService.getUserById)(userId);\n\n              case 3:\n                account = _context2.sent;\n                res.render(\"user/edit_profile\", {\n                  account: account\n                });\n\n              case 5:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      function updateAccountView(_x4, _x5, _x6) {\n        return _updateAccountView.apply(this, arguments);\n      }\n\n      return updateAccountView;\n    }()\n  }, {\n    key: \"changeAccount\",\n    value: function () {\n      var _changeAccount = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(req, res, next) {\n        var accountChanged;\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                console.log(req.file);\n\n                if (!req.file) {\n                  req.body.image = \"\";\n                } else {\n                  req.body.image = req.file.filename;\n                }\n\n                _context3.next = 4;\n                return (0, _UserService.updateUser)(req.body);\n\n              case 4:\n                accountChanged = _context3.sent;\n\n                if (accountChanged) {\n                  res.redirect(\"/user\");\n                } else {\n                  console.log(\"Change failed !\");\n                }\n\n              case 6:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      function changeAccount(_x7, _x8, _x9) {\n        return _changeAccount.apply(this, arguments);\n      }\n\n      return changeAccount;\n    }()\n  }, {\n    key: \"transactionHistory\",\n    value: function () {\n      var _transactionHistory = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(req, res, next) {\n        var appointments, _iterator, _step, appointment;\n\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return (0, _AppoinmentService.getAppointmentsAndTransactionsByUserID)(req.session.userID, 3);\n\n              case 2:\n                appointments = _context4.sent;\n                _iterator = _createForOfIteratorHelper(appointments);\n\n                try {\n                  for (_iterator.s(); !(_step = _iterator.n()).done;) {\n                    appointment = _step.value;\n                    appointment.balance = appointment[\"TransactionHistory.balance\"];\n                  }\n                } catch (err) {\n                  _iterator.e(err);\n                } finally {\n                  _iterator.f();\n                }\n\n                res.render(\"user/transactionHistory\", {\n                  appointments: appointments\n                });\n\n              case 6:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4);\n      }));\n\n      function transactionHistory(_x10, _x11, _x12) {\n        return _transactionHistory.apply(this, arguments);\n      }\n\n      return transactionHistory;\n    }()\n  }]);\n\n  return UserController;\n}();\n\nmodule.exports = new UserController();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlVzZXJDb250cm9sbGVyLmpzIl0sIm5hbWVzIjpbImV4cHJlc3MiLCJyZXF1aXJlIiwicm91dGVyIiwiUm91dGVyIiwiVXNlckNvbnRyb2xsZXIiLCJyZXEiLCJyZXMiLCJuZXh0IiwidXNlcklkIiwic2Vzc2lvbiIsInVzZXJJRCIsImFjY291bnQiLCJyZW5kZXIiLCJjb25zb2xlIiwibG9nIiwiZmlsZSIsImJvZHkiLCJpbWFnZSIsImZpbGVuYW1lIiwiYWNjb3VudENoYW5nZWQiLCJyZWRpcmVjdCIsImFwcG9pbnRtZW50cyIsImFwcG9pbnRtZW50IiwiYmFsYW5jZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7O0FBRUE7O0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUhBLElBQU1BLE9BQU8sR0FBR0MsT0FBTyxDQUFDLFNBQUQsQ0FBdkI7O0FBQ0EsSUFBTUMsTUFBTSxHQUFHRixPQUFPLENBQUNHLE1BQVIsRUFBZjs7SUFNTUMsYzs7Ozs7Ozs7MkVBQ0osaUJBQVlDLEdBQVosRUFBaUJDLEdBQWpCLEVBQXNCQyxJQUF0QjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDUUMsZ0JBQUFBLE1BRFIsR0FDaUJILEdBQUcsQ0FBQ0ksT0FBSixDQUFZQyxNQUQ3QjtBQUFBO0FBQUEsdUJBRXNCLDhCQUFZRixNQUFaLENBRnRCOztBQUFBO0FBRU1HLGdCQUFBQSxPQUZOO0FBR0U7QUFDQUwsZ0JBQUFBLEdBQUcsQ0FBQ00sTUFBSixDQUFXLGNBQVgsRUFBMkI7QUFBRUQsa0JBQUFBLE9BQU8sRUFBRUE7QUFBWCxpQkFBM0I7O0FBSkY7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsTzs7Ozs7Ozs7Ozs7dUZBTUEsa0JBQXdCTixHQUF4QixFQUE2QkMsR0FBN0IsRUFBa0NDLElBQWxDO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNRQyxnQkFBQUEsTUFEUixHQUNpQkgsR0FBRyxDQUFDSSxPQUFKLENBQVlDLE1BRDdCO0FBQUE7QUFBQSx1QkFFc0IsOEJBQVlGLE1BQVosQ0FGdEI7O0FBQUE7QUFFTUcsZ0JBQUFBLE9BRk47QUFHRUwsZ0JBQUFBLEdBQUcsQ0FBQ00sTUFBSixDQUFXLG1CQUFYLEVBQWdDO0FBQUVELGtCQUFBQSxPQUFPLEVBQUVBO0FBQVgsaUJBQWhDOztBQUhGO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLE87Ozs7Ozs7Ozs7O21GQUtBLGtCQUFvQk4sR0FBcEIsRUFBeUJDLEdBQXpCLEVBQThCQyxJQUE5QjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDRU0sZ0JBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZVCxHQUFHLENBQUNVLElBQWhCOztBQUNBLG9CQUFJLENBQUNWLEdBQUcsQ0FBQ1UsSUFBVCxFQUFlO0FBQ2JWLGtCQUFBQSxHQUFHLENBQUNXLElBQUosQ0FBU0MsS0FBVCxHQUFpQixFQUFqQjtBQUNELGlCQUZELE1BRU87QUFDTFosa0JBQUFBLEdBQUcsQ0FBQ1csSUFBSixDQUFTQyxLQUFULEdBQWlCWixHQUFHLENBQUNVLElBQUosQ0FBU0csUUFBMUI7QUFDRDs7QUFOSDtBQUFBLHVCQU82Qiw2QkFBV2IsR0FBRyxDQUFDVyxJQUFmLENBUDdCOztBQUFBO0FBT01HLGdCQUFBQSxjQVBOOztBQVFFLG9CQUFJQSxjQUFKLEVBQW9CO0FBQ2xCYixrQkFBQUEsR0FBRyxDQUFDYyxRQUFKLENBQWEsT0FBYjtBQUNELGlCQUZELE1BRU87QUFDTFAsa0JBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLGlCQUFaO0FBQ0Q7O0FBWkg7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsTzs7Ozs7Ozs7Ozs7d0ZBY0Esa0JBQXlCVCxHQUF6QixFQUE4QkMsR0FBOUIsRUFBbUNDLElBQW5DO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLHVCQUMyQiwrREFDdkJGLEdBQUcsQ0FBQ0ksT0FBSixDQUFZQyxNQURXLEVBRXZCLENBRnVCLENBRDNCOztBQUFBO0FBQ01XLGdCQUFBQSxZQUROO0FBQUEsdURBTTBCQSxZQU4xQjs7QUFBQTtBQU1FLHNFQUFzQztBQUE3QkMsb0JBQUFBLFdBQTZCO0FBQ3BDQSxvQkFBQUEsV0FBVyxDQUFDQyxPQUFaLEdBQXNCRCxXQUFXLENBQUMsNEJBQUQsQ0FBakM7QUFDRDtBQVJIO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBVUVoQixnQkFBQUEsR0FBRyxDQUFDTSxNQUFKLENBQVcseUJBQVgsRUFBc0M7QUFBRVMsa0JBQUFBLFlBQVksRUFBRUE7QUFBaEIsaUJBQXRDOztBQVZGO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLE87Ozs7Ozs7Ozs7Ozs7QUFhRkcsTUFBTSxDQUFDQyxPQUFQLEdBQWlCLElBQUlyQixjQUFKLEVBQWpCIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9tYWMvRGVza3RvcC9GaW5hbF9Qcm9qZWN0X0RUVS9zcmMvYXBwL2NvbnRyb2xsZXJzLyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKFwiZXhwcmVzc1wiKTtcclxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcclxuaW1wb3J0IHsgZ2V0VXNlckJ5SWQsIHVwZGF0ZVVzZXIgfSBmcm9tIFwiLi4vc2VydmljZS9Vc2VyU2VydmljZVwiO1xyXG5pbXBvcnQge1xyXG4gIGdldEFwcG9pbnRtZW50c0J5VXNlcklELFxyXG4gIGdldEFwcG9pbnRtZW50c0FuZFRyYW5zYWN0aW9uc0J5VXNlcklELFxyXG59IGZyb20gXCIuLi9zZXJ2aWNlL0FwcG9pbm1lbnRTZXJ2aWNlXCI7XHJcbmNsYXNzIFVzZXJDb250cm9sbGVyIHtcclxuICBhc3luYyBpbmRleChyZXEsIHJlcywgbmV4dCkge1xyXG4gICAgY29uc3QgdXNlcklkID0gcmVxLnNlc3Npb24udXNlcklEO1xyXG4gICAgbGV0IGFjY291bnQgPSBhd2FpdCBnZXRVc2VyQnlJZCh1c2VySWQpO1xyXG4gICAgLy9yZXMucmVuZGVyKFwidXNlci9lZGl0X3Byb2ZpbGVcIiwgeyBhY2NvdW50OiBhY2NvdW50IH0pO1xyXG4gICAgcmVzLnJlbmRlcihcInVzZXIvcHJvZmlsZVwiLCB7IGFjY291bnQ6IGFjY291bnQgfSk7XHJcbiAgfVxyXG4gIGFzeW5jIHVwZGF0ZUFjY291bnRWaWV3KHJlcSwgcmVzLCBuZXh0KSB7XHJcbiAgICBjb25zdCB1c2VySWQgPSByZXEuc2Vzc2lvbi51c2VySUQ7XHJcbiAgICBsZXQgYWNjb3VudCA9IGF3YWl0IGdldFVzZXJCeUlkKHVzZXJJZCk7XHJcbiAgICByZXMucmVuZGVyKFwidXNlci9lZGl0X3Byb2ZpbGVcIiwgeyBhY2NvdW50OiBhY2NvdW50IH0pO1xyXG4gIH1cclxuICBhc3luYyBjaGFuZ2VBY2NvdW50KHJlcSwgcmVzLCBuZXh0KSB7XHJcbiAgICBjb25zb2xlLmxvZyhyZXEuZmlsZSlcclxuICAgIGlmICghcmVxLmZpbGUpIHtcclxuICAgICAgcmVxLmJvZHkuaW1hZ2UgPSBcIlwiO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmVxLmJvZHkuaW1hZ2UgPSByZXEuZmlsZS5maWxlbmFtZVxyXG4gICAgfVxyXG4gICAgbGV0IGFjY291bnRDaGFuZ2VkID0gYXdhaXQgdXBkYXRlVXNlcihyZXEuYm9keSk7XHJcbiAgICBpZiAoYWNjb3VudENoYW5nZWQpIHtcclxuICAgICAgcmVzLnJlZGlyZWN0KFwiL3VzZXJcIik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zb2xlLmxvZyhcIkNoYW5nZSBmYWlsZWQgIVwiKTtcclxuICAgIH1cclxuICB9XHJcbiAgYXN5bmMgdHJhbnNhY3Rpb25IaXN0b3J5KHJlcSwgcmVzLCBuZXh0KSB7XHJcbiAgICBsZXQgYXBwb2ludG1lbnRzID0gYXdhaXQgZ2V0QXBwb2ludG1lbnRzQW5kVHJhbnNhY3Rpb25zQnlVc2VySUQoXHJcbiAgICAgIHJlcS5zZXNzaW9uLnVzZXJJRCxcclxuICAgICAgM1xyXG4gICAgKTtcclxuXHJcbiAgICBmb3IgKGxldCBhcHBvaW50bWVudCBvZiBhcHBvaW50bWVudHMpIHtcclxuICAgICAgYXBwb2ludG1lbnQuYmFsYW5jZSA9IGFwcG9pbnRtZW50W1wiVHJhbnNhY3Rpb25IaXN0b3J5LmJhbGFuY2VcIl07XHJcbiAgICB9XHJcblxyXG4gICAgcmVzLnJlbmRlcihcInVzZXIvdHJhbnNhY3Rpb25IaXN0b3J5XCIsIHsgYXBwb2ludG1lbnRzOiBhcHBvaW50bWVudHMgfSk7XHJcbiAgfVxyXG59XHJcbm1vZHVsZS5leHBvcnRzID0gbmV3IFVzZXJDb250cm9sbGVyKCk7XHJcbiJdfQ==","map":{"version":3,"sources":["UserController.js"],"names":["express","require","router","Router","UserController","req","res","next","userId","session","userID","account","render","console","log","file","body","image","filename","accountChanged","redirect","appointments","appointment","balance","module","exports"],"mappings":";;AAEA;;AACA;;;;;;;;;;;;;;;;;;AAHA,IAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,IAAMC,MAAM,GAAGF,OAAO,CAACG,MAAR,EAAf;;IAMMC,c;;;;;;;;2EACJ,iBAAYC,GAAZ,EAAiBC,GAAjB,EAAsBC,IAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AACQC,gBAAAA,MADR,GACiBH,GAAG,CAACI,OAAJ,CAAYC,MAD7B;AAAA;AAAA,uBAEsB,8BAAYF,MAAZ,CAFtB;;AAAA;AAEMG,gBAAAA,OAFN;AAGE;AACAL,gBAAAA,GAAG,CAACM,MAAJ,CAAW,cAAX,EAA2B;AAAED,kBAAAA,OAAO,EAAEA;AAAX,iBAA3B;;AAJF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,O;;;;;;;;;;;uFAMA,kBAAwBN,GAAxB,EAA6BC,GAA7B,EAAkCC,IAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AACQC,gBAAAA,MADR,GACiBH,GAAG,CAACI,OAAJ,CAAYC,MAD7B;AAAA;AAAA,uBAEsB,8BAAYF,MAAZ,CAFtB;;AAAA;AAEMG,gBAAAA,OAFN;AAGEL,gBAAAA,GAAG,CAACM,MAAJ,CAAW,mBAAX,EAAgC;AAAED,kBAAAA,OAAO,EAAEA;AAAX,iBAAhC;;AAHF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,O;;;;;;;;;;;mFAKA,kBAAoBN,GAApB,EAAyBC,GAAzB,EAA8BC,IAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AACEM,gBAAAA,OAAO,CAACC,GAAR,CAAYT,GAAG,CAACU,IAAhB;;AACA,oBAAI,CAACV,GAAG,CAACU,IAAT,EAAe;AACbV,kBAAAA,GAAG,CAACW,IAAJ,CAASC,KAAT,GAAiB,EAAjB;AACD,iBAFD,MAEO;AACLZ,kBAAAA,GAAG,CAACW,IAAJ,CAASC,KAAT,GAAiBZ,GAAG,CAACU,IAAJ,CAASG,QAA1B;AACD;;AANH;AAAA,uBAO6B,6BAAWb,GAAG,CAACW,IAAf,CAP7B;;AAAA;AAOMG,gBAAAA,cAPN;;AAQE,oBAAIA,cAAJ,EAAoB;AAClBb,kBAAAA,GAAG,CAACc,QAAJ,CAAa,OAAb;AACD,iBAFD,MAEO;AACLP,kBAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ;AACD;;AAZH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,O;;;;;;;;;;;wFAcA,kBAAyBT,GAAzB,EAA8BC,GAA9B,EAAmCC,IAAnC;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAC2B,+DACvBF,GAAG,CAACI,OAAJ,CAAYC,MADW,EAEvB,CAFuB,CAD3B;;AAAA;AACMW,gBAAAA,YADN;AAAA,uDAM0BA,YAN1B;;AAAA;AAME,sEAAsC;AAA7BC,oBAAAA,WAA6B;AACpCA,oBAAAA,WAAW,CAACC,OAAZ,GAAsBD,WAAW,CAAC,4BAAD,CAAjC;AACD;AARH;AAAA;AAAA;AAAA;AAAA;;AAUEhB,gBAAAA,GAAG,CAACM,MAAJ,CAAW,yBAAX,EAAsC;AAAES,kBAAAA,YAAY,EAAEA;AAAhB,iBAAtC;;AAVF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,O;;;;;;;;;;;;;AAaFG,MAAM,CAACC,OAAP,GAAiB,IAAIrB,cAAJ,EAAjB","sourceRoot":"/Users/mac/Desktop/Final_Project_DTU/src/app/controllers/","sourcesContent":["const express = require(\"express\");\r\nconst router = express.Router();\r\nimport { getUserById, updateUser } from \"../service/UserService\";\r\nimport {\r\n  getAppointmentsByUserID,\r\n  getAppointmentsAndTransactionsByUserID,\r\n} from \"../service/AppoinmentService\";\r\nclass UserController {\r\n  async index(req, res, next) {\r\n    const userId = req.session.userID;\r\n    let account = await getUserById(userId);\r\n    //res.render(\"user/edit_profile\", { account: account });\r\n    res.render(\"user/profile\", { account: account });\r\n  }\r\n  async updateAccountView(req, res, next) {\r\n    const userId = req.session.userID;\r\n    let account = await getUserById(userId);\r\n    res.render(\"user/edit_profile\", { account: account });\r\n  }\r\n  async changeAccount(req, res, next) {\r\n    console.log(req.file)\r\n    if (!req.file) {\r\n      req.body.image = \"\";\r\n    } else {\r\n      req.body.image = req.file.filename\r\n    }\r\n    let accountChanged = await updateUser(req.body);\r\n    if (accountChanged) {\r\n      res.redirect(\"/user\");\r\n    } else {\r\n      console.log(\"Change failed !\");\r\n    }\r\n  }\r\n  async transactionHistory(req, res, next) {\r\n    let appointments = await getAppointmentsAndTransactionsByUserID(\r\n      req.session.userID,\r\n      3\r\n    );\r\n\r\n    for (let appointment of appointments) {\r\n      appointment.balance = appointment[\"TransactionHistory.balance\"];\r\n    }\r\n\r\n    res.render(\"user/transactionHistory\", { appointments: appointments });\r\n  }\r\n}\r\nmodule.exports = new UserController();\r\n"]}},"mtime":1678719032323},"{\"sourceRoot\":\"/Users/mac/Desktop/Final_Project_DTU/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/mac/Desktop/Final_Project_DTU\",\"filename\":\"/Users/mac/Desktop/Final_Project_DTU/src/routes/account.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/mac/Desktop/Final_Project_DTU\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar express = require(\"express\");\n\nvar router = express.Router();\n\nvar multer = require(\"multer\");\n\nvar upload = multer({\n  dest: \"src/public/uploads/\"\n});\n\nvar accountController = require(\"../app/controllers/AccountController\");\n\nrouter.get(\"/delete/:id\", accountController.deleteAccount);\nrouter.get(\"/:id\", accountController.pageUpdate);\nrouter.get(\"/:status/:id\", accountController.changeStatus);\nrouter.post(\"/storeAccount\", accountController.storeAccount);\nrouter.post(\"/:id/edit\", accountController.newAccount);\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFjY291bnQuanMiXSwibmFtZXMiOlsiZXhwcmVzcyIsInJlcXVpcmUiLCJyb3V0ZXIiLCJSb3V0ZXIiLCJtdWx0ZXIiLCJ1cGxvYWQiLCJkZXN0IiwiYWNjb3VudENvbnRyb2xsZXIiLCJnZXQiLCJkZWxldGVBY2NvdW50IiwicGFnZVVwZGF0ZSIsImNoYW5nZVN0YXR1cyIsInBvc3QiLCJzdG9yZUFjY291bnQiLCJuZXdBY2NvdW50IiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFNQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQyxTQUFELENBQXZCOztBQUNBLElBQU1DLE1BQU0sR0FBR0YsT0FBTyxDQUFDRyxNQUFSLEVBQWY7O0FBQ0EsSUFBTUMsTUFBTSxHQUFHSCxPQUFPLENBQUMsUUFBRCxDQUF0Qjs7QUFDQSxJQUFNSSxNQUFNLEdBQUdELE1BQU0sQ0FBQztBQUNwQkUsRUFBQUEsSUFBSSxFQUFFO0FBRGMsQ0FBRCxDQUFyQjs7QUFJQSxJQUFNQyxpQkFBaUIsR0FBR04sT0FBTyxDQUFDLHNDQUFELENBQWpDOztBQUVBQyxNQUFNLENBQUNNLEdBQVAsQ0FBVyxhQUFYLEVBQTBCRCxpQkFBaUIsQ0FBQ0UsYUFBNUM7QUFDQVAsTUFBTSxDQUFDTSxHQUFQLENBQVcsTUFBWCxFQUFtQkQsaUJBQWlCLENBQUNHLFVBQXJDO0FBQ0FSLE1BQU0sQ0FBQ00sR0FBUCxDQUFXLGNBQVgsRUFBMkJELGlCQUFpQixDQUFDSSxZQUE3QztBQUNBVCxNQUFNLENBQUNVLElBQVAsQ0FBWSxlQUFaLEVBQTZCTCxpQkFBaUIsQ0FBQ00sWUFBL0M7QUFDQVgsTUFBTSxDQUFDVSxJQUFQLENBQVksV0FBWixFQUF5QkwsaUJBQWlCLENBQUNPLFVBQTNDO0FBRUFDLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQmQsTUFBakIiLCJzb3VyY2VSb290IjoiL1VzZXJzL21hYy9EZXNrdG9wL0ZpbmFsX1Byb2plY3RfRFRVL3NyYy9yb3V0ZXMvIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoXCJleHByZXNzXCIpO1xyXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xyXG5jb25zdCBtdWx0ZXIgPSByZXF1aXJlKFwibXVsdGVyXCIpO1xyXG5jb25zdCB1cGxvYWQgPSBtdWx0ZXIoe1xyXG4gIGRlc3Q6IFwic3JjL3B1YmxpYy91cGxvYWRzL1wiLFxyXG59KTtcclxuXHJcbmNvbnN0IGFjY291bnRDb250cm9sbGVyID0gcmVxdWlyZShcIi4uL2FwcC9jb250cm9sbGVycy9BY2NvdW50Q29udHJvbGxlclwiKTtcclxuXHJcbnJvdXRlci5nZXQoXCIvZGVsZXRlLzppZFwiLCBhY2NvdW50Q29udHJvbGxlci5kZWxldGVBY2NvdW50KTtcclxucm91dGVyLmdldChcIi86aWRcIiwgYWNjb3VudENvbnRyb2xsZXIucGFnZVVwZGF0ZSk7XHJcbnJvdXRlci5nZXQoXCIvOnN0YXR1cy86aWRcIiwgYWNjb3VudENvbnRyb2xsZXIuY2hhbmdlU3RhdHVzKTtcclxucm91dGVyLnBvc3QoXCIvc3RvcmVBY2NvdW50XCIsIGFjY291bnRDb250cm9sbGVyLnN0b3JlQWNjb3VudCk7XHJcbnJvdXRlci5wb3N0KFwiLzppZC9lZGl0XCIsIGFjY291bnRDb250cm9sbGVyLm5ld0FjY291bnQpO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7XHJcbiJdfQ==","map":{"version":3,"sources":["account.js"],"names":["express","require","router","Router","multer","upload","dest","accountController","get","deleteAccount","pageUpdate","changeStatus","post","storeAccount","newAccount","module","exports"],"mappings":";;AAAA,IAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,IAAMC,MAAM,GAAGF,OAAO,CAACG,MAAR,EAAf;;AACA,IAAMC,MAAM,GAAGH,OAAO,CAAC,QAAD,CAAtB;;AACA,IAAMI,MAAM,GAAGD,MAAM,CAAC;AACpBE,EAAAA,IAAI,EAAE;AADc,CAAD,CAArB;;AAIA,IAAMC,iBAAiB,GAAGN,OAAO,CAAC,sCAAD,CAAjC;;AAEAC,MAAM,CAACM,GAAP,CAAW,aAAX,EAA0BD,iBAAiB,CAACE,aAA5C;AACAP,MAAM,CAACM,GAAP,CAAW,MAAX,EAAmBD,iBAAiB,CAACG,UAArC;AACAR,MAAM,CAACM,GAAP,CAAW,cAAX,EAA2BD,iBAAiB,CAACI,YAA7C;AACAT,MAAM,CAACU,IAAP,CAAY,eAAZ,EAA6BL,iBAAiB,CAACM,YAA/C;AACAX,MAAM,CAACU,IAAP,CAAY,WAAZ,EAAyBL,iBAAiB,CAACO,UAA3C;AAEAC,MAAM,CAACC,OAAP,GAAiBd,MAAjB","sourceRoot":"/Users/mac/Desktop/Final_Project_DTU/src/routes/","sourcesContent":["const express = require(\"express\");\r\nconst router = express.Router();\r\nconst multer = require(\"multer\");\r\nconst upload = multer({\r\n  dest: \"src/public/uploads/\",\r\n});\r\n\r\nconst accountController = require(\"../app/controllers/AccountController\");\r\n\r\nrouter.get(\"/delete/:id\", accountController.deleteAccount);\r\nrouter.get(\"/:id\", accountController.pageUpdate);\r\nrouter.get(\"/:status/:id\", accountController.changeStatus);\r\nrouter.post(\"/storeAccount\", accountController.storeAccount);\r\nrouter.post(\"/:id/edit\", accountController.newAccount);\r\n\r\nmodule.exports = router;\r\n"]}},"mtime":1651628686000},"{\"sourceRoot\":\"/Users/mac/Desktop/Final_Project_DTU/src/app/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/mac/Desktop/Final_Project_DTU\",\"filename\":\"/Users/mac/Desktop/Final_Project_DTU/src/app/controllers/AccountController.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/mac/Desktop/Final_Project_DTU\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar _AccountService = require(\"../service/AccountService\");\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nvar express = require('express');\n\nvar router = express.Router();\n\nvar AccountController = /*#__PURE__*/function () {\n  function AccountController() {\n    _classCallCheck(this, AccountController);\n  }\n\n  _createClass(AccountController, [{\n    key: \"pageUpdate\",\n    value: //[GET];\n    function () {\n      var _pageUpdate = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(req, res, next) {\n        var account, acc, clinicOfDoctor, clinics, serviceOfDoctor;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return (0, _AccountService.getAccountById)(req.params.id);\n\n              case 2:\n                account = _context.sent;\n                acc = account[0];\n                clinicOfDoctor = account[1];\n                clinics = account[2];\n                serviceOfDoctor = account[3];\n\n                if (acc.roleID == 2) {\n                  acc.fee = serviceOfDoctor['fee'];\n                } else {\n                  acc.fee = '';\n                }\n\n                if (!account) {\n                  _context.next = 14;\n                  break;\n                }\n\n                if (!(acc.roleID == 2)) {\n                  _context.next = 13;\n                  break;\n                }\n\n                return _context.abrupt(\"return\", res.render('admin/account_update', {\n                  account: acc,\n                  clinicOfDoctor: clinicOfDoctor,\n                  clinics: clinics\n                }));\n\n              case 13:\n                return _context.abrupt(\"return\", res.render('admin/account_update', {\n                  account: acc,\n                  clinicOfDoctor: clinicOfDoctor,\n                  clinics: clinics\n                }));\n\n              case 14:\n                return _context.abrupt(\"return\", res.redirect('/back'));\n\n              case 15:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function pageUpdate(_x, _x2, _x3) {\n        return _pageUpdate.apply(this, arguments);\n      }\n\n      return pageUpdate;\n    }() //[POST]\n\n  }, {\n    key: \"storeAccount\",\n    value: function () {\n      var _storeAccount = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(req, res, next) {\n        var formData, newAccount;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                formData = req.body;\n\n                if (!(formData === null)) {\n                  _context2.next = 3;\n                  break;\n                }\n\n                return _context2.abrupt(\"return\", res.redirect('back'));\n\n              case 3:\n                _context2.next = 5;\n                return (0, _AccountService.createNewAccount)(formData);\n\n              case 5:\n                newAccount = _context2.sent;\n\n                if (newAccount) {\n                  _context2.next = 8;\n                  break;\n                }\n\n                return _context2.abrupt(\"return\", res.redirect('/error'));\n\n              case 8:\n                res.redirect('/admin/account');\n\n              case 9:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      function storeAccount(_x4, _x5, _x6) {\n        return _storeAccount.apply(this, arguments);\n      }\n\n      return storeAccount;\n    }() //[POST] UPDATE\n\n  }, {\n    key: \"newAccount\",\n    value: function () {\n      var _newAccount = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(req, res, next) {\n        var accountUpdate;\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                req.body.id = req.params.id;\n                _context3.next = 3;\n                return (0, _AccountService.updateAccount)(req.body);\n\n              case 3:\n                accountUpdate = _context3.sent;\n\n                if (!accountUpdate) {\n                  _context3.next = 6;\n                  break;\n                }\n\n                return _context3.abrupt(\"return\", res.redirect('/admin/account'));\n\n              case 6:\n                return _context3.abrupt(\"return\", console.log('update fail'));\n\n              case 7:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      function newAccount(_x7, _x8, _x9) {\n        return _newAccount.apply(this, arguments);\n      }\n\n      return newAccount;\n    }()\n  }, {\n    key: \"deleteAccount\",\n    value: function () {\n      var _deleteAccount = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(req, res, next) {\n        var acc;\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return (0, _AccountService.deleteAcc)(req.params.id);\n\n              case 2:\n                acc = _context4.sent;\n\n                if (!acc) {\n                  _context4.next = 5;\n                  break;\n                }\n\n                return _context4.abrupt(\"return\", res.redirect('back'));\n\n              case 5:\n                return _context4.abrupt(\"return\", console.log('delete fail'));\n\n              case 6:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4);\n      }));\n\n      function deleteAccount(_x10, _x11, _x12) {\n        return _deleteAccount.apply(this, arguments);\n      }\n\n      return deleteAccount;\n    }()\n  }, {\n    key: \"changeStatus\",\n    value: function changeStatus(req, res, next) {\n      req.body.id = req.params.id;\n      var changeAcc = (0, _AccountService.changeAccStatus)(req.body);\n      if (changeAcc) return res.redirect('back');\n      return console.log('change fail');\n    }\n  }]);\n\n  return AccountController;\n}();\n\nmodule.exports = new AccountController();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkFjY291bnRDb250cm9sbGVyLmpzIl0sIm5hbWVzIjpbImV4cHJlc3MiLCJyZXF1aXJlIiwicm91dGVyIiwiUm91dGVyIiwiQWNjb3VudENvbnRyb2xsZXIiLCJyZXEiLCJyZXMiLCJuZXh0IiwicGFyYW1zIiwiaWQiLCJhY2NvdW50IiwiYWNjIiwiY2xpbmljT2ZEb2N0b3IiLCJjbGluaWNzIiwic2VydmljZU9mRG9jdG9yIiwicm9sZUlEIiwiZmVlIiwicmVuZGVyIiwicmVkaXJlY3QiLCJmb3JtRGF0YSIsImJvZHkiLCJuZXdBY2NvdW50IiwiYWNjb3VudFVwZGF0ZSIsImNvbnNvbGUiLCJsb2ciLCJjaGFuZ2VBY2MiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOztBQUdBOzs7Ozs7Ozs7Ozs7QUFIQSxJQUFNQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQyxTQUFELENBQXZCOztBQUNBLElBQU1DLE1BQU0sR0FBR0YsT0FBTyxDQUFDRyxNQUFSLEVBQWY7O0lBVU1DLGlCOzs7Ozs7O1dBQ0o7O2dGQUNBLGlCQUFpQkMsR0FBakIsRUFBc0JDLEdBQXRCLEVBQTJCQyxJQUEzQjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLHVCQUNzQixvQ0FBZUYsR0FBRyxDQUFDRyxNQUFKLENBQVdDLEVBQTFCLENBRHRCOztBQUFBO0FBQ01DLGdCQUFBQSxPQUROO0FBR01DLGdCQUFBQSxHQUhOLEdBR1lELE9BQU8sQ0FBQyxDQUFELENBSG5CO0FBSU1FLGdCQUFBQSxjQUpOLEdBSXVCRixPQUFPLENBQUMsQ0FBRCxDQUo5QjtBQUtNRyxnQkFBQUEsT0FMTixHQUtnQkgsT0FBTyxDQUFDLENBQUQsQ0FMdkI7QUFNTUksZ0JBQUFBLGVBTk4sR0FNd0JKLE9BQU8sQ0FBQyxDQUFELENBTi9COztBQU9FLG9CQUFJQyxHQUFHLENBQUNJLE1BQUosSUFBYyxDQUFsQixFQUFxQjtBQUNuQkosa0JBQUFBLEdBQUcsQ0FBQ0ssR0FBSixHQUFVRixlQUFl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QUFDM0JGLE1BQUFBLEdBQUcsQ0FBQ2UsSUFBSixDQUFTWCxFQUFULEdBQWNKLEdBQUcsQ0FBQ0csTUFBSixDQUFXQyxFQUF6QjtBQUVBLFVBQUlnQixTQUFTLEdBQUcscUNBQWdCcEIsR0FBRyxDQUFDZSxJQUFwQixDQUFoQjtBQUVBLFVBQUlLLFNBQUosRUFBZSxPQUFPbkIsR0FBRyxDQUFDWSxRQUFKLENBQWEsTUFBYixDQUFQO0FBRWYsYUFBT0ssT0FBTyxDQUFDQyxHQUFSLENBQVksYUFBWixDQUFQO0FBQ0Q7Ozs7OztBQUdIRSxNQUFNLENBQUNDLE9BQVAsR0FBaUIsSUFBSXZCLGlCQUFKLEVBQWpCIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9tYWMvRGVza3RvcC9GaW5hbF9Qcm9qZWN0X0RUVS9zcmMvYXBwL2NvbnRyb2xsZXJzLyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKCdleHByZXNzJyk7XHJcbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XHJcblxyXG5pbXBvcnQge1xyXG4gIGNoYW5nZUFjY1N0YXR1cyxcclxuICBjcmVhdGVOZXdBY2NvdW50LFxyXG4gIHVwZGF0ZUFjY291bnQsXHJcbiAgZ2V0QWNjb3VudEJ5SWQsXHJcbiAgZGVsZXRlQWNjLFxyXG59IGZyb20gJy4uL3NlcnZpY2UvQWNjb3VudFNlcnZpY2UnO1xyXG5cclxuY2xhc3MgQWNjb3VudENvbnRyb2xsZXIge1xyXG4gIC8vW0dFVF07XHJcbiAgYXN5bmMgcGFnZVVwZGF0ZShyZXEsIHJlcywgbmV4dCkge1xyXG4gICAgbGV0IGFjY291bnQgPSBhd2FpdCBnZXRBY2NvdW50QnlJZChyZXEucGFyYW1zLmlkKTtcclxuXHJcbiAgICBsZXQgYWNjID0gYWNjb3VudFswXTtcclxuICAgIGxldCBjbGluaWNPZkRvY3RvciA9IGFjY291bnRbMV07XHJcbiAgICBsZXQgY2xpbmljcyA9IGFjY291bnRbMl07XHJcbiAgICBsZXQgc2VydmljZU9mRG9jdG9yID0gYWNjb3VudFszXTtcclxuICAgIGlmIChhY2Mucm9sZUlEID09IDIpIHtcclxuICAgICAgYWNjLmZlZSA9IHNlcnZpY2VPZkRvY3RvclsnZmVlJ107XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBhY2MuZmVlID0gJyc7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGFjY291bnQpXHJcbiAgICAgIGlmIChhY2Mucm9sZUlEID09IDIpIHtcclxuICAgICAgICByZXR1cm4gcmVzLnJlbmRlcignYWRtaW4vYWNjb3VudF91cGRhdGUnLCB7XHJcbiAgICAgICAgICBhY2NvdW50OiBhY2MsXHJcbiAgICAgICAgICBjbGluaWNPZkRvY3RvcixcclxuICAgICAgICAgIGNsaW5pY3MsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5yZW5kZXIoJ2FkbWluL2FjY291bnRfdXBkYXRlJywge1xyXG4gICAgICAgICAgYWNjb3VudDogYWNjLFxyXG4gICAgICAgICAgY2xpbmljT2ZEb2N0b3IsXHJcbiAgICAgICAgICBjbGluaWNzLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgcmV0dXJuIHJlcy5yZWRpcmVjdCgnL2JhY2snKTtcclxuICB9XHJcblxyXG4gIC8vW1BPU1RdXHJcbiAgYXN5bmMgc3RvcmVBY2NvdW50KHJlcSwgcmVzLCBuZXh0KSB7XHJcbiAgICBsZXQgZm9ybURhdGEgPSByZXEuYm9keTtcclxuXHJcbiAgICBpZiAoZm9ybURhdGEgPT09IG51bGwpIHJldHVybiByZXMucmVkaXJlY3QoJ2JhY2snKTtcclxuXHJcbiAgICBsZXQgbmV3QWNjb3VudCA9IGF3YWl0IGNyZWF0ZU5ld0FjY291bnQoZm9ybURhdGEpO1xyXG5cclxuICAgIGlmICghbmV3QWNjb3VudCkgcmV0dXJuIHJlcy5yZWRpcmVjdCgnL2Vycm9yJyk7XHJcblxyXG4gICAgcmVzLnJlZGlyZWN0KCcvYWRtaW4vYWNjb3VudCcpO1xyXG4gIH1cclxuXHJcbiAgLy9bUE9TVF0gVVBEQVRFXHJcbiAgYXN5bmMgbmV3QWNjb3VudChyZXEsIHJlcywgbmV4dCkge1xyXG4gICAgcmVxLmJvZHkuaWQgPSByZXEucGFyYW1zLmlkO1xyXG5cclxuICAgIGxldCBhY2NvdW50VXBkYXRlID0gYXdhaXQgdXBkYXRlQWNjb3VudChyZXEuYm9keSk7XHJcblxyXG4gICAgaWYgKGFjY291bnRVcGRhdGUpIHJldHVybiByZXMucmVkaXJlY3QoJy9hZG1pbi9hY2NvdW50Jyk7XHJcblxyXG4gICAgcmV0dXJuIGNvbnNvbGUubG9nKCd1cGRhdGUgZmFpbCcpO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgZGVsZXRlQWNjb3VudChyZXEsIHJlcywgbmV4dCkge1xyXG4gICAgbGV0IGFjYyA9IGF3YWl0IGRlbGV0ZUFjYyhyZXEucGFyYW1zLmlkKTtcclxuXHJcbiAgICBpZiAoYWNjKSByZXR1cm4gcmVzLnJlZGlyZWN0KCdiYWNrJyk7XHJcblxyXG4gICAgcmV0dXJuIGNvbnNvbGUubG9nKCdkZWxldGUgZmFpbCcpO1xyXG4gIH1cclxuXHJcbiAgY2hhbmdlU3RhdHVzKHJlcSwgcmVzLCBuZXh0KSB7XHJcbiAgICByZXEuYm9keS5pZCA9IHJlcS5wYXJhbXMuaWQ7XHJcblxyXG4gICAgbGV0IGNoYW5nZUFjYyA9IGNoYW5nZUFjY1N0YXR1cyhyZXEuYm9keSk7XHJcblxyXG4gICAgaWYgKGNoYW5nZUFjYykgcmV0dXJuIHJlcy5yZWRpcmVjdCgnYmFjaycpO1xyXG5cclxuICAgIHJldHVybiBjb25zb2xlLmxvZygnY2hhbmdlIGZhaWwnKTtcclxuICB9XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gbmV3IEFjY291bnRDb250cm9sbGVyKCk7XHJcbiJdfQ==","map":{"version":3,"sources":["AccountController.js"],"names":["express","require","router","Router","AccountController","req","res","next","params","id","account","acc","clinicOfDoctor","clinics","serviceOfDoctor","roleID","fee","render","redirect","formData","body","newAccount","accountUpdate","console","log","changeAcc","module","exports"],"mappings":"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","sourceRoot":"/Users/mac/Desktop/Final_Project_DTU/src/app/controllers/","sourcesContent":["const express = require('express');\r\nconst router = express.Router();\r\n\r\nimport {\r\n  changeAccStatus,\r\n  createNewAccount,\r\n  updateAccount,\r\n  getAccountById,\r\n  deleteAcc,\r\n} from '../service/AccountService';\r\n\r\nclass AccountController {\r\n  //[GET];\r\n  async pageUpdate(req, res, next) {\r\n    let account = await getAccountById(req.params.id);\r\n\r\n    let acc = account[0];\r\n    let clinicOfDoctor = account[1];\r\n    let clinics = account[2];\r\n    let serviceOfDoctor = account[3];\r\n    if (acc.roleID == 2) {\r\n      acc.fee = serviceOfDoctor['fee'];\r\n    } else {\r\n      acc.fee = '';\r\n    }\r\n\r\n    if (account)\r\n      if (acc.roleID == 2) {\r\n        return res.render('admin/account_update', {\r\n          account: acc,\r\n          clinicOfDoctor,\r\n          clinics,\r\n        });\r\n      } else {\r\n        return res.render('admin/account_update', {\r\n          account: acc,\r\n          clinicOfDoctor,\r\n          clinics,\r\n        });\r\n      }\r\n\r\n    return res.redirect('/back');\r\n  }\r\n\r\n  //[POST]\r\n  async storeAccount(req, res, next) {\r\n    let formData = req.body;\r\n\r\n    if (formData === null) return res.redirect('back');\r\n\r\n    let newAccount = await createNewAccount(formData);\r\n\r\n    if (!newAccount) return res.redirect('/error');\r\n\r\n    res.redirect('/admin/account');\r\n  }\r\n\r\n  //[POST] UPDATE\r\n  async newAccount(req, res, next) {\r\n    req.body.id = req.params.id;\r\n\r\n    let accountUpdate = await updateAccount(req.body);\r\n\r\n    if (accountUpdate) return res.redirect('/admin/account');\r\n\r\n    return console.log('update fail');\r\n  }\r\n\r\n  async deleteAccount(req, res, next) {\r\n    let acc = await deleteAcc(req.params.id);\r\n\r\n    if (acc) return res.redirect('back');\r\n\r\n    return console.log('delete fail');\r\n  }\r\n\r\n  changeStatus(req, res, next) {\r\n    req.body.id = req.params.id;\r\n\r\n    let changeAcc = changeAccStatus(req.body);\r\n\r\n    if (changeAcc) return res.redirect('back');\r\n\r\n    return console.log('change fail');\r\n  }\r\n}\r\n\r\nmodule.exports = new AccountController();\r\n"]}},"mtime":1651628686000},"{\"sourceRoot\":\"/Users/mac/Desktop/Final_Project_DTU/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/mac/Desktop/Final_Project_DTU\",\"filename\":\"/Users/mac/Desktop/Final_Project_DTU/src/routes/booking.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/mac/Desktop/Final_Project_DTU\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar express = require(\"express\");\n\nvar router = express.Router();\n\nvar multer = require(\"multer\");\n\nvar upload = multer({\n  dest: \"src/public/uploads/\"\n});\n\nvar bookingController = require(\"../app/controllers/BookingController\");\n\nrouter.post(\"/createAppointment\", bookingController.createAppointment);\nrouter.post(\"/bookingform\", bookingController.index);\nrouter.use(\"/displayBookingForm\", bookingController.displayBookingForm);\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJvb2tpbmcuanMiXSwibmFtZXMiOlsiZXhwcmVzcyIsInJlcXVpcmUiLCJyb3V0ZXIiLCJSb3V0ZXIiLCJtdWx0ZXIiLCJ1cGxvYWQiLCJkZXN0IiwiYm9va2luZ0NvbnRyb2xsZXIiLCJwb3N0IiwiY3JlYXRlQXBwb2ludG1lbnQiLCJpbmRleCIsInVzZSIsImRpc3BsYXlCb29raW5nRm9ybSIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBSUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBRCxDQUFyQjs7QUFDQSxJQUFJQyxNQUFNLEdBQUdGLE9BQU8sQ0FBQ0csTUFBUixFQUFiOztBQUNBLElBQUlDLE1BQU0sR0FBR0gsT0FBTyxDQUFDLFFBQUQsQ0FBcEI7O0FBQ0EsSUFBTUksTUFBTSxHQUFHRCxNQUFNLENBQUM7QUFDcEJFLEVBQUFBLElBQUksRUFBRTtBQURjLENBQUQsQ0FBckI7O0FBSUEsSUFBTUMsaUJBQWlCLEdBQUdOLE9BQU8sQ0FBQyxzQ0FBRCxDQUFqQzs7QUFFQUMsTUFBTSxDQUFDTSxJQUFQLENBQVksb0JBQVosRUFBa0NELGlCQUFpQixDQUFDRSxpQkFBcEQ7QUFDQVAsTUFBTSxDQUFDTSxJQUFQLENBQVksY0FBWixFQUE0QkQsaUJBQWlCLENBQUNHLEtBQTlDO0FBQ0FSLE1BQU0sQ0FBQ1MsR0FBUCxDQUFXLHFCQUFYLEVBQWtDSixpQkFBaUIsQ0FBQ0ssa0JBQXBEO0FBQ0FDLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQlosTUFBakIiLCJzb3VyY2VSb290IjoiL1VzZXJzL21hYy9EZXNrdG9wL0ZpbmFsX1Byb2plY3RfRFRVL3NyYy9yb3V0ZXMvIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGV4cHJlc3MgPSByZXF1aXJlKFwiZXhwcmVzc1wiKTtcclxudmFyIHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XHJcbmxldCBtdWx0ZXIgPSByZXF1aXJlKFwibXVsdGVyXCIpO1xyXG5jb25zdCB1cGxvYWQgPSBtdWx0ZXIoe1xyXG4gIGRlc3Q6IFwic3JjL3B1YmxpYy91cGxvYWRzL1wiLFxyXG59KTtcclxuXHJcbmNvbnN0IGJvb2tpbmdDb250cm9sbGVyID0gcmVxdWlyZShcIi4uL2FwcC9jb250cm9sbGVycy9Cb29raW5nQ29udHJvbGxlclwiKTtcclxuXHJcbnJvdXRlci5wb3N0KFwiL2NyZWF0ZUFwcG9pbnRtZW50XCIsIGJvb2tpbmdDb250cm9sbGVyLmNyZWF0ZUFwcG9pbnRtZW50KTtcclxucm91dGVyLnBvc3QoXCIvYm9va2luZ2Zvcm1cIiwgYm9va2luZ0NvbnRyb2xsZXIuaW5kZXgpO1xyXG5yb3V0ZXIudXNlKFwiL2Rpc3BsYXlCb29raW5nRm9ybVwiLCBib29raW5nQ29udHJvbGxlci5kaXNwbGF5Qm9va2luZ0Zvcm0pO1xyXG5tb2R1bGUuZXhwb3J0cyA9IHJvdXRlcjtcclxuIl19","map":{"version":3,"sources":["booking.js"],"names":["express","require","router","Router","multer","upload","dest","bookingController","post","createAppointment","index","use","displayBookingForm","module","exports"],"mappings":";;AAAA,IAAIA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAArB;;AACA,IAAIC,MAAM,GAAGF,OAAO,CAACG,MAAR,EAAb;;AACA,IAAIC,MAAM,GAAGH,OAAO,CAAC,QAAD,CAApB;;AACA,IAAMI,MAAM,GAAGD,MAAM,CAAC;AACpBE,EAAAA,IAAI,EAAE;AADc,CAAD,CAArB;;AAIA,IAAMC,iBAAiB,GAAGN,OAAO,CAAC,sCAAD,CAAjC;;AAEAC,MAAM,CAACM,IAAP,CAAY,oBAAZ,EAAkCD,iBAAiB,CAACE,iBAApD;AACAP,MAAM,CAACM,IAAP,CAAY,cAAZ,EAA4BD,iBAAiB,CAACG,KAA9C;AACAR,MAAM,CAACS,GAAP,CAAW,qBAAX,EAAkCJ,iBAAiB,CAACK,kBAApD;AACAC,MAAM,CAACC,OAAP,GAAiBZ,MAAjB","sourceRoot":"/Users/mac/Desktop/Final_Project_DTU/src/routes/","sourcesContent":["var express = require(\"express\");\r\nvar router = express.Router();\r\nlet multer = require(\"multer\");\r\nconst upload = multer({\r\n  dest: \"src/public/uploads/\",\r\n});\r\n\r\nconst bookingController = require(\"../app/controllers/BookingController\");\r\n\r\nrouter.post(\"/createAppointment\", bookingController.createAppointment);\r\nrouter.post(\"/bookingform\", bookingController.index);\r\nrouter.use(\"/displayBookingForm\", bookingController.displayBookingForm);\r\nmodule.exports = router;\r\n"]}},"mtime":1651628686000},"{\"sourceRoot\":\"/Users/mac/Desktop/Final_Project_DTU/src/app/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/mac/Desktop/Final_Project_DTU\",\"filename\":\"/Users/mac/Desktop/Final_Project_DTU/src/app/controllers/BookingController.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/mac/Desktop/Final_Project_DTU\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar _appoinment = _interopRequireDefault(require(\"../models/appoinment\"));\n\nvar _AppoinmentService = require(\"../service/AppoinmentService\");\n\nvar _NotificationService = require(\"../service/NotificationService\");\n\nvar _UserService = require(\"../service/UserService\");\n\nvar _TransactionHistoryService = require(\"../service/TransactionHistoryService\");\n\nvar _socketServer = require(\"../../public/script/socketServer\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nvar express = require(\"express\");\n\nvar moment = require(\"moment\");\n\nvar app = express();\n\nvar server = require(\"http\").Server(app);\n\nvar io = require(\"socket.io\")(server);\n\nvar router = express.Router();\n\nvar _require = require(\"uuid\"),\n    uuidv4 = _require.v4;\n\nvar BookingController = /*#__PURE__*/function () {\n  function BookingController() {\n    _classCallCheck(this, BookingController);\n  }\n\n  _createClass(BookingController, [{\n    key: \"index\",\n    value: function () {\n      var _index = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(req, res, next) {\n        var user, doctor, date, timeStart, timeEnd, serviceFee, bookingDetail;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return (0, _UserService.getUserById)(req.session.userID);\n\n              case 2:\n                user = _context.sent;\n                _context.next = 5;\n                return (0, _UserService.getUserById)(req.body.doctorID);\n\n              case 5:\n                doctor = _context.sent;\n                date = req.body.date;\n\n                if (date == '') {\n                  console.log(\"time is blank\");\n                }\n\n                timeStart = req.body.timeStart;\n                timeEnd = req.body.timeEnd;\n                serviceFee = req.body.serviceFee;\n                bookingDetail = {\n                  user: user,\n                  doctor: doctor,\n                  serviceFee: serviceFee,\n                  date: date,\n                  timeStart: timeStart,\n                  timeEnd: timeEnd\n                };\n                req.session.bookingDetail = bookingDetail;\n                res.redirect(\"/booking/displayBookingForm\");\n\n              case 14:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function index(_x, _x2, _x3) {\n        return _index.apply(this, arguments);\n      }\n\n      return index;\n    }()\n  }, {\n    key: \"displayBookingForm\",\n    value: function displayBookingForm(req, res) {\n      var bookingDetail = req.session.bookingDetail;\n      res.render(\"user/booking-form\", {\n        bookingDetail: bookingDetail,\n        errorMessage: req.session.error,\n        successfullyMessage: req.session.successfullyMessage\n      });\n\n      if (req.session.error) {\n        req.session.error = null;\n      }\n\n      if (req.session.successfullyMessage) {\n        req.session.successfullyMessage = null;\n      }\n\n      if (req.session.appointmentId) {\n        req.session.appointmentId = null;\n      } //req.session.bookingDetail = null;\n\n    }\n  }, {\n    key: \"createAppointment\",\n    value: function () {\n      var _createAppointment = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(req, res, next) {\n        var userID, roleID, user, userAppointment, doctorAppointment, startTime, date, newAppointmentId, amountForDoctor, titleNotificationForAppointment, contentNotificationForAppointment, notification, newNotification;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.prev = 0;\n                userID = req.session.userID;\n                roleID = req.session.roleID;\n                _context2.next = 5;\n                return (0, _UserService.getUserById)(userID);\n\n              case 5:\n                user = _context2.sent;\n                _context2.next = 8;\n                return (0, _AppoinmentService.getAppointmentsByUserID)(userID, roleID);\n\n              case 8:\n                userAppointment = _context2.sent;\n                _context2.next = 11;\n                return (0, _AppoinmentService.getAppointmentsByUserID)(req.body.doctorID, 2);\n\n              case 11:\n                doctorAppointment = _context2.sent;\n                startTime = req.body.startTime;\n                date = req.body.date;\n\n                if (!((0, _AppoinmentService.checkingAvailableTime)(startTime, date, userAppointment) === false || (0, _AppoinmentService.checkingAvailableTime)(startTime, date, doctorAppointment) === false)) {\n                  _context2.next = 19;\n                  break;\n                }\n\n                req.session.error = \"Bạn không thể đặt lịch vào thời gian này!\";\n                res.redirect(\"back\");\n                _context2.next = 51;\n                break;\n\n              case 19:\n                if (!(user.balance < req.body.serviceFee)) {\n                  _context2.next = 24;\n                  break;\n                }\n\n                req.session.error = \"Số xu của bạn không đủ ! bạn có thể nạp thêm xu \";\n                res.redirect(\"back\");\n                _context2.next = 51;\n                break;\n\n              case 24:\n                req.body.id = uuidv4();\n                _context2.next = 27;\n                return (0, _AppoinmentService.createNewAppointment)(userID, req.body);\n\n              case 27:\n                newAppointmentId = _context2.sent;\n                console.log(newAppointmentId);\n\n                if (!newAppointmentId) {\n                  _context2.next = 50;\n                  break;\n                }\n\n                amountForDoctor = req.body.serviceFee * 70 / 100;\n                _context2.next = 33;\n                return (0, _UserService.addBalanceById)(req.body.doctorID, amountForDoctor);\n\n              case 33:\n                _context2.next = 35;\n                return (0, _UserService.minusBalanceById)(userID, req.body.serviceFee);\n\n              case 35:\n                _context2.next = 37;\n                return (0, _TransactionHistoryService.createNewTransactionHistory)(userID, req.body, newAppointmentId);\n\n              case 37:\n                req.session.successfullyMessage = \"Đặt lịch thành công\"; //create notification\n\n                titleNotificationForAppointment = \"Thông Báo Lịch Hẹn\";\n                contentNotificationForAppointment = \"Vừa có lịch hẹn được đặt, bạn có thể kiểm tra lịch !\";\n                notification = {\n                  appointmentId: newAppointmentId,\n                  title: titleNotificationForAppointment,\n                  content: contentNotificationForAppointment,\n                  link: \"/job?date=2022-05-04\",\n                  fromUserID: userID,\n                  doctorID: req.body.doctorID\n                }; //create Notification in db\n\n                _context2.next = 43;\n                return (0, _NotificationService.createNotification)(notification);\n\n              case 43:\n                newNotification = _context2.sent;\n                //create Notification in client side\n                (0, _socketServer.serverNotification)(io, notification);\n                req.session.messageBooking = \"Bạn đã đặt lịch thành công, bạn có thể vào lịch cá nhân để kiểm tra !\";\n                res.redirect(\"/detailDoctor/\".concat(req.body.doctorID)); //clear req.session.bookingDetail\n\n                req.session.bookingDetail = null;\n                _context2.next = 51;\n                break;\n\n              case 50:\n                console.log(\"error\");\n\n              case 51:\n                _context2.next = 56;\n                break;\n\n              case 53:\n                _context2.prev = 53;\n                _context2.t0 = _context2[\"catch\"](0);\n                console.log(_context2.t0);\n\n              case 56:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, null, [[0, 53]]);\n      }));\n\n      function createAppointment(_x4, _x5, _x6) {\n        return _createAppointment.apply(this, arguments);\n      }\n\n      return createAppointment;\n    }()\n  }]);\n\n  return BookingController;\n}();\n\nmodule.exports = new BookingController();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkJvb2tpbmdDb250cm9sbGVyLmpzIl0sIm5hbWVzIjpbImV4cHJlc3MiLCJyZXF1aXJlIiwibW9tZW50IiwiYXBwIiwic2VydmVyIiwiU2VydmVyIiwiaW8iLCJyb3V0ZXIiLCJSb3V0ZXIiLCJ1dWlkdjQiLCJ2NCIsIkJvb2tpbmdDb250cm9sbGVyIiwicmVxIiwicmVzIiwibmV4dCIsInNlc3Npb24iLCJ1c2VySUQiLCJ1c2VyIiwiYm9keSIsImRvY3RvcklEIiwiZG9jdG9yIiwiZGF0ZSIsImNvbnNvbGUiLCJsb2ciLCJ0aW1lU3RhcnQiLCJ0aW1lRW5kIiwic2VydmljZUZlZSIsImJvb2tpbmdEZXRhaWwiLCJyZWRpcmVjdCIsInJlbmRlciIsImVycm9yTWVzc2FnZSIsImVycm9yIiwic3VjY2Vzc2Z1bGx5TWVzc2FnZSIsImFwcG9pbnRtZW50SWQiLCJyb2xlSUQiLCJ1c2VyQXBwb2ludG1lbnQiLCJkb2N0b3JBcHBvaW50bWVudCIsInN0YXJ0VGltZSIsImJhbGFuY2UiLCJpZCIsIm5ld0FwcG9pbnRtZW50SWQiLCJhbW91bnRGb3JEb2N0b3IiLCJ0aXRsZU5vdGlmaWNhdGlvbkZvckFwcG9pbnRtZW50IiwiY29udGVudE5vdGlmaWNhdGlvbkZvckFwcG9pbnRtZW50Iiwibm90aWZpY2F0aW9uIiwidGl0bGUiLCJjb250ZW50IiwibGluayIsImZyb21Vc2VySUQiLCJuZXdOb3RpZmljYXRpb24iLCJtZXNzYWdlQm9va2luZyIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7O0FBUUE7O0FBRUE7O0FBT0E7O0FBSUE7O0FBS0E7O0FBRUE7Ozs7Ozs7Ozs7Ozs7O0FBNUJBLElBQU1BLE9BQU8sR0FBR0MsT0FBTyxDQUFDLFNBQUQsQ0FBdkI7O0FBQ0EsSUFBTUMsTUFBTSxHQUFHRCxPQUFPLENBQUMsUUFBRCxDQUF0Qjs7QUFDQSxJQUFNRSxHQUFHLEdBQUdILE9BQU8sRUFBbkI7O0FBQ0EsSUFBTUksTUFBTSxHQUFHSCxPQUFPLENBQUMs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LEdBQUcsQ0FBQ00sSUFBSixDQUFTQztBQU5BLGlCQXBDN0IsRUE2Q1E7O0FBN0NSO0FBQUEsdUJBOENvQyw2Q0FBbUJ5QixZQUFuQixDQTlDcEM7O0FBQUE7QUE4Q1lLLGdCQUFBQSxlQTlDWjtBQStDUTtBQUNBLHNEQUFtQjNDLEVBQW5CLEVBQXVCc0MsWUFBdkI7QUFDQWhDLGdCQUFBQSxHQUFHLENBQUNHLE9BQUosQ0FBWW1DLGNBQVosR0FDRSx1RUFERjtBQUVBckMsZ0JBQUFBLEdBQUcsQ0FBQ2UsUUFBSix5QkFBOEJoQixHQUFHLENBQUNNLElBQUosQ0FBU0MsUUFBdkMsR0FuRFIsQ0FvRFE7O0FBQ0FQLGdCQUFBQSxHQUFHLENBQUNHLE9BQUosQ0FBWVksYUFBWixHQUE0QixJQUE1QjtBQXJEUjtBQUFBOztBQUFBO0FBdURRTCxnQkFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVksT0FBWjs7QUF2RFI7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQTJESUQsZ0JBQUFBLE9BQU8sQ0FBQ0MsR0FBUjs7QUEzREo7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsTzs7Ozs7Ozs7Ozs7OztBQWdFRjRCLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQixJQUFJekMsaUJBQUosRUFBakIiLCJzb3VyY2VSb290IjoiL1VzZXJzL21hYy9EZXNrdG9wL0ZpbmFsX1Byb2plY3RfRFRVL3NyYy9hcHAvY29udHJvbGxlcnMvIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoXCJleHByZXNzXCIpO1xyXG5jb25zdCBtb21lbnQgPSByZXF1aXJlKFwibW9tZW50XCIpO1xyXG5jb25zdCBhcHAgPSBleHByZXNzKCk7XHJcbmNvbnN0IHNlcnZlciA9IHJlcXVpcmUoXCJodHRwXCIpLlNlcnZlcihhcHApO1xyXG52YXIgaW8gPSByZXF1aXJlKFwic29ja2V0LmlvXCIpKHNlcnZlcik7XHJcblxyXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xyXG5jb25zdCB7IHY0OiB1dWlkdjQgfSA9IHJlcXVpcmUoXCJ1dWlkXCIpO1xyXG5pbXBvcnQgYXBwb2lubWVudCBmcm9tIFwiLi4vbW9kZWxzL2FwcG9pbm1lbnRcIjtcclxuXHJcbmltcG9ydCB7XHJcbiAgZ2V0QXBwb2ludG1lbnRzQnlVc2VySUQsXHJcbiAgY3JlYXRlTmV3QXBwb2ludG1lbnQsXHJcbiAgdXBkYXRlQXBwb2ludG1lbnQsXHJcbiAgY2FuY2VsQXBwb2ludG1lbnQsXHJcbiAgY2hlY2tpbmdBdmFpbGFibGVUaW1lLFxyXG59IGZyb20gXCIuLi9zZXJ2aWNlL0FwcG9pbm1lbnRTZXJ2aWNlXCI7XHJcbmltcG9ydCB7XHJcbiAgY3JlYXRlTm90aWZpY2F0aW9uLFxyXG4gIHNvY2tldFNlcnZlck5vdGlmaWNhdGlvbixcclxufSBmcm9tIFwiLi4vc2VydmljZS9Ob3RpZmljYXRpb25TZXJ2aWNlXCI7XHJcbmltcG9ydCB7XHJcbiAgZ2V0VXNlckJ5SWQsXHJcbiAgYWRkQmFsYW5jZUJ5SWQsXHJcbiAgbWludXNCYWxhbmNlQnlJZCxcclxufSBmcm9tIFwiLi4vc2VydmljZS9Vc2VyU2VydmljZVwiO1xyXG5pbXBvcnQgeyBjcmVhdGVOZXdUcmFuc2FjdGlvbkhpc3RvcnkgfSBmcm9tIFwiLi4vc2VydmljZS9UcmFuc2FjdGlvbkhpc3RvcnlTZXJ2aWNlXCI7XHJcblxyXG5pbXBvcnQge1xyXG4gIGJvb2tpbmdOb3RpZmljYXRpb24sXHJcbiAgc2VydmVyTm90aWZpY2F0aW9uLFxyXG59IGZyb20gXCIuLi8uLi9wdWJsaWMvc2NyaXB0L3NvY2tldFNlcnZlclwiO1xyXG5jbGFzcyBCb29raW5nQ29udHJvbGxlciB7XHJcbiAgYXN5bmMgaW5kZXgocmVxLCByZXMsIG5leHQpIHtcclxuICAgIGxldCB1c2VyID0gYXdhaXQgZ2V0VXNlckJ5SWQocmVxLnNlc3Npb24udXNlcklEKTtcclxuICAgIGxldCBkb2N0b3IgPSBhd2FpdCBnZXRVc2VyQnlJZChyZXEuYm9keS5kb2N0b3JJRCk7XHJcbiAgICBsZXQgZGF0ZSA9IHJlcS5ib2R5LmRhdGU7XHJcbiAgICBpZihkYXRlID09ICcnKXtcclxuICAgICAgY29uc29sZS5sb2coXCJ0aW1lIGlzIGJsYW5rXCIpXHJcbiAgICB9XHJcbiAgICBsZXQgdGltZVN0YXJ0ID0gcmVxLmJvZHkudGltZVN0YXJ0O1xyXG4gICAgbGV0IHRpbWVFbmQgPSByZXEuYm9keS50aW1lRW5kO1xyXG4gICAgbGV0IHNlcnZpY2VGZWUgPSByZXEuYm9keS5zZXJ2aWNlRmVlO1xyXG4gICAgbGV0IGJvb2tpbmdEZXRhaWwgPSB7XHJcbiAgICAgIHVzZXI6IHVzZXIsXHJcbiAgICAgIGRvY3RvcjogZG9jdG9yLFxyXG4gICAgICBzZXJ2aWNlRmVlOiBzZXJ2aWNlRmVlLFxyXG4gICAgICBkYXRlOiBkYXRlLFxyXG4gICAgICB0aW1lU3RhcnQ6IHRpbWVTdGFydCxcclxuICAgICAgdGltZUVuZDogdGltZUVuZCxcclxuICAgIH07XHJcbiAgICByZXEuc2Vzc2lvbi5ib29raW5nRGV0YWlsID0gYm9va2luZ0RldGFpbDtcclxuICAgIHJlcy5yZWRpcmVjdChcIi9ib29raW5nL2Rpc3BsYXlCb29raW5nRm9ybVwiKTtcclxuICB9XHJcbiAgZGlzcGxheUJvb2tpbmdGb3JtKHJlcSwgcmVzKSB7XHJcbiAgICBsZXQgYm9va2luZ0RldGFpbCA9IHJlcS5zZXNzaW9uLmJvb2tpbmdEZXRhaWw7XHJcbiAgICByZXMucmVuZGVyKFwidXNlci9ib29raW5nLWZvcm1cIiwge1xyXG4gICAgICBib29raW5nRGV0YWlsOiBib29raW5nRGV0YWlsLFxyXG4gICAgICBlcnJvck1lc3NhZ2U6IHJlcS5zZXNzaW9uLmVycm9yLFxyXG4gICAgICBzdWNjZXNzZnVsbHlNZXNzYWdlOiByZXEuc2Vzc2lvbi5zdWNjZXNzZnVsbHlNZXNzYWdlLFxyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKHJlcS5zZXNzaW9uLmVycm9yKSB7XHJcbiAgICAgIHJlcS5zZXNzaW9uLmVycm9yID0gbnVsbDtcclxuICAgIH1cclxuICAgIGlmIChyZXEuc2Vzc2lvbi5zdWNjZXNzZnVsbHlNZXNzYWdlKSB7XHJcbiAgICAgIHJlcS5zZXNzaW9uLnN1Y2Nlc3NmdWxseU1lc3NhZ2UgPSBudWxsO1xyXG4gICAgfVxyXG4gICAgaWYgKHJlcS5zZXNzaW9uLmFwcG9pbnRtZW50SWQpIHtcclxuICAgICAgcmVxLnNlc3Npb24uYXBwb2ludG1lbnRJZCA9IG51bGw7XHJcbiAgICB9XHJcbiAgICAvL3JlcS5zZXNzaW9uLmJvb2tpbmdEZXRhaWwgPSBudWxsO1xyXG4gIH1cclxuICBhc3luYyBjcmVhdGVBcHBvaW50bWVudChyZXEsIHJlcywgbmV4dCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgbGV0IHVzZXJJRCA9IHJlcS5zZXNzaW9uLnVzZXJJRDtcclxuICAgICAgbGV0IHJvbGVJRCA9IHJlcS5zZXNzaW9uLnJvbGVJRDtcclxuICAgICAgbGV0IHVzZXIgPSBhd2FpdCBnZXRVc2VyQnlJZCh1c2VySUQpO1xyXG4gICAgICBsZXQgdXNlckFwcG9pbnRtZW50ID0gYXdhaXQgZ2V0QXBwb2ludG1lbnRzQnlVc2VySUQodXNlcklELCByb2xlSUQpO1xyXG4gICAgICBsZXQgZG9jdG9yQXBwb2ludG1lbnQgPSBhd2FpdCBnZXRBcHBvaW50bWVudHNCeVVzZXJJRChcclxuICAgICAgICByZXEuYm9keS5kb2N0b3JJRCxcclxuICAgICAgICAyXHJcbiAgICAgICk7XHJcbiAgICAgIGxldCBzdGFydFRpbWUgPSByZXEuYm9keS5zdGFydFRpbWU7XHJcbiAgICAgIGxldCBkYXRlID0gcmVxLmJvZHkuZGF0ZTtcclxuICAgICAgaWYgKFxyXG4gICAgICAgIGNoZWNraW5nQXZhaWxhYmxlVGltZShzdGFydFRpbWUsIGRhdGUsIHVzZXJBcHBvaW50bWVudCkgPT09IGZhbHNlIHx8XHJcbiAgICAgICAgY2hlY2tpbmdBdmFpbGFibGVUaW1lKHN0YXJ0VGltZSwgZGF0ZSwgZG9jdG9yQXBwb2ludG1lbnQpID09PSBmYWxzZVxyXG4gICAgICApIHtcclxuICAgICAgICByZXEuc2Vzc2lvbi5lcnJvciA9IFwiQuG6oW4ga2jDtG5nIHRo4buDIMSR4bq3dCBs4buLY2ggdsOgbyB0aOG7nWkgZ2lhbiBuw6B5IVwiO1xyXG4gICAgICAgIHJlcy5yZWRpcmVjdChcImJhY2tcIik7XHJcbiAgICAgIH0gZWxzZSBpZiAodXNlci5iYWxhbmNlIDwgcmVxLmJvZHkuc2VydmljZUZlZSkge1xyXG4gICAgICAgIHJlcS5zZXNzaW9uLmVycm9yID0gXCJT4buRIHh1IGPhu6dhIGLhuqFuIGtow7RuZyDEkeG7pyAhIGLhuqFuIGPDsyB0aOG7gyBu4bqhcCB0aMOqbSB4dSBcIjtcclxuICAgICAgICByZXMucmVkaXJlY3QoXCJiYWNrXCIpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJlcS5ib2R5LmlkID0gdXVpZHY0KCk7XHJcblxyXG4gICAgICAgIGxldCBuZXdBcHBvaW50bWVudElkID0gYXdhaXQgY3JlYXRlTmV3QXBwb2ludG1lbnQodXNlcklELCByZXEuYm9keSk7XHJcbiAgICAgICAgY29uc29sZS5sb2cobmV3QXBwb2ludG1lbnRJZCk7XHJcbiAgICAgICAgaWYgKG5ld0FwcG9pbnRtZW50SWQpIHtcclxuICAgICAgICAgIGxldCBhbW91bnRGb3JEb2N0b3IgPSAocmVxLmJvZHkuc2VydmljZUZlZSAqIDcwKSAvIDEwMDtcclxuICAgICAgICAgIGF3YWl0IGFkZEJhbGFuY2VCeUlkKHJlcS5ib2R5LmRvY3RvcklELCBhbW91bnRGb3JEb2N0b3IpO1xyXG4gICAgICAgICAgYXdhaXQgbWludXNCYWxhbmNlQnlJZCh1c2VySUQsIHJlcS5ib2R5LnNlcnZpY2VGZWUpO1xyXG4gICAgICAgICAgYXdhaXQgY3JlYXRlTmV3VHJhbnNhY3Rpb25IaXN0b3J5KHVzZXJJRCwgcmVxLmJvZHksIG5ld0FwcG9pbnRtZW50SWQpO1xyXG4gICAgICAgICAgcmVxLnNlc3Npb24uc3VjY2Vzc2Z1bGx5TWVzc2FnZSA9IFwixJDhurd0IGzhu4tjaCB0aMOgbmggY8O0bmdcIjtcclxuICAgICAgICAgIC8vY3JlYXRlIG5vdGlmaWNhdGlvblxyXG4gICAgICAgICAgY29uc3QgdGl0bGVOb3RpZmljYXRpb25Gb3JBcHBvaW50bWVudCA9IFwiVGjDtG5nIELDoW8gTOG7i2NoIEjhurluXCI7XHJcbiAgICAgICAgICBjb25zdCBjb250ZW50Tm90aWZpY2F0aW9uRm9yQXBwb2ludG1lbnQgPVxyXG4gICAgICAgICAgICBcIlbhu6thIGPDsyBs4buLY2ggaOG6uW4gxJHGsOG7o2MgxJHhurd0LCBi4bqhbiBjw7MgdGjhu4Mga2nhu4NtIHRyYSBs4buLY2ggIVwiO1xyXG4gICAgICAgICAgY29uc3Qgbm90aWZpY2F0aW9uID0ge1xyXG4gICAgICAgICAgICBhcHBvaW50bWVudElkOiBuZXdBcHBvaW50bWVudElkLFxyXG4gICAgICAgICAgICB0aXRsZTogdGl0bGVOb3RpZmljYXRpb25Gb3JBcHBvaW50bWVudCxcclxuICAgICAgICAgICAgY29udGVudDogY29udGVudE5vdGlmaWNhdGlvbkZvckFwcG9pbnRtZW50LFxyXG4gICAgICAgICAgICBsaW5rOiBcIi9qb2I/ZGF0ZT0yMDIyLTA1LTA0XCIsXHJcbiAgICAgICAgICAgIGZyb21Vc2VySUQ6IHVzZXJJRCxcclxuICAgICAgICAgICAgZG9jdG9ySUQ6IHJlcS5ib2R5LmRvY3RvcklELFxyXG4gICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAvL2NyZWF0ZSBOb3RpZmljYXRpb24gaW4gZGJcclxuICAgICAgICAgIGxldCBuZXdOb3RpZmljYXRpb24gPSBhd2FpdCBjcmVhdGVOb3RpZmljYXRpb24obm90aWZpY2F0aW9uKTtcclxuICAgICAgICAgIC8vY3JlYXRlIE5vdGlmaWNhdGlvbiBpbiBjbGllbnQgc2lkZVxyXG4gICAgICAgICAgc2VydmVyTm90aWZpY2F0aW9uKGlvLCBub3RpZmljYXRpb24pO1xyXG4gICAgICAgICAgcmVxLnNlc3Npb24ubWVzc2FnZUJvb2tpbmcgPVxyXG4gICAgICAgICAgICBcIkLhuqFuIMSRw6MgxJHhurd0IGzhu4tjaCB0aMOgbmggY8O0bmcsIGLhuqFuIGPDsyB0aOG7gyB2w6BvIGzhu4tjaCBjw6EgbmjDom4gxJHhu4Mga2nhu4NtIHRyYSAhXCI7XHJcbiAgICAgICAgICByZXMucmVkaXJlY3QoYC9kZXRhaWxEb2N0b3IvJHtyZXEuYm9keS5kb2N0b3JJRH1gKTtcclxuICAgICAgICAgIC8vY2xlYXIgcmVxLnNlc3Npb24uYm9va2luZ0RldGFpbFxyXG4gICAgICAgICAgcmVxLnNlc3Npb24uYm9va2luZ0RldGFpbCA9IG51bGw7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKFwiZXJyb3JcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gbmV3IEJvb2tpbmdDb250cm9sbGVyKCk7XHJcbiJdfQ==","map":{"version":3,"sources":["BookingController.js"],"names":["express","require","moment","app","server","Server","io","router","Router","uuidv4","v4","BookingController","req","res","next","session","userID","user","body","doctorID","doctor","date","console","log","timeStart","timeEnd","serviceFee","bookingDetail","redirect","render","errorMessage","error","successfullyMessage","appointmentId","roleID","userAppointment","doctorAppointment","startTime","balance","id","newAppointmentId","amountForDoctor","titleNotificationForAppointment","contentNotificationForAppointment","notification","title","content","link","fromUserID","newNotification","messageBooking","module","exports"],"mappings":";;AAQA;;AAEA;;AAOA;;AAIA;;AAKA;;AAEA;;;;;;;;;;;;;;AA5BA,IAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,IAAMC,MAAM,GAAGD,OAAO,CAAC,QAAD,CAAtB;;AACA,IAAME,GAAG,GAAGH,OAAO,EAAnB;;AACA,IAAMI,MAAM,GAAGH,OAAO,CAAC,MAAD,CAAP,CAAgBI,MAAhB,CAAuBF,GAAvB,CAAf;;AACA,IAAIG,EAAE,GAAGL,OAAO,CAAC,WAAD,CAAP,CAAqBG,MAArB,CAAT;;AAEA,IAAMG,MAAM,GAAGP,OAAO,CAACQ,MAAR,EAAf;;AACA,eAAuBP,OAAO,CAAC,MAAD,CAA9B;AAAA,IAAYQ,MAAZ,YAAQC,EAAR;;IAyBMC,iB;;;;;;;;2EACJ,iBAAYC,GAAZ,EAAiBC,GAAjB,EAAsBC,IAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACmB,8BAAYF,GAAG,CAACG,OAAJ,CAAYC,MAAxB,CADnB;;AAAA;AACMC,gBAAAA,IADN;AAAA;AAAA,uBAEqB,8BAAYL,GAAG,CAACM,IAAJ,CAASC,QAArB,CAFrB;;AAAA;AAEMC,gBAAAA,MAFN;AAGMC,gBAAAA,IAHN,GAGaT,GAAG,CAACM,IAAJ,CAASG,IAHtB;;AAIE,oBAAGA,IAAI,IAAI,EAAX,EAAc;AACZC,kBAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AACD;;AACGC,gBAAAA,SAPN,GAOkBZ,GAAG,CAACM,IAAJ,CAASM,SAP3B;AAQMC,gBAAAA,OARN,GAQgBb,GAAG,CAACM,IAAJ,CAASO,OARzB;AASMC,gBAAAA,UATN,GASmBd,GAAG,CAACM,IAAJ,CAASQ,UAT5B;AAUMC,gBAAAA,aAVN,GAUsB;AAClBV,kBAAAA,IAAI,EAAEA,IADY;AAElBG,kBAAAA,MAAM,EAAEA,MAFU;AAGlBM,kBAAAA,UAAU,EAAEA,UAHM;AAIlBL,kBAAAA,IAAI,EAAEA,IAJY;AAKlBG,kBAAAA,SAAS,EAAEA,SALO;AAMlBC,kBAAAA,OAAO,EAAEA;AANS,iBAVtB;AAkBEb,gBAAAA,GAAG,CAACG,OAAJ,CAAYY,aAAZ,GAA4BA,aAA5B;AACAd,gBAAAA,GAAG,CAACe,QAAJ,CAAa,6BAAb;;AAnBF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,O;;;;;;;;;;WAqBA,4BAAmBhB,GAAnB,EAAwBC,GAAxB,EAA6B;AAC3B,UAAIc,aAAa,GAAGf,GAAG,CAACG,OAAJ,CAAYY,aAAhC;AACAd,MAAAA,GAAG,CAACgB,MAAJ,CAAW,mBAAX,EAAgC;AAC9BF,QAAAA,aAAa,EAAEA,aADe;AAE9BG,QAAAA,YAAY,EAAElB,GAAG,CAACG,OAAJ,CAAYgB,KAFI;AAG9BC,QAAAA,mBAAmB,EAAEpB,GAAG,CAACG,OAAJ,CAAYiB;AAHH,OAAhC;;AAMA,UAAIpB,GAAG,CAACG,OAAJ,CAAYgB,KAAhB,EAAuB;AACrBnB,QAAAA,GAAG,CAACG,OAAJ,CAAYgB,KAAZ,GAAoB,IAApB;AACD;;AACD,UAAInB,GAAG,CAACG,OAAJ,CAAYiB,mBAAhB,EAAqC;AACnCpB,QAAAA,GAAG,CAACG,OAAJ,CAAYiB,mBAAZ,GAAkC,IAAlC;AACD;;AACD,UAAIpB,GAAG,CAACG,OAAJ,CAAYkB,aAAhB,EAA+B;AAC7BrB,QAAAA,GAAG,CAACG,OAAJ,CAAYkB,aAAZ,GAA4B,IAA5B;AACD,OAhB0B,CAiB3B;;AACD;;;;uFACD,kBAAwBrB,GAAxB,EAA6BC,GAA7B,EAAkCC,IAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEQE,gBAAAA,MAFR,GAEiBJ,GAAG,CAACG,OAAJ,CAAYC,MAF7B;AAGQkB,gBAAAA,MAHR,GAGiBtB,GAAG,CAACG,OAAJ,CAAYmB,MAH7B;AAAA;AAAA,uBAIqB,8BAAYlB,MAAZ,CAJrB;;AAAA;AAIQC,gBAAAA,IAJR;AAAA;AAAA,uBAKgC,gDAAwBD,MAAxB,EAAgCkB,MAAhC,CALhC;;AAAA;AAKQC,gBAAAA,eALR;AAAA;AAAA,uBAMkC,gDAC5BvB,GAAG,CAACM,IAAJ,CAASC,QADmB,EAE5B,CAF4B,CANlC;;AAAA;AAMQiB,gBAAAA,iBANR;AAUQC,gBAAAA,SAVR,GAUoBzB,GAAG,CAACM,IAAJ,CAASmB,SAV7B;AAWQhB,gBAAAA,IAXR,GAWeT,GAAG,CAACM,IAAJ,CAASG,IAXxB;;AAAA,sBAaM,8CAAsBgB,SAAtB,EAAiChB,IAAjC,EAAuCc,eAAvC,MAA4D,KAA5D,IACA,8CAAsBE,SAAtB,EAAiChB,IAAjC,EAAuCe,iBAAvC,MAA8D,KAdpE;AAAA;AAAA;AAAA;;AAgBMxB,gBAAAA,GAAG,CAACG,OAAJ,CAAYgB,KAAZ,GAAoB,2CAApB;AACAlB,gBAAAA,GAAG,CAACe,QAAJ,CAAa,MAAb;AAjBN;AAAA;;AAAA;AAAA,sBAkBeX,IAAI,CAACqB,OAAL,GAAe1B,GAAG,CAACM,IAAJ,CAASQ,UAlBvC;AAAA;AAAA;AAAA;;AAmBMd,gBAAAA,GAAG,CAACG,OAAJ,CAAYgB,KAAZ,GAAoB,kDAApB;AACAlB,gBAAAA,GAAG,CAACe,QAAJ,CAAa,MAAb;AApBN;AAAA;;AAAA;AAsBMhB,gBAAAA,GAAG,CAACM,IAAJ,CAASqB,EAAT,GAAc9B,MAAM,EAApB;AAtBN;AAAA,uBAwBmC,6CAAqBO,MAArB,EAA6BJ,GAAG,CAACM,IAAjC,CAxBnC;;AAAA;AAwBUsB,gBAAAA,gBAxBV;AAyBMlB,gBAAAA,OAAO,CAACC,GAAR,CAAYiB,gBAAZ;;AAzBN,qBA0BUA,gBA1BV;AAAA;AAAA;AAAA;;AA2BYC,gBAAAA,eA3BZ,GA2B+B7B,GAAG,CAACM,IAAJ,CAASQ,UAAT,GAAsB,EAAvB,GAA6B,GA3B3D;AAAA;AAAA,uBA4Bc,iCAAed,GAAG,CAACM,IAAJ,CAASC,QAAxB,EAAkCsB,eAAlC,CA5Bd;;AAAA;AAAA;AAAA,uBA6Bc,mCAAiBzB,MAAjB,EAAyBJ,GAAG,CAACM,IAAJ,CAASQ,UAAlC,CA7Bd;;AAAA;AAAA;AAAA,uBA8Bc,4DAA4BV,MAA5B,EAAoCJ,GAAG,CAACM,IAAxC,EAA8CsB,gBAA9C,CA9Bd;;AAAA;AA+BQ5B,gBAAAA,GAAG,CAACG,OAAJ,CAAYiB,mBAAZ,GAAkC,qBAAlC,CA/BR,CAgCQ;;AACMU,gBAAAA,+BAjCd,GAiCgD,oBAjChD;AAkCcC,gBAAAA,iCAlCd,GAmCU,sDAnCV;AAoCcC,gBAAAA,YApCd,GAoC6B;AACnBX,kBAAAA,aAAa,EAAEO,gBADI;AAEnBK,kBAAAA,KAAK,EAAEH,+BAFY;AAGnBI,kBAAAA,OAAO,EAAEH,iCAHU;AAInBI,kBAAAA,IAAI,EAAE,sBAJa;AAKnBC,kBAAAA,UAAU,EAAEhC,MALO;AAMnBG,kBAAAA,QAAQ,EAAEP,GAAG,CAACM,IAAJ,CAASC;AANA,iBApC7B,EA6CQ;;AA7CR;AAAA,uBA8CoC,6CAAmByB,YAAnB,CA9CpC;;AAAA;AA8CYK,gBAAAA,eA9CZ;AA+CQ;AACA,sDAAmB3C,EAAnB,EAAuBsC,YAAvB;AACAhC,gBAAAA,GAAG,CAACG,OAAJ,CAAYmC,cAAZ,GACE,uEADF;AAEArC,gBAAAA,GAAG,CAACe,QAAJ,yBAA8BhB,GAAG,CAACM,IAAJ,CAASC,QAAvC,GAnDR,CAoDQ;;AACAP,gBAAAA,GAAG,CAACG,OAAJ,CAAYY,aAAZ,GAA4B,IAA5B;AArDR;AAAA;;AAAA;AAuDQL,gBAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;;AAvDR;AAAA;AAAA;;AAAA;AAAA;AAAA;AA2DID,gBAAAA,OAAO,CAACC,GAAR;;AA3DJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,O;;;;;;;;;;;;;AAgEF4B,MAAM,CAACC,OAAP,GAAiB,IAAIzC,iBAAJ,EAAjB","sourceRoot":"/Users/mac/Desktop/Final_Project_DTU/src/app/controllers/","sourcesContent":["const express = require(\"express\");\r\nconst moment = require(\"moment\");\r\nconst app = express();\r\nconst server = require(\"http\").Server(app);\r\nvar io = require(\"socket.io\")(server);\r\n\r\nconst router = express.Router();\r\nconst { v4: uuidv4 } = require(\"uuid\");\r\nimport appoinment from \"../models/appoinment\";\r\n\r\nimport {\r\n  getAppointmentsByUserID,\r\n  createNewAppointment,\r\n  updateAppointment,\r\n  cancelAppointment,\r\n  checkingAvailableTime,\r\n} from \"../service/AppoinmentService\";\r\nimport {\r\n  createNotification,\r\n  socketServerNotification,\r\n} from \"../service/NotificationService\";\r\nimport {\r\n  getUserById,\r\n  addBalanceById,\r\n  minusBalanceById,\r\n} from \"../service/UserService\";\r\nimport { createNewTransactionHistory } from \"../service/TransactionHistoryService\";\r\n\r\nimport {\r\n  bookingNotification,\r\n  serverNotification,\r\n} from \"../../public/script/socketServer\";\r\nclass BookingController {\r\n  async index(req, res, next) {\r\n    let user = await getUserById(req.session.userID);\r\n    let doctor = await getUserById(req.body.doctorID);\r\n    let date = req.body.date;\r\n    if(date == ''){\r\n      console.log(\"time is blank\")\r\n    }\r\n    let timeStart = req.body.timeStart;\r\n    let timeEnd = req.body.timeEnd;\r\n    let serviceFee = req.body.serviceFee;\r\n    let bookingDetail = {\r\n      user: user,\r\n      doctor: doctor,\r\n      serviceFee: serviceFee,\r\n      date: date,\r\n      timeStart: timeStart,\r\n      timeEnd: timeEnd,\r\n    };\r\n    req.session.bookingDetail = bookingDetail;\r\n    res.redirect(\"/booking/displayBookingForm\");\r\n  }\r\n  displayBookingForm(req, res) {\r\n    let bookingDetail = req.session.bookingDetail;\r\n    res.render(\"user/booking-form\", {\r\n      bookingDetail: bookingDetail,\r\n      errorMessage: req.session.error,\r\n      successfullyMessage: req.session.successfullyMessage,\r\n    });\r\n\r\n    if (req.session.error) {\r\n      req.session.error = null;\r\n    }\r\n    if (req.session.successfullyMessage) {\r\n      req.session.successfullyMessage = null;\r\n    }\r\n    if (req.session.appointmentId) {\r\n      req.session.appointmentId = null;\r\n    }\r\n    //req.session.bookingDetail = null;\r\n  }\r\n  async createAppointment(req, res, next) {\r\n    try {\r\n      let userID = req.session.userID;\r\n      let roleID = req.session.roleID;\r\n      let user = await getUserById(userID);\r\n      let userAppointment = await getAppointmentsByUserID(userID, roleID);\r\n      let doctorAppointment = await getAppointmentsByUserID(\r\n        req.body.doctorID,\r\n        2\r\n      );\r\n      let startTime = req.body.startTime;\r\n      let date = req.body.date;\r\n      if (\r\n        checkingAvailableTime(startTime, date, userAppointment) === false ||\r\n        checkingAvailableTime(startTime, date, doctorAppointment) === false\r\n      ) {\r\n        req.session.error = \"Bạn không thể đặt lịch vào thời gian này!\";\r\n        res.redirect(\"back\");\r\n      } else if (user.balance < req.body.serviceFee) {\r\n        req.session.error = \"Số xu của bạn không đủ ! bạn có thể nạp thêm xu \";\r\n        res.redirect(\"back\");\r\n      } else {\r\n        req.body.id = uuidv4();\r\n\r\n        let newAppointmentId = await createNewAppointment(userID, req.body);\r\n        console.log(newAppointmentId);\r\n        if (newAppointmentId) {\r\n          let amountForDoctor = (req.body.serviceFee * 70) / 100;\r\n          await addBalanceById(req.body.doctorID, amountForDoctor);\r\n          await minusBalanceById(userID, req.body.serviceFee);\r\n          await createNewTransactionHistory(userID, req.body, newAppointmentId);\r\n          req.session.successfullyMessage = \"Đặt lịch thành công\";\r\n          //create notification\r\n          const titleNotificationForAppointment = \"Thông Báo Lịch Hẹn\";\r\n          const contentNotificationForAppointment =\r\n            \"Vừa có lịch hẹn được đặt, bạn có thể kiểm tra lịch !\";\r\n          const notification = {\r\n            appointmentId: newAppointmentId,\r\n            title: titleNotificationForAppointment,\r\n            content: contentNotificationForAppointment,\r\n            link: \"/job?date=2022-05-04\",\r\n            fromUserID: userID,\r\n            doctorID: req.body.doctorID,\r\n          };\r\n\r\n          //create Notification in db\r\n          let newNotification = await createNotification(notification);\r\n          //create Notification in client side\r\n          serverNotification(io, notification);\r\n          req.session.messageBooking =\r\n            \"Bạn đã đặt lịch thành công, bạn có thể vào lịch cá nhân để kiểm tra !\";\r\n          res.redirect(`/detailDoctor/${req.body.doctorID}`);\r\n          //clear req.session.bookingDetail\r\n          req.session.bookingDetail = null;\r\n        } else {\r\n          console.log(\"error\");\r\n        }\r\n      }\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  }\r\n}\r\n\r\nmodule.exports = new BookingController();\r\n"]}},"mtime":1678978680068},"{\"sourceRoot\":\"/Users/mac/Desktop/Final_Project_DTU/src/app/service/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/mac/Desktop/Final_Project_DTU\",\"filename\":\"/Users/mac/Desktop/Final_Project_DTU/src/app/service/TransactionHistoryService.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/mac/Desktop/Final_Project_DTU\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar db = require(\"../models/index\");\n\nvar _require = require(\"uuid\"),\n    uuidv4 = _require.v4;\n\nvar createNewTransactionHistory = function createNewTransactionHistory(userID, data, appointmentID) {\n  return new Promise( /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(resolve, reject) {\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return db.TransactionHistory.create({\n                id: uuidv4(),\n                userID: userID,\n                appointmentID: appointmentID,\n                balance: data.serviceFee,\n                status: \"none\",\n                createdAt: new Date(),\n                updatedAt: new Date()\n              });\n\n            case 3:\n              resolve(\"add successfully !\");\n              _context.next = 9;\n              break;\n\n            case 6:\n              _context.prev = 6;\n              _context.t0 = _context[\"catch\"](0);\n              reject(_context.t0);\n\n            case 9:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 6]]);\n    }));\n\n    return function (_x, _x2) {\n      return _ref.apply(this, arguments);\n    };\n  }());\n};\n\nvar getAllTransactionHistory = function getAllTransactionHistory() {\n  return new Promise( /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(resolve, reject) {\n      var transactionHistory;\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return db.TransactionHistory.findAll({\n                raw: true,\n                order: [[\"createdAt\", \"DESC\"]]\n              });\n\n            case 3:\n              transactionHistory = _context2.sent;\n\n              if (transactionHistory) {\n                resolve(transactionHistory);\n              } else {\n                resolve();\n              }\n\n              _context2.next = 10;\n              break;\n\n            case 7:\n              _context2.prev = 7;\n              _context2.t0 = _context2[\"catch\"](0);\n              reject(_context2.t0);\n\n            case 10:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[0, 7]]);\n    }));\n\n    return function (_x3, _x4) {\n      return _ref2.apply(this, arguments);\n    };\n  }());\n};\n\nvar getAllTransactionHistoryWithDate = function getAllTransactionHistoryWithDate(startTime, endTime) {\n  return new Promise( /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(resolve, reject) {\n      var transactionHistory;\n      return regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.prev = 0;\n              _context3.next = 3;\n              return db.TransactionHistory.findAll({\n                raw: true,\n                where: {}\n              });\n\n            case 3:\n              transactionHistory = _context3.sent;\n\n              if (transactionHistory) {\n                resolve(transactionHistory);\n              } else {\n                resolve();\n              }\n\n              _context3.next = 10;\n              break;\n\n            case 7:\n              _context3.prev = 7;\n              _context3.t0 = _context3[\"catch\"](0);\n              reject(_context3.t0);\n\n            case 10:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, null, [[0, 7]]);\n    }));\n\n    return function (_x5, _x6) {\n      return _ref3.apply(this, arguments);\n    };\n  }());\n};\n\nvar getTransactionHistoryByAppointmentId = function getTransactionHistoryByAppointmentId(appointmentId) {\n  return new Promise( /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(resolve, reject) {\n      var transactionHistory;\n      return regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.prev = 0;\n              _context4.next = 3;\n              return db.TransactionHistory.findOne({\n                where: {\n                  appointmentID: appointmentId\n                }\n              });\n\n            case 3:\n              transactionHistory = _context4.sent;\n\n              if (transactionHistory) {\n                resolve(transactionHistory);\n              } else {\n                resolve();\n              }\n\n              _context4.next = 10;\n              break;\n\n            case 7:\n              _context4.prev = 7;\n              _context4.t0 = _context4[\"catch\"](0);\n              reject(_context4.t0);\n\n            case 10:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4, null, [[0, 7]]);\n    }));\n\n    return function (_x7, _x8) {\n      return _ref4.apply(this, arguments);\n    };\n  }());\n};\n\nvar rollBackMoneyForUser = function rollBackMoneyForUser(userId, balance) {\n  return new Promise( /*#__PURE__*/function () {\n    var _ref5 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5(resolve, reject) {\n      var user;\n      return regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              _context5.prev = 0;\n              _context5.next = 3;\n              return db.User.findOne({\n                where: {\n                  id: userId\n                }\n              });\n\n            case 3:\n              user = _context5.sent;\n\n              if (!user) {\n                _context5.next = 11;\n                break;\n              }\n\n              user.balance = user.balance + balance;\n              _context5.next = 8;\n              return user.save();\n\n            case 8:\n              resolve(user);\n              _context5.next = 12;\n              break;\n\n            case 11:\n              resolve(null);\n\n            case 12:\n              _context5.next = 17;\n              break;\n\n            case 14:\n              _context5.prev = 14;\n              _context5.t0 = _context5[\"catch\"](0);\n              reject(_context5.t0);\n\n            case 17:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5, null, [[0, 14]]);\n    }));\n\n    return function (_x9, _x10) {\n      return _ref5.apply(this, arguments);\n    };\n  }());\n};\n\nvar rollBackMoneyForDoctor = function rollBackMoneyForDoctor(doctorId, balance) {\n  return new Promise( /*#__PURE__*/function () {\n    var _ref6 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee6(resolve, reject) {\n      var doctor;\n      return regeneratorRuntime.wrap(function _callee6$(_context6) {\n        while (1) {\n          switch (_context6.prev = _context6.next) {\n            case 0:\n              _context6.prev = 0;\n              _context6.next = 3;\n              return db.User.findOne({\n                where: {\n                  id: doctorId\n                }\n              });\n\n            case 3:\n              doctor = _context6.sent;\n\n              if (!doctor) {\n                _context6.next = 11;\n                break;\n              }\n\n              doctor.balance = doctor.balance - balance;\n              _context6.next = 8;\n              return doctor.save();\n\n            case 8:\n              resolve(doctor);\n              _context6.next = 12;\n              break;\n\n            case 11:\n              resolve(null);\n\n            case 12:\n              _context6.next = 17;\n              break;\n\n            case 14:\n              _context6.prev = 14;\n              _context6.t0 = _context6[\"catch\"](0);\n              reject(_context6.t0);\n\n            case 17:\n            case \"end\":\n              return _context6.stop();\n          }\n        }\n      }, _callee6, null, [[0, 14]]);\n    }));\n\n    return function (_x11, _x12) {\n      return _ref6.apply(this, arguments);\n    };\n  }());\n};\n\nmodule.exports = {\n  createNewTransactionHistory: createNewTransactionHistory,\n  rollBackMoneyForDoctor: rollBackMoneyForDoctor,\n  rollBackMoneyForUser: rollBackMoneyForUser,\n  getTransactionHistoryByAppointmentId: getTransactionHistoryByAppointmentId,\n  getAllTransactionHistory: getAllTransactionHistory\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlRyYW5zYWN0aW9uSGlzdG9yeVNlcnZpY2UuanMiXSwibmFtZXMiOlsiZGIiLCJyZXF1aXJlIiwidXVpZHY0IiwidjQiLCJjcmVhdGVOZXdUcmFuc2FjdGlvbkhpc3RvcnkiLCJ1c2VySUQiLCJkYXRhIiwiYXBwb2ludG1lbnRJRCIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiVHJhbnNhY3Rpb25IaXN0b3J5IiwiY3JlYXRlIiwiaWQiLCJiYWxhbmNlIiwic2VydmljZUZlZSIsInN0YXR1cyIsImNyZWF0ZWRBdCIsIkRhdGUiLCJ1cGRhdGVkQXQiLCJnZXRBbGxUcmFuc2FjdGlvbkhpc3RvcnkiLCJmaW5kQWxsIiwicmF3Iiwib3JkZXIiLCJ0cmFuc2FjdGlvbkhpc3RvcnkiLCJnZXRBbGxUcmFuc2FjdGlvbkhpc3RvcnlXaXRoRGF0ZSIsInN0YXJ0VGltZSIsImVuZFRpbWUiLCJ3aGVyZSIsImdldFRyYW5zYWN0aW9uSGlzdG9yeUJ5QXBwb2ludG1lbnRJZCIsImFwcG9pbnRtZW50SWQiLCJmaW5kT25lIiwicm9sbEJhY2tNb25leUZvclVzZXIiLCJ1c2VySWQiLCJVc2VyIiwidXNlciIsInNhdmUiLCJyb2xsQmFja01vbmV5Rm9yRG9jdG9yIiwiZG9jdG9ySWQiLCJkb2N0b3IiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFNQSxFQUFFLEdBQUdDLE9BQU8sQ0FBQyxpQkFBRCxDQUFsQjs7QUFDQSxlQUF1QkEsT0FBTyxDQUFDLE1BQUQsQ0FBOUI7QUFBQSxJQUFZQyxNQUFaLFlBQVFDLEVBQVI7O0FBRUEsSUFBSUMsMkJBQTJCLEdBQUcsU0FBOUJBLDJCQUE4QixDQUFDQyxNQUFELEVBQVNDLElBQVQsRUFBZUMsYUFBZixFQUFpQztBQUNqRSxTQUFPLElBQUlDLE9BQUo7QUFBQSx1RUFBWSxpQkFBT0MsT0FBUCxFQUFnQkMsTUFBaEI7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxxQkFF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dCI6Ii9Vc2Vycy9tYWMvRGVza3RvcC9GaW5hbF9Qcm9qZWN0X0RUVS9zcmMvYXBwL3NlcnZpY2UvIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZGIgPSByZXF1aXJlKFwiLi4vbW9kZWxzL2luZGV4XCIpO1xyXG5jb25zdCB7IHY0OiB1dWlkdjQgfSA9IHJlcXVpcmUoXCJ1dWlkXCIpO1xyXG5cclxubGV0IGNyZWF0ZU5ld1RyYW5zYWN0aW9uSGlzdG9yeSA9ICh1c2VySUQsIGRhdGEsIGFwcG9pbnRtZW50SUQpID0+IHtcclxuICByZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgYXdhaXQgZGIuVHJhbnNhY3Rpb25IaXN0b3J5LmNyZWF0ZSh7XHJcbiAgICAgICAgaWQ6IHV1aWR2NCgpLFxyXG4gICAgICAgIHVzZXJJRDogdXNlcklELFxyXG4gICAgICAgIGFwcG9pbnRtZW50SUQ6IGFwcG9pbnRtZW50SUQsXHJcbiAgICAgICAgYmFsYW5jZTogZGF0YS5zZXJ2aWNlRmVlLFxyXG4gICAgICAgIHN0YXR1czogXCJub25lXCIsXHJcbiAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLFxyXG4gICAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKSxcclxuICAgICAgfSk7XHJcblxyXG4gICAgICByZXNvbHZlKFwiYWRkIHN1Y2Nlc3NmdWxseSAhXCIpO1xyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICByZWplY3QoZSk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn07XHJcbmxldCBnZXRBbGxUcmFuc2FjdGlvbkhpc3RvcnkgPSAoKSA9PiB7XHJcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGxldCB0cmFuc2FjdGlvbkhpc3RvcnkgPSBhd2FpdCBkYi5UcmFuc2FjdGlvbkhpc3RvcnkuZmluZEFsbCh7XHJcbiAgICAgICAgcmF3OiB0cnVlLFxyXG4gICAgICAgIG9yZGVyOiBbW1wiY3JlYXRlZEF0XCIsIFwiREVTQ1wiXV0sXHJcbiAgICAgICB9KTtcclxuICAgICAgaWYgKHRyYW5zYWN0aW9uSGlzdG9yeSkge1xyXG4gICAgICAgIHJlc29sdmUodHJhbnNhY3Rpb25IaXN0b3J5KTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgcmVqZWN0KGUpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59O1xyXG5cclxubGV0IGdldEFsbFRyYW5zYWN0aW9uSGlzdG9yeVdpdGhEYXRlID0gKHN0YXJ0VGltZSwgZW5kVGltZSkgPT4ge1xyXG4gIHJldHVybiBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBsZXQgdHJhbnNhY3Rpb25IaXN0b3J5ID0gYXdhaXQgZGIuVHJhbnNhY3Rpb25IaXN0b3J5LmZpbmRBbGwoe1xyXG4gICAgICAgIHJhdzogdHJ1ZSxcclxuICAgICAgICB3aGVyZSA6IHt9XHJcbiAgICAgICB9KTtcclxuICAgICAgaWYgKHRyYW5zYWN0aW9uSGlzdG9yeSkge1xyXG4gICAgICAgIHJlc29sdmUodHJhbnNhY3Rpb25IaXN0b3J5KTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgcmVqZWN0KGUpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59O1xyXG5sZXQgZ2V0VHJhbnNhY3Rpb25IaXN0b3J5QnlBcHBvaW50bWVudElkID0gKGFwcG9pbnRtZW50SWQpID0+IHtcclxuICByZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgbGV0IHRyYW5zYWN0aW9uSGlzdG9yeSA9IGF3YWl0IGRiLlRyYW5zYWN0aW9uSGlzdG9yeS5maW5kT25lKHtcclxuICAgICAgICB3aGVyZTogeyBhcHBvaW50bWVudElEOiBhcHBvaW50bWVudElkIH0sXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgaWYgKHRyYW5zYWN0aW9uSGlzdG9yeSkge1xyXG4gICAgICAgIHJlc29sdmUodHJhbnNhY3Rpb25IaXN0b3J5KTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgcmVqZWN0KGUpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59O1xyXG5sZXQgcm9sbEJhY2tNb25leUZvclVzZXIgPSAodXNlcklkLCBiYWxhbmNlKSA9PiB7XHJcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGxldCB1c2VyID0gYXdhaXQgZGIuVXNlci5maW5kT25lKHtcclxuICAgICAgICB3aGVyZTogeyBpZDogdXNlcklkIH0sXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgaWYgKHVzZXIpIHtcclxuICAgICAgICB1c2VyLmJhbGFuY2UgPSB1c2VyLmJhbGFuY2UgKyBiYWxhbmNlO1xyXG4gICAgICAgIGF3YWl0IHVzZXIuc2F2ZSgpO1xyXG5cclxuICAgICAgICByZXNvbHZlKHVzZXIpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJlc29sdmUobnVsbCk7XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgcmVqZWN0KGUpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59O1xyXG5sZXQgcm9sbEJhY2tNb25leUZvckRvY3RvciA9IChkb2N0b3JJZCwgYmFsYW5jZSkgPT4ge1xyXG4gIHJldHVybiBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBsZXQgZG9jdG9yID0gYXdhaXQgZGIuVXNlci5maW5kT25lKHtcclxuICAgICAgICB3aGVyZTogeyBpZDogZG9jdG9ySWQgfSxcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBpZiAoZG9jdG9yKSB7XHJcbiAgICAgICAgZG9jdG9yLmJhbGFuY2UgPSBkb2N0b3IuYmFsYW5jZSAtIGJhbGFuY2U7XHJcbiAgICAgICAgYXdhaXQgZG9jdG9yLnNhdmUoKTtcclxuICAgICAgICByZXNvbHZlKGRvY3Rvcik7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmVzb2x2ZShudWxsKTtcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICByZWplY3QoZSk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn07XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICBjcmVhdGVOZXdUcmFuc2FjdGlvbkhpc3RvcnksXHJcbiAgcm9sbEJhY2tNb25leUZvckRvY3RvcixcclxuICByb2xsQmFja01vbmV5Rm9yVXNlcixcclxuICBnZXRUcmFuc2FjdGlvbkhpc3RvcnlCeUFwcG9pbnRtZW50SWQsXHJcbiAgZ2V0QWxsVHJhbnNhY3Rpb25IaXN0b3J5XHJcbn07XHJcbiJdfQ==","map":{"version":3,"sources":["TransactionHistoryService.js"],"names":["db","require","uuidv4","v4","createNewTransactionHistory","userID","data","appointmentID","Promise","resolve","reject","TransactionHistory","create","id","balance","serviceFee","status","createdAt","Date","updatedAt","getAllTransactionHistory","findAll","raw","order","transactionHistory","getAllTransactionHistoryWithDate","startTime","endTime","where","getTransactionHistoryByAppointmentId","appointmentId","findOne","rollBackMoneyForUser","userId","User","user","save","rollBackMoneyForDoctor","doctorId","doctor","module","exports"],"mappings":"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","sourceRoot":"/Users/mac/Desktop/Final_Project_DTU/src/app/service/","sourcesContent":["const db = require(\"../models/index\");\r\nconst { v4: uuidv4 } = require(\"uuid\");\r\n\r\nlet createNewTransactionHistory = (userID, data, appointmentID) => {\r\n  return new Promise(async (resolve, reject) => {\r\n    try {\r\n      await db.TransactionHistory.create({\r\n        id: uuidv4(),\r\n        userID: userID,\r\n        appointmentID: appointmentID,\r\n        balance: data.serviceFee,\r\n        status: \"none\",\r\n        createdAt: new Date(),\r\n        updatedAt: new Date(),\r\n      });\r\n\r\n      resolve(\"add successfully !\");\r\n    } catch (e) {\r\n      reject(e);\r\n    }\r\n  });\r\n};\r\nlet getAllTransactionHistory = () => {\r\n  return new Promise(async (resolve, reject) => {\r\n    try {\r\n      let transactionHistory = await db.TransactionHistory.findAll({\r\n        raw: true,\r\n        order: [[\"createdAt\", \"DESC\"]],\r\n       });\r\n      if (transactionHistory) {\r\n        resolve(transactionHistory);\r\n      } else {\r\n        resolve();\r\n      }\r\n    } catch (e) {\r\n      reject(e);\r\n    }\r\n  });\r\n};\r\n\r\nlet getAllTransactionHistoryWithDate = (startTime, endTime) => {\r\n  return new Promise(async (resolve, reject) => {\r\n    try {\r\n      let transactionHistory = await db.TransactionHistory.findAll({\r\n        raw: true,\r\n        where : {}\r\n       });\r\n      if (transactionHistory) {\r\n        resolve(transactionHistory);\r\n      } else {\r\n        resolve();\r\n      }\r\n    } catch (e) {\r\n      reject(e);\r\n    }\r\n  });\r\n};\r\nlet getTransactionHistoryByAppointmentId = (appointmentId) => {\r\n  return new Promise(async (resolve, reject) => {\r\n    try {\r\n      let transactionHistory = await db.TransactionHistory.findOne({\r\n        where: { appointmentID: appointmentId },\r\n      });\r\n\r\n      if (transactionHistory) {\r\n        resolve(transactionHistory);\r\n      } else {\r\n        resolve();\r\n      }\r\n    } catch (e) {\r\n      reject(e);\r\n    }\r\n  });\r\n};\r\nlet rollBackMoneyForUser = (userId, balance) => {\r\n  return new Promise(async (resolve, reject) => {\r\n    try {\r\n      let user = await db.User.findOne({\r\n        where: { id: userId },\r\n      });\r\n\r\n      if (user) {\r\n        user.balance = user.balance + balance;\r\n        await user.save();\r\n\r\n        resolve(user);\r\n      } else {\r\n        resolve(null);\r\n      }\r\n    } catch (e) {\r\n      reject(e);\r\n    }\r\n  });\r\n};\r\nlet rollBackMoneyForDoctor = (doctorId, balance) => {\r\n  return new Promise(async (resolve, reject) => {\r\n    try {\r\n      let doctor = await db.User.findOne({\r\n        where: { id: doctorId },\r\n      });\r\n\r\n      if (doctor) {\r\n        doctor.balance = doctor.balance - balance;\r\n        await doctor.save();\r\n        resolve(doctor);\r\n      } else {\r\n        resolve(null);\r\n      }\r\n    } catch (e) {\r\n      reject(e);\r\n    }\r\n  });\r\n};\r\n\r\nmodule.exports = {\r\n  createNewTransactionHistory,\r\n  rollBackMoneyForDoctor,\r\n  rollBackMoneyForUser,\r\n  getTransactionHistoryByAppointmentId,\r\n  getAllTransactionHistory\r\n};\r\n"]}},"mtime":1679155952145},"{\"sourceRoot\":\"/Users/mac/Desktop/Final_Project_DTU/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/mac/Desktop/Final_Project_DTU\",\"filename\":\"/Users/mac/Desktop/Final_Project_DTU/src/routes/job.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/mac/Desktop/Final_Project_DTU\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar express = require(\"express\");\n\nvar router = express.Router();\n\nvar multer = require(\"multer\");\n\nvar upload = multer({\n  dest: \"src/public/uploads/\"\n});\n\nvar jobController = require(\"../app/controllers/JobController\");\n\nrouter.use(\"/cancel/:appoinmentId\", jobController.cancelAppointment);\nrouter.use(\"/\", jobController.index);\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpvYi5qcyJdLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInJvdXRlciIsIlJvdXRlciIsIm11bHRlciIsInVwbG9hZCIsImRlc3QiLCJqb2JDb250cm9sbGVyIiwidXNlIiwiY2FuY2VsQXBwb2ludG1lbnQiLCJpbmRleCIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBSUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBRCxDQUFyQjs7QUFDQSxJQUFJQyxNQUFNLEdBQUdGLE9BQU8sQ0FBQ0csTUFBUixFQUFiOztBQUNBLElBQUlDLE1BQU0sR0FBR0gsT0FBTyxDQUFDLFFBQUQsQ0FBcEI7O0FBQ0EsSUFBTUksTUFBTSxHQUFHRCxNQUFNLENBQUM7QUFDcEJFLEVBQUFBLElBQUksRUFBRTtBQURjLENBQUQsQ0FBckI7O0FBSUEsSUFBTUMsYUFBYSxHQUFHTixPQUFPLENBQUMsa0NBQUQsQ0FBN0I7O0FBQ0FDLE1BQU0sQ0FBQ00sR0FBUCxDQUFXLHVCQUFYLEVBQW9DRCxhQUFhLENBQUNFLGlCQUFsRDtBQUNBUCxNQUFNLENBQUNNLEdBQVAsQ0FBVyxHQUFYLEVBQWdCRCxhQUFhLENBQUNHLEtBQTlCO0FBQ0FDLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQlYsTUFBakIiLCJzb3VyY2VSb290IjoiL1VzZXJzL21hYy9EZXNrdG9wL0ZpbmFsX1Byb2plY3RfRFRVL3NyYy9yb3V0ZXMvIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGV4cHJlc3MgPSByZXF1aXJlKFwiZXhwcmVzc1wiKTtcclxudmFyIHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XHJcbmxldCBtdWx0ZXIgPSByZXF1aXJlKFwibXVsdGVyXCIpO1xyXG5jb25zdCB1cGxvYWQgPSBtdWx0ZXIoe1xyXG4gIGRlc3Q6IFwic3JjL3B1YmxpYy91cGxvYWRzL1wiLFxyXG59KTtcclxuXHJcbmNvbnN0IGpvYkNvbnRyb2xsZXIgPSByZXF1aXJlKFwiLi4vYXBwL2NvbnRyb2xsZXJzL0pvYkNvbnRyb2xsZXJcIik7XHJcbnJvdXRlci51c2UoXCIvY2FuY2VsLzphcHBvaW5tZW50SWRcIiwgam9iQ29udHJvbGxlci5jYW5jZWxBcHBvaW50bWVudCk7XHJcbnJvdXRlci51c2UoXCIvXCIsIGpvYkNvbnRyb2xsZXIuaW5kZXgpO1xyXG5tb2R1bGUuZXhwb3J0cyA9IHJvdXRlcjtcclxuIl19","map":{"version":3,"sources":["job.js"],"names":["express","require","router","Router","multer","upload","dest","jobController","use","cancelAppointment","index","module","exports"],"mappings":";;AAAA,IAAIA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAArB;;AACA,IAAIC,MAAM,GAAGF,OAAO,CAACG,MAAR,EAAb;;AACA,IAAIC,MAAM,GAAGH,OAAO,CAAC,QAAD,CAApB;;AACA,IAAMI,MAAM,GAAGD,MAAM,CAAC;AACpBE,EAAAA,IAAI,EAAE;AADc,CAAD,CAArB;;AAIA,IAAMC,aAAa,GAAGN,OAAO,CAAC,kCAAD,CAA7B;;AACAC,MAAM,CAACM,GAAP,CAAW,uBAAX,EAAoCD,aAAa,CAACE,iBAAlD;AACAP,MAAM,CAACM,GAAP,CAAW,GAAX,EAAgBD,aAAa,CAACG,KAA9B;AACAC,MAAM,CAACC,OAAP,GAAiBV,MAAjB","sourceRoot":"/Users/mac/Desktop/Final_Project_DTU/src/routes/","sourcesContent":["var express = require(\"express\");\r\nvar router = express.Router();\r\nlet multer = require(\"multer\");\r\nconst upload = multer({\r\n  dest: \"src/public/uploads/\",\r\n});\r\n\r\nconst jobController = require(\"../app/controllers/JobController\");\r\nrouter.use(\"/cancel/:appoinmentId\", jobController.cancelAppointment);\r\nrouter.use(\"/\", jobController.index);\r\nmodule.exports = router;\r\n"]}},"mtime":1651628686000},"{\"sourceRoot\":\"/Users/mac/Desktop/Final_Project_DTU/src/app/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/mac/Desktop/Final_Project_DTU\",\"filename\":\"/Users/mac/Desktop/Final_Project_DTU/src/app/controllers/JobController.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/mac/Desktop/Final_Project_DTU\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar _dateNow = require(\"../../util/dateNow\");\n\nvar _AppoinmentService = require(\"../service/AppoinmentService\");\n\nvar _UserService = require(\"../service/UserService\");\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nvar express = require(\"express\");\n\nvar moment = require(\"moment\");\n\nvar router = express.Router();\n\nvar _require = require(\"uuid\"),\n    uuidv4 = _require.v4; // const schedule = require(\"node-schedule\");\n\n\nvar JobController = /*#__PURE__*/function () {\n  function JobController() {\n    _classCallCheck(this, JobController);\n  }\n\n  _createClass(JobController, [{\n    key: \"index\",\n    value: function () {\n      var _index = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(req, res, next) {\n        var defaultDate, userSchedule, _iterator, _step, element, user;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                defaultDate = req.query.date;\n                _context.next = 3;\n                return (0, _AppoinmentService.getAppointmentsOnDayByUserID)(req.session.userID, req.session.roleID, defaultDate);\n\n              case 3:\n                userSchedule = _context.sent;\n                _iterator = _createForOfIteratorHelper(userSchedule);\n                _context.prev = 5;\n\n                _iterator.s();\n\n              case 7:\n                if ((_step = _iterator.n()).done) {\n                  _context.next = 16;\n                  break;\n                }\n\n                element = _step.value;\n                _context.next = 11;\n                return (0, _UserService.getUserById)(element.userID);\n\n              case 11:\n                user = _context.sent;\n                element.userAvatar = user.image;\n                element.userName = user.firstName + \" \" + user.lastName;\n\n              case 14:\n                _context.next = 7;\n                break;\n\n              case 16:\n                _context.next = 21;\n                break;\n\n              case 18:\n                _context.prev = 18;\n                _context.t0 = _context[\"catch\"](5);\n\n                _iterator.e(_context.t0);\n\n              case 21:\n                _context.prev = 21;\n\n                _iterator.f();\n\n                return _context.finish(21);\n\n              case 24:\n                res.render(\"doctor/schedule\", {\n                  userSchedule: userSchedule,\n                  defaultDate: defaultDate\n                });\n\n              case 25:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[5, 18, 21, 24]]);\n      }));\n\n      function index(_x, _x2, _x3) {\n        return _index.apply(this, arguments);\n      }\n\n      return index;\n    }()\n  }, {\n    key: \"cancelAppointment\",\n    value: function () {\n      var _cancelAppointment2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(req, res, next) {\n        var isSuccess;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return (0, _AppoinmentService.cancelAppointment)(req.params.appoinmentId);\n\n              case 2:\n                isSuccess = _context2.sent;\n\n                if (isSuccess) {\n                  console.log(\"cancel succeful!\");\n                  res.redirect(\"back\");\n                } else {\n                  console.log(\"cancel error\");\n                }\n\n              case 4:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      function cancelAppointment(_x4, _x5, _x6) {\n        return _cancelAppointment2.apply(this, arguments);\n      }\n\n      return cancelAppointment;\n    }()\n  }]);\n\n  return JobController;\n}();\n\nmodule.exports = new JobController();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkpvYkNvbnRyb2xsZXIuanMiXSwibmFtZXMiOlsiZXhwcmVzcyIsInJlcXVpcmUiLCJtb21lbnQiLCJyb3V0ZXIiLCJSb3V0ZXIiLCJ1dWlkdjQiLCJ2NCIsIkpvYkNvbnRyb2xsZXIiLCJyZXEiLCJyZXMiLCJuZXh0IiwiZGVmYXVsdERhdGUiLCJxdWVyeSIsImRhdGUiLCJzZXNzaW9uIiwidXNlcklEIiwicm9sZUlEIiwidXNlclNjaGVkdWxlIiwiZWxlbWVudCIsInVzZXIiLCJ1c2VyQXZhdGFyIiwiaW1hZ2UiLCJ1c2VyTmFtZSIsImZpcnN0TmFtZSIsImxhc3ROYW1lIiwicmVuZGVyIiwicGFyYW1zIiwiYXBwb2lubWVudElkIiwiaXNTdWNjZXNzIiwiY29uc29sZSIsImxvZyIsInJlZGlyZWN0IiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7QUFLQTs7QUFDQTs7QUFJQTs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBVkEsSUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBRCxDQUF2Qjs7QUFDQSxJQUFNQyxNQUFNLEdBQUdELE9BQU8sQ0FBQyxRQUFELENBQXRCOztBQUNBLElBQU1FLE1BQU0sR0FBR0gsT0FBTyxDQUFDSSxNQUFSLEVBQWY7O0FBQ0EsZUFBdUJILE9BQU8sQ0FBQyxNQUFELENBQTlCO0FBQUEsSUFBWUksTUFBWixZQUFRQyxFQUFSLEMsQ0FDQTs7O0lBT01DLGE7Ozs7Ozs7OzJFQUNKLGlCQUFZQyxHQUFaLEVBQWlCQyxHQUFqQixFQUFzQkMsSUFBdEI7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNNQyxnQkFBQUEsV0FETixHQUNvQkgsR0FBRyxDQUFDSSxLQUFKLENBQVVDLElBRDlCO0FBQUE7QUFBQSx1QkFHMkIscURBQ3ZCTCxHQUFHLENBQUNNLE9BQUosQ0FBWUMsTUFEVyxFQUV2QlAsR0FBRyxDQUFDTSxPQUFKLENBQVlFLE1BRlcsRUFHdkJMLFdBSHVCLENBSDNCOztBQUFBO0FBR01NLGdCQUFBQSxZQUhOO0FBQUEsdURBUXNCQSxZQVJ0QjtBQUFBOztBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBUVdDLGdCQUFBQSxPQVJYO0FBQUE7QUFBQSx1QkFVcUIsOEJBQVlBLE9BQU8sQ0FBQ0gsTUFBcEIsQ0FWckI7O0FBQUE7QUFVUUksZ0JBQUFBLElBVlI7QUFXSUQsZ0JBQUFBLE9BQU8sQ0FBQ0UsVUFBUixHQUFxQkQsSUFBSSxDQUFDRSxLQUExQjtBQUNBSCxnQkFBQUEsT0FBTyxDQUFDSSxRQUFSLEdBQW1CSCxJQUFJLENBQUNJLFNBQUwsR0FBaUIsR0FBakIsR0FBdUJKLElBQUksQ0FBQ0ssUUFBL0M7O0FBWko7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7O0FBQUE7O0FBQUE7QUFBQTs7QUFBQTs7QUFBQTs7QUFBQTtBQWVFZixnQkFBQUEsR0FBRyxDQUFDZ0IsTUFBSixDQUFXLGlCQUFYLEVBQThCO0FBQUVSLGtCQUFBQSxZQUFZLEVBQUVBLFlBQWhCO0FBQThCTixrQkFBQUEsV0FBVyxFQUFYQTtBQUE5QixpQkFBOUI7O0FBZkY7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsTzs7Ozs7Ozs7Ozs7d0ZBa0JBLGtCQUF3QkgsR0FBeEIsRUFBNkJDLEdBQTdCLEVBQWtDQyxJQUFsQztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLHVCQUN3QiwwQ0FBa0JGLEdBQUcsQ0FBQ2tCLE1BQUosQ0FBV0MsWUFBN0IsQ0FEeEI7O0FBQUE7QUFDTUMsZ0JBQUFBLFNBRE47O0FBR0Usb0JBQUlBLFNBQUosRUFBZTtBQUNiQyxrQkFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVksa0JBQVo7QUFDQXJCLGtCQUFBQSxHQUFHLENBQUNzQixRQUFKLENBQWEsTUFBYjtBQUNELGlCQUhELE1BR087QUFDTEYsa0JBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLGNBQVo7QUFDRDs7QUFSSDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxPOzs7Ozs7Ozs7Ozs7O0FBWUZFLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQixJQUFJMUIsYUFBSixFQUFqQiIsInNvdXJjZVJvb3QiOiIvVXNlcnMvbWFjL0Rlc2t0b3AvRmluYWxfUHJvamVjdF9EVFUvc3JjL2FwcC9jb250cm9sbGVycy8iLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBleHByZXNzID0gcmVxdWlyZShcImV4cHJlc3NcIik7XHJcbmNvbnN0IG1vbWVudCA9IHJlcXVpcmUoXCJtb21lbnRcIik7XHJcbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XHJcbmNvbnN0IHsgdjQ6IHV1aWR2NCB9ID0gcmVxdWlyZShcInV1aWRcIik7XHJcbi8vIGNvbnN0IHNjaGVkdWxlID0gcmVxdWlyZShcIm5vZGUtc2NoZWR1bGVcIik7XHJcbmltcG9ydCB7IGZvcm1hdERhdGUgfSBmcm9tIFwiLi4vLi4vdXRpbC9kYXRlTm93XCI7XHJcbmltcG9ydCB7XHJcbiAgZ2V0QXBwb2ludG1lbnRzT25EYXlCeVVzZXJJRCxcclxuICBjYW5jZWxBcHBvaW50bWVudCxcclxufSBmcm9tIFwiLi4vc2VydmljZS9BcHBvaW5tZW50U2VydmljZVwiO1xyXG5pbXBvcnQgeyBnZXRVc2VyQnlJZCB9IGZyb20gXCIuLi9zZXJ2aWNlL1VzZXJTZXJ2aWNlXCI7XHJcbmNsYXNzIEpvYkNvbnRyb2xsZXIge1xyXG4gIGFzeW5jIGluZGV4KHJlcSwgcmVzLCBuZXh0KSB7XHJcbiAgICBsZXQgZGVmYXVsdERhdGUgPSByZXEucXVlcnkuZGF0ZTtcclxuXHJcbiAgICBsZXQgdXNlclNjaGVkdWxlID0gYXdhaXQgZ2V0QXBwb2ludG1lbnRzT25EYXlCeVVzZXJJRChcclxuICAgICAgcmVxLnNlc3Npb24udXNlcklELFxyXG4gICAgICByZXEuc2Vzc2lvbi5yb2xlSUQsXHJcbiAgICAgIGRlZmF1bHREYXRlXHJcbiAgICApO1xyXG4gICAgZm9yIChsZXQgZWxlbWVudCBvZiB1c2VyU2NoZWR1bGUpIHtcclxuICAgICAgLy8gY29uc29sZS5sb2coZWxlbWVudC5kb2N0b3JJRCk7XHJcbiAgICAgIGxldCB1c2VyID0gYXdhaXQgZ2V0VXNlckJ5SWQoZWxlbWVudC51c2VySUQpO1xyXG4gICAgICBlbGVtZW50LnVzZXJBdmF0YXIgPSB1c2VyLmltYWdlO1xyXG4gICAgICBlbGVtZW50LnVzZXJOYW1lID0gdXNlci5maXJzdE5hbWUgKyBcIiBcIiArIHVzZXIubGFzdE5hbWU7XHJcbiAgICB9XHJcblxyXG4gICAgcmVzLnJlbmRlcihcImRvY3Rvci9zY2hlZHVsZVwiLCB7IHVzZXJTY2hlZHVsZTogdXNlclNjaGVkdWxlLCBkZWZhdWx0RGF0ZSB9KTtcclxuICB9XHJcblxyXG4gIGFzeW5jIGNhbmNlbEFwcG9pbnRtZW50KHJlcSwgcmVzLCBuZXh0KSB7XHJcbiAgICBsZXQgaXNTdWNjZXNzID0gYXdhaXQgY2FuY2VsQXBwb2ludG1lbnQocmVxLnBhcmFtcy5hcHBvaW5tZW50SWQpO1xyXG5cclxuICAgIGlmIChpc1N1Y2Nlc3MpIHtcclxuICAgICAgY29uc29sZS5sb2coXCJjYW5jZWwgc3VjY2VmdWwhXCIpO1xyXG4gICAgICByZXMucmVkaXJlY3QoXCJiYWNrXCIpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29uc29sZS5sb2coXCJjYW5jZWwgZXJyb3JcIik7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IG5ldyBKb2JDb250cm9sbGVyKCk7XHJcbiJdfQ==","map":{"version":3,"sources":["JobController.js"],"names":["express","require","moment","router","Router","uuidv4","v4","JobController","req","res","next","defaultDate","query","date","session","userID","roleID","userSchedule","element","user","userAvatar","image","userName","firstName","lastName","render","params","appoinmentId","isSuccess","console","log","redirect","module","exports"],"mappings":";;AAKA;;AACA;;AAIA;;;;;;;;;;;;;;;;;;AAVA,IAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,IAAMC,MAAM,GAAGD,OAAO,CAAC,QAAD,CAAtB;;AACA,IAAME,MAAM,GAAGH,OAAO,CAACI,MAAR,EAAf;;AACA,eAAuBH,OAAO,CAAC,MAAD,CAA9B;AAAA,IAAYI,MAAZ,YAAQC,EAAR,C,CACA;;;IAOMC,a;;;;;;;;2EACJ,iBAAYC,GAAZ,EAAiBC,GAAjB,EAAsBC,IAAtB;AAAA;;AAAA;AAAA;AAAA;AAAA;AACMC,gBAAAA,WADN,GACoBH,GAAG,CAACI,KAAJ,CAAUC,IAD9B;AAAA;AAAA,uBAG2B,qDACvBL,GAAG,CAACM,OAAJ,CAAYC,MADW,EAEvBP,GAAG,CAACM,OAAJ,CAAYE,MAFW,EAGvBL,WAHuB,CAH3B;;AAAA;AAGMM,gBAAAA,YAHN;AAAA,uDAQsBA,YARtB;AAAA;;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;;AAQWC,gBAAAA,OARX;AAAA;AAAA,uBAUqB,8BAAYA,OAAO,CAACH,MAApB,CAVrB;;AAAA;AAUQI,gBAAAA,IAVR;AAWID,gBAAAA,OAAO,CAACE,UAAR,GAAqBD,IAAI,CAACE,KAA1B;AACAH,gBAAAA,OAAO,CAACI,QAAR,GAAmBH,IAAI,CAACI,SAAL,GAAiB,GAAjB,GAAuBJ,IAAI,CAACK,QAA/C;;AAZJ;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA;;AAAA;;AAAA;;AAAA;AAeEf,gBAAAA,GAAG,CAACgB,MAAJ,CAAW,iBAAX,EAA8B;AAAER,kBAAAA,YAAY,EAAEA,YAAhB;AAA8BN,kBAAAA,WAAW,EAAXA;AAA9B,iBAA9B;;AAfF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,O;;;;;;;;;;;wFAkBA,kBAAwBH,GAAxB,EAA6BC,GAA7B,EAAkCC,IAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACwB,0CAAkBF,GAAG,CAACkB,MAAJ,CAAWC,YAA7B,CADxB;;AAAA;AACMC,gBAAAA,SADN;;AAGE,oBAAIA,SAAJ,EAAe;AACbC,kBAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ;AACArB,kBAAAA,GAAG,CAACsB,QAAJ,CAAa,MAAb;AACD,iBAHD,MAGO;AACLF,kBAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ;AACD;;AARH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,O;;;;;;;;;;;;;AAYFE,MAAM,CAACC,OAAP,GAAiB,IAAI1B,aAAJ,EAAjB","sourceRoot":"/Users/mac/Desktop/Final_Project_DTU/src/app/controllers/","sourcesContent":["const express = require(\"express\");\r\nconst moment = require(\"moment\");\r\nconst router = express.Router();\r\nconst { v4: uuidv4 } = require(\"uuid\");\r\n// const schedule = require(\"node-schedule\");\r\nimport { formatDate } from \"../../util/dateNow\";\r\nimport {\r\n  getAppointmentsOnDayByUserID,\r\n  cancelAppointment,\r\n} from \"../service/AppoinmentService\";\r\nimport { getUserById } from \"../service/UserService\";\r\nclass JobController {\r\n  async index(req, res, next) {\r\n    let defaultDate = req.query.date;\r\n\r\n    let userSchedule = await getAppointmentsOnDayByUserID(\r\n      req.session.userID,\r\n      req.session.roleID,\r\n      defaultDate\r\n    );\r\n    for (let element of userSchedule) {\r\n      // console.log(element.doctorID);\r\n      let user = await getUserById(element.userID);\r\n      element.userAvatar = user.image;\r\n      element.userName = user.firstName + \" \" + user.lastName;\r\n    }\r\n\r\n    res.render(\"doctor/schedule\", { userSchedule: userSchedule, defaultDate });\r\n  }\r\n\r\n  async cancelAppointment(req, res, next) {\r\n    let isSuccess = await cancelAppointment(req.params.appoinmentId);\r\n\r\n    if (isSuccess) {\r\n      console.log(\"cancel succeful!\");\r\n      res.redirect(\"back\");\r\n    } else {\r\n      console.log(\"cancel error\");\r\n    }\r\n  }\r\n}\r\n\r\nmodule.exports = new JobController();\r\n"]}},"mtime":1651628686000},"{\"sourceRoot\":\"/Users/mac/Desktop/Final_Project_DTU/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/mac/Desktop/Final_Project_DTU\",\"filename\":\"/Users/mac/Desktop/Final_Project_DTU/src/routes/schedule.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/mac/Desktop/Final_Project_DTU\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar express = require(\"express\");\n\nvar router = express.Router();\n\nvar multer = require(\"multer\");\n\nvar upload = multer({\n  dest: \"src/public/uploads/\"\n});\n\nvar scheduleController = require(\"../app/controllers/ScheduleController\");\n\nrouter.use(\"/cancel/:appoinmentId\", scheduleController.cancelAppointment);\nrouter.use(\"/\", scheduleController.index);\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjaGVkdWxlLmpzIl0sIm5hbWVzIjpbImV4cHJlc3MiLCJyZXF1aXJlIiwicm91dGVyIiwiUm91dGVyIiwibXVsdGVyIiwidXBsb2FkIiwiZGVzdCIsInNjaGVkdWxlQ29udHJvbGxlciIsInVzZSIsImNhbmNlbEFwcG9pbnRtZW50IiwiaW5kZXgiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOztBQUFBLElBQUlBLE9BQU8sR0FBR0MsT0FBTyxDQUFDLFNBQUQsQ0FBckI7O0FBQ0EsSUFBSUMsTUFBTSxHQUFHRixPQUFPLENBQUNHLE1BQVIsRUFBYjs7QUFDQSxJQUFJQyxNQUFNLEdBQUdILE9BQU8sQ0FBQyxRQUFELENBQXBCOztBQUNBLElBQU1JLE1BQU0sR0FBR0QsTUFBTSxDQUFDO0FBQ3BCRSxFQUFBQSxJQUFJLEVBQUU7QUFEYyxDQUFELENBQXJCOztBQUlBLElBQU1DLGtCQUFrQixHQUFHTixPQUFPLENBQUMsdUNBQUQsQ0FBbEM7O0FBQ0FDLE1BQU0sQ0FBQ00sR0FBUCxDQUFXLHVCQUFYLEVBQW9DRCxrQkFBa0IsQ0FBQ0UsaUJBQXZEO0FBQ0FQLE1BQU0sQ0FBQ00sR0FBUCxDQUFXLEdBQVgsRUFBZ0JELGtCQUFrQixDQUFDRyxLQUFuQztBQUNBQyxNQUFNLENBQUNDLE9BQVAsR0FBaUJWLE1BQWpCIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9tYWMvRGVza3RvcC9GaW5hbF9Qcm9qZWN0X0RUVS9zcmMvcm91dGVzLyIsInNvdXJjZXNDb250ZW50IjpbInZhciBleHByZXNzID0gcmVxdWlyZShcImV4cHJlc3NcIik7XHJcbnZhciByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xyXG5sZXQgbXVsdGVyID0gcmVxdWlyZShcIm11bHRlclwiKTtcclxuY29uc3QgdXBsb2FkID0gbXVsdGVyKHtcclxuICBkZXN0OiBcInNyYy9wdWJsaWMvdXBsb2Fkcy9cIixcclxufSk7XHJcblxyXG5jb25zdCBzY2hlZHVsZUNvbnRyb2xsZXIgPSByZXF1aXJlKFwiLi4vYXBwL2NvbnRyb2xsZXJzL1NjaGVkdWxlQ29udHJvbGxlclwiKTtcclxucm91dGVyLnVzZShcIi9jYW5jZWwvOmFwcG9pbm1lbnRJZFwiLCBzY2hlZHVsZUNvbnRyb2xsZXIuY2FuY2VsQXBwb2ludG1lbnQpO1xyXG5yb3V0ZXIudXNlKFwiL1wiLCBzY2hlZHVsZUNvbnRyb2xsZXIuaW5kZXgpO1xyXG5tb2R1bGUuZXhwb3J0cyA9IHJvdXRlcjtcclxuIl19","map":{"version":3,"sources":["schedule.js"],"names":["express","require","router","Router","multer","upload","dest","scheduleController","use","cancelAppointment","index","module","exports"],"mappings":";;AAAA,IAAIA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAArB;;AACA,IAAIC,MAAM,GAAGF,OAAO,CAACG,MAAR,EAAb;;AACA,IAAIC,MAAM,GAAGH,OAAO,CAAC,QAAD,CAApB;;AACA,IAAMI,MAAM,GAAGD,MAAM,CAAC;AACpBE,EAAAA,IAAI,EAAE;AADc,CAAD,CAArB;;AAIA,IAAMC,kBAAkB,GAAGN,OAAO,CAAC,uCAAD,CAAlC;;AACAC,MAAM,CAACM,GAAP,CAAW,uBAAX,EAAoCD,kBAAkB,CAACE,iBAAvD;AACAP,MAAM,CAACM,GAAP,CAAW,GAAX,EAAgBD,kBAAkB,CAACG,KAAnC;AACAC,MAAM,CAACC,OAAP,GAAiBV,MAAjB","sourceRoot":"/Users/mac/Desktop/Final_Project_DTU/src/routes/","sourcesContent":["var express = require(\"express\");\r\nvar router = express.Router();\r\nlet multer = require(\"multer\");\r\nconst upload = multer({\r\n  dest: \"src/public/uploads/\",\r\n});\r\n\r\nconst scheduleController = require(\"../app/controllers/ScheduleController\");\r\nrouter.use(\"/cancel/:appoinmentId\", scheduleController.cancelAppointment);\r\nrouter.use(\"/\", scheduleController.index);\r\nmodule.exports = router;\r\n"]}},"mtime":1651628686000},"{\"sourceRoot\":\"/Users/mac/Desktop/Final_Project_DTU/src/app/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/mac/Desktop/Final_Project_DTU\",\"filename\":\"/Users/mac/Desktop/Final_Project_DTU/src/app/controllers/ScheduleController.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/mac/Desktop/Final_Project_DTU\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar _dateNow = require(\"../../util/dateNow\");\n\nvar _NotificationService = require(\"../service/NotificationService\");\n\nvar _AppoinmentService = require(\"../service/AppoinmentService\");\n\nvar _UserService = require(\"../service/UserService\");\n\nvar _socketServer = require(\"../../public/script/socketServer\");\n\nvar _TransactionHistoryService = require(\"../service/TransactionHistoryService\");\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nvar express = require(\"express\");\n\nvar app = express();\n\nvar server = require(\"http\").Server(app);\n\nvar io = require(\"socket.io\")(server);\n\nvar moment = require(\"moment\");\n\nvar router = express.Router();\n\nvar _require = require(\"uuid\"),\n    uuidv4 = _require.v4; // const schedule = require(\"node-schedule\");\n\n\nvar ScheduleController = /*#__PURE__*/function () {\n  function ScheduleController() {\n    _classCallCheck(this, ScheduleController);\n  }\n\n  _createClass(ScheduleController, [{\n    key: \"index\",\n    value: function () {\n      var _index = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(req, res, next) {\n        var defaultDate, userSchedule, _iterator, _step, element, doctor;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                defaultDate = req.query.date;\n                _context.next = 3;\n                return (0, _AppoinmentService.getAppointmentsOnDayByUserID)(req.session.userID, req.session.roleID, defaultDate);\n\n              case 3:\n                userSchedule = _context.sent;\n                _iterator = _createForOfIteratorHelper(userSchedule);\n                _context.prev = 5;\n\n                _iterator.s();\n\n              case 7:\n                if ((_step = _iterator.n()).done) {\n                  _context.next = 16;\n                  break;\n                }\n\n                element = _step.value;\n                _context.next = 11;\n                return (0, _UserService.getUserById)(element.doctorID);\n\n              case 11:\n                doctor = _context.sent;\n                element.doctorAvatar = doctor.image;\n                element.doctorName = doctor.firstName + \" \" + doctor.lastName;\n\n              case 14:\n                _context.next = 7;\n                break;\n\n              case 16:\n                _context.next = 21;\n                break;\n\n              case 18:\n                _context.prev = 18;\n                _context.t0 = _context[\"catch\"](5);\n\n                _iterator.e(_context.t0);\n\n              case 21:\n                _context.prev = 21;\n\n                _iterator.f();\n\n                return _context.finish(21);\n\n              case 24:\n                res.render(\"user/schedule\", {\n                  userSchedule: userSchedule,\n                  defaultDate: defaultDate,\n                  messageCancelBooking: req.session.messageCancelBooking\n                });\n                req.session.messageCancelBooking = null;\n\n              case 26:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[5, 18, 21, 24]]);\n      }));\n\n      function index(_x, _x2, _x3) {\n        return _index.apply(this, arguments);\n      }\n\n      return index;\n    }()\n  }, {\n    key: \"cancelAppointment\",\n    value: function () {\n      var _cancelAppointment2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(req, res, next) {\n        var appointmentCanceled, transactionHistory, moneyRollBackForDoctor, moneyRollBackForUser, rBDoctor, rBUser, titleNotificationForAppointment, contentNotificationForAppointment, notification, newNotification;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.prev = 0;\n                _context2.next = 3;\n                return (0, _AppoinmentService.cancelAppointment)(req.params.appoinmentId);\n\n              case 3:\n                appointmentCanceled = _context2.sent;\n\n                if (!appointmentCanceled) {\n                  _context2.next = 29;\n                  break;\n                }\n\n                _context2.next = 7;\n                return (0, _TransactionHistoryService.getTransactionHistoryByAppointmentId)(appointmentCanceled.id);\n\n              case 7:\n                transactionHistory = _context2.sent;\n                moneyRollBackForDoctor = transactionHistory.balance * 70 / 100;\n                moneyRollBackForUser = transactionHistory.balance; //rollback money\n\n                _context2.next = 12;\n                return (0, _TransactionHistoryService.rollBackMoneyForDoctor)(appointmentCanceled.doctorID, moneyRollBackForDoctor);\n\n              case 12:\n                rBDoctor = _context2.sent;\n                _context2.next = 15;\n                return (0, _TransactionHistoryService.rollBackMoneyForUser)(appointmentCanceled.userID, moneyRollBackForUser);\n\n              case 15:\n                rBUser = _context2.sent;\n                //save notification\n                titleNotificationForAppointment = \"Thông Báo Lịch Hẹn Đã Huỷ\";\n                contentNotificationForAppointment = \"Vừa có lịch hẹn đã được huỷ, bạn có thể kiểm tra lịch !\";\n                notification = {\n                  appointmentId: appointmentCanceled.id,\n                  title: titleNotificationForAppointment,\n                  content: contentNotificationForAppointment,\n                  link: \"/job?date=2022-05-04\",\n                  fromUserID: appointmentCanceled.userID,\n                  doctorID: appointmentCanceled.doctorID\n                }; //create Notification in db\n\n                _context2.next = 21;\n                return (0, _NotificationService.createNotification)(notification);\n\n              case 21:\n                newNotification = _context2.sent;\n                //create Notification in client side\n                console.log(\"after create\");\n                console.log(newNotification);\n                (0, _socketServer.serverNotification)(io, notification);\n                req.session.messageCancelBooking = \"Bạn đã đặt huỷ lịch thành công,tiền đã được hoàn lại để kiểm tra !\";\n                res.redirect(\"back\");\n                _context2.next = 30;\n                break;\n\n              case 29:\n                console.log(\"cancel error\");\n\n              case 30:\n                _context2.next = 35;\n                break;\n\n              case 32:\n                _context2.prev = 32;\n                _context2.t0 = _context2[\"catch\"](0);\n                console.log(_context2.t0);\n\n              case 35:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, null, [[0, 32]]);\n      }));\n\n      function cancelAppointment(_x4, _x5, _x6) {\n        return _cancelAppointment2.apply(this, arguments);\n      }\n\n      return cancelAppointment;\n    }()\n  }]);\n\n  return ScheduleController;\n}();\n\nmodule.exports = new ScheduleController();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlNjaGVkdWxlQ29udHJvbGxlci5qcyJdLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsImFwcCIsInNlcnZlciIsIlNlcnZlciIsImlvIiwibW9tZW50Iiwicm91dGVyIiwiUm91dGVyIiwidXVpZHY0IiwidjQiLCJTY2hlZHVsZUNvbnRyb2xsZXIiLCJyZXEiLCJyZXMiLCJuZXh0IiwiZGVmYXVsdERhdGUiLCJxdWVyeSIsImRhdGUiLCJzZXNzaW9uIiwidXNlcklEIiwicm9sZUlEIiwidXNlclNjaGVkdWxlIiwiZWxlbWVudCIsImRvY3RvcklEIiwiZG9jdG9yIiwiZG9jdG9yQXZhdGFyIiwiaW1hZ2UiLCJkb2N0b3JOYW1lIiwiZmlyc3ROYW1lIiwibGFzdE5hbWUiLCJyZW5kZXIiLCJtZXNzYWdlQ2FuY2VsQm9va2luZyIsInBhcmFtcyIsImFwcG9pbm1lbnRJZCIsImFwcG9pbnRtZW50Q2FuY2VsZWQiLCJpZCIsInRyYW5zYWN0aW9uSGlzdG9yeSIsIm1vbmV5Um9sbEJhY2tGb3JEb2N0b3IiLCJiYWxhbmNlIiwibW9uZXlSb2xsQmFja0ZvclVzZXIiLCJyQkRvY3RvciIsInJCVXNlciIsInRpdGxlTm90aWZpY2F0aW9uRm9yQXBwb2ludG1lbnQiLCJjb250ZW50Tm90aWZpY2F0aW9uRm9yQXBwb2ludG1lbnQiLCJub3RpZmljYXRpb24iLCJhcHBvaW50bWVudElkIiwidGl0bGUiLCJjb250ZW50IiwibGluayIsImZyb21Vc2VySUQiLCJuZXdOb3RpZmljYXRpb24iLCJjb25zb2xlIiwibG9nIiwicmVkaXJlY3QiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOztBQVFBOztBQUNBOztBQUlBOztBQUlBOztBQUNBOztBQUlBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUF0QkEsSUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBRCxDQUF2Qjs7QUFDQSxJQUFNQyxHQUFHLEdBQUdGLE9BQU8sRUFBbkI7O0FBQ0EsSUFBTUcsTUFBTSxHQUFH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QllDLGdCQUFBQSxpQ0F6QlosR0EwQlEseURBMUJSO0FBMkJZQyxnQkFBQUEsWUEzQlosR0EyQjJCO0FBQ25CQyxrQkFBQUEsYUFBYSxFQUFFWCxtQkFBbUIsQ0FBQ0MsRUFEaEI7QUFFbkJXLGtCQUFBQSxLQUFLLEVBQUVKLCtCQUZZO0FBR25CSyxrQkFBQUEsT0FBTyxFQUFFSixpQ0FIVTtBQUluQkssa0JBQUFBLElBQUksRUFBRSxzQkFKYTtBQUtuQkMsa0JBQUFBLFVBQVUsRUFBRWYsbUJBQW1CLENBQUNmLE1BTGI7QUFNbkJJLGtCQUFBQSxRQUFRLEVBQUVXLG1CQUFtQixDQUFDWDtBQU5YLGlCQTNCM0IsRUFtQ007O0FBbkNOO0FBQUEsdUJBb0NrQyw2Q0FBbUJxQixZQUFuQixDQXBDbEM7O0FBQUE7QUFvQ1VNLGdCQUFBQSxlQXBDVjtBQXFDTTtBQUNBQyxnQkFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVksY0FBWjtBQUNBRCxnQkFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVlGLGVBQVo7QUFDQSxzREFBbUI3QyxFQUFuQixFQUF1QnVDLFlBQXZCO0FBQ0FoQyxnQkFBQUEsR0FBRyxDQUFDTSxPQUFKLENBQVlhLG9CQUFaLEdBQ0Usb0VBREY7QUFFQWxCLGdCQUFBQSxHQUFHLENBQUN3QyxRQUFKLENBQWEsTUFBYjtBQTNDTjtBQUFBOztBQUFBO0FBNkNNRixnQkFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVksY0FBWjs7QUE3Q047QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQWdESUQsZ0JBQUFBLE9BQU8sQ0FBQ0MsR0FBUjs7QUFoREo7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsTzs7Ozs7Ozs7Ozs7OztBQXFERkUsTUFBTSxDQUFDQyxPQUFQLEdBQWlCLElBQUk1QyxrQkFBSixFQUFqQiIsInNvdXJjZVJvb3QiOiIvVXNlcnMvbWFjL0Rlc2t0b3AvRmluYWxfUHJvamVjdF9EVFUvc3JjL2FwcC9jb250cm9sbGVycy8iLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBleHByZXNzID0gcmVxdWlyZShcImV4cHJlc3NcIik7XHJcbmNvbnN0IGFwcCA9IGV4cHJlc3MoKTtcclxuY29uc3Qgc2VydmVyID0gcmVxdWlyZShcImh0dHBcIikuU2VydmVyKGFwcCk7XHJcbnZhciBpbyA9IHJlcXVpcmUoXCJzb2NrZXQuaW9cIikoc2VydmVyKTtcclxuY29uc3QgbW9tZW50ID0gcmVxdWlyZShcIm1vbWVudFwiKTtcclxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcclxuY29uc3QgeyB2NDogdXVpZHY0IH0gPSByZXF1aXJlKFwidXVpZFwiKTtcclxuLy8gY29uc3Qgc2NoZWR1bGUgPSByZXF1aXJlKFwibm9kZS1zY2hlZHVsZVwiKTtcclxuaW1wb3J0IHsgZm9ybWF0RGF0ZSB9IGZyb20gXCIuLi8uLi91dGlsL2RhdGVOb3dcIjtcclxuaW1wb3J0IHtcclxuICBjcmVhdGVOb3RpZmljYXRpb24sXHJcbiAgc29ja2V0U2VydmVyTm90aWZpY2F0aW9uLFxyXG59IGZyb20gXCIuLi9zZXJ2aWNlL05vdGlmaWNhdGlvblNlcnZpY2VcIjtcclxuaW1wb3J0IHtcclxuICBnZXRBcHBvaW50bWVudHNPbkRheUJ5VXNlcklELFxyXG4gIGNhbmNlbEFwcG9pbnRtZW50LFxyXG59IGZyb20gXCIuLi9zZXJ2aWNlL0FwcG9pbm1lbnRTZXJ2aWNlXCI7XHJcbmltcG9ydCB7IGdldFVzZXJCeUlkIH0gZnJvbSBcIi4uL3NlcnZpY2UvVXNlclNlcnZpY2VcIjtcclxuaW1wb3J0IHtcclxuICBib29raW5nTm90aWZpY2F0aW9uLFxyXG4gIHNlcnZlck5vdGlmaWNhdGlvbixcclxufSBmcm9tIFwiLi4vLi4vcHVibGljL3NjcmlwdC9zb2NrZXRTZXJ2ZXJcIjtcclxuaW1wb3J0IHtcclxuICByb2xsQmFja01vbmV5Rm9yRG9jdG9yLFxyXG4gIHJvbGxCYWNrTW9uZXlGb3JVc2VyLFxyXG4gIGdldFRyYW5zYWN0aW9uSGlzdG9yeUJ5QXBwb2ludG1lbnRJZCxcclxufSBmcm9tIFwiLi4vc2VydmljZS9UcmFuc2FjdGlvbkhpc3RvcnlTZXJ2aWNlXCI7XHJcbmNsYXNzIFNjaGVkdWxlQ29udHJvbGxlciB7XHJcbiAgYXN5bmMgaW5kZXgocmVxLCByZXMsIG5leHQpIHtcclxuICAgIGxldCBkZWZhdWx0RGF0ZSA9IHJlcS5xdWVyeS5kYXRlO1xyXG5cclxuICAgIGxldCB1c2VyU2NoZWR1bGUgPSBhd2FpdCBnZXRBcHBvaW50bWVudHNPbkRheUJ5VXNlcklEKFxyXG4gICAgICByZXEuc2Vzc2lvbi51c2VySUQsXHJcbiAgICAgIHJlcS5zZXNzaW9uLnJvbGVJRCxcclxuICAgICAgZGVmYXVsdERhdGVcclxuICAgICk7XHJcblxyXG4gICAgZm9yIChsZXQgZWxlbWVudCBvZiB1c2VyU2NoZWR1bGUpIHtcclxuICAgICAgbGV0IGRvY3RvciA9IGF3YWl0IGdldFVzZXJCeUlkKGVsZW1lbnQuZG9jdG9ySUQpO1xyXG4gICAgICBlbGVtZW50LmRvY3RvckF2YXRhciA9IGRvY3Rvci5pbWFnZTtcclxuICAgICAgZWxlbWVudC5kb2N0b3JOYW1lID0gZG9jdG9yLmZpcnN0TmFtZSArIFwiIFwiICsgZG9jdG9yLmxhc3ROYW1lO1xyXG4gICAgfVxyXG5cclxuICAgIHJlcy5yZW5kZXIoXCJ1c2VyL3NjaGVkdWxlXCIsIHtcclxuICAgICAgdXNlclNjaGVkdWxlOiB1c2VyU2NoZWR1bGUsXHJcbiAgICAgIGRlZmF1bHREYXRlLFxyXG4gICAgICBtZXNzYWdlQ2FuY2VsQm9va2luZzogcmVxLnNlc3Npb24ubWVzc2FnZUNhbmNlbEJvb2tpbmcsXHJcbiAgICB9KTtcclxuICAgIHJlcS5zZXNzaW9uLm1lc3NhZ2VDYW5jZWxCb29raW5nID0gbnVsbDtcclxuICB9XHJcblxyXG4gIGFzeW5jIGNhbmNlbEFwcG9pbnRtZW50KHJlcSwgcmVzLCBuZXh0KSB7XHJcbiAgICB0cnkge1xyXG4gICAgICBsZXQgYXBwb2ludG1lbnRDYW5jZWxlZCA9IGF3YWl0IGNhbmNlbEFwcG9pbnRtZW50KFxyXG4gICAgICAgIHJlcS5wYXJhbXMuYXBwb2lubWVudElkXHJcbiAgICAgICk7XHJcblxyXG4gICAgICBpZiAoYXBwb2ludG1lbnRDYW5jZWxlZCkge1xyXG4gICAgICAgIGxldCB0cmFuc2FjdGlvbkhpc3RvcnkgPSBhd2FpdCBnZXRUcmFuc2FjdGlvbkhpc3RvcnlCeUFwcG9pbnRtZW50SWQoXHJcbiAgICAgICAgICBhcHBvaW50bWVudENhbmNlbGVkLmlkXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgbGV0IG1vbmV5Um9sbEJhY2tGb3JEb2N0b3IgPSAodHJhbnNhY3Rpb25IaXN0b3J5LmJhbGFuY2UgKiA3MCkgLyAxMDA7XHJcbiAgICAgICAgbGV0IG1vbmV5Um9sbEJhY2tGb3JVc2VyID0gdHJhbnNhY3Rpb25IaXN0b3J5LmJhbGFuY2U7XHJcblxyXG4gICAgICAgIC8vcm9sbGJhY2sgbW9uZXlcclxuICAgICAgICBsZXQgckJEb2N0b3IgPSBhd2FpdCByb2xsQmFja01vbmV5Rm9yRG9jdG9yKFxyXG4gICAgICAgICAgYXBwb2ludG1lbnRDYW5jZWxlZC5kb2N0b3JJRCxcclxuICAgICAgICAgIG1vbmV5Um9sbEJhY2tGb3JEb2N0b3JcclxuICAgICAgICApO1xyXG4gICAgICAgIGxldCByQlVzZXIgPSBhd2FpdCByb2xsQmFja01vbmV5Rm9yVXNlcihcclxuICAgICAgICAgIGFwcG9pbnRtZW50Q2FuY2VsZWQudXNlcklELFxyXG4gICAgICAgICAgbW9uZXlSb2xsQmFja0ZvclVzZXJcclxuICAgICAgICApO1xyXG4gICAgICAgIC8vc2F2ZSBub3RpZmljYXRpb25cclxuICAgICAgICBjb25zdCB0aXRsZU5vdGlmaWNhdGlvbkZvckFwcG9pbnRtZW50ID0gXCJUaMO0bmcgQsOhbyBM4buLY2ggSOG6uW4gxJDDoyBIdeG7t1wiO1xyXG4gICAgICAgIGNvbnN0IGNvbnRlbnROb3RpZmljYXRpb25Gb3JBcHBvaW50bWVudCA9XHJcbiAgICAgICAgICBcIlbhu6thIGPDsyBs4buLY2ggaOG6uW4gxJHDoyDEkcaw4bujYyBodeG7tywgYuG6oW4gY8OzIHRo4buDIGtp4buDbSB0cmEgbOG7i2NoICFcIjtcclxuICAgICAgICBjb25zdCBub3RpZmljYXRpb24gPSB7XHJcbiAgICAgICAgICBhcHBvaW50bWVudElkOiBhcHBvaW50bWVudENhbmNlbGVkLmlkLFxyXG4gICAgICAgICAgdGl0bGU6IHRpdGxlTm90aWZpY2F0aW9uRm9yQXBwb2ludG1lbnQsXHJcbiAgICAgICAgICBjb250ZW50OiBjb250ZW50Tm90aWZpY2F0aW9uRm9yQXBwb2ludG1lbnQsXHJcbiAgICAgICAgICBsaW5rOiBcIi9qb2I/ZGF0ZT0yMDIyLTA1LTA0XCIsXHJcbiAgICAgICAgICBmcm9tVXNlcklEOiBhcHBvaW50bWVudENhbmNlbGVkLnVzZXJJRCxcclxuICAgICAgICAgIGRvY3RvcklEOiBhcHBvaW50bWVudENhbmNlbGVkLmRvY3RvcklELFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgLy9jcmVhdGUgTm90aWZpY2F0aW9uIGluIGRiXHJcbiAgICAgICAgbGV0IG5ld05vdGlmaWNhdGlvbiA9IGF3YWl0IGNyZWF0ZU5vdGlmaWNhdGlvbihub3RpZmljYXRpb24pO1xyXG4gICAgICAgIC8vY3JlYXRlIE5vdGlmaWNhdGlvbiBpbiBjbGllbnQgc2lkZVxyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiYWZ0ZXIgY3JlYXRlXCIpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKG5ld05vdGlmaWNhdGlvbik7XHJcbiAgICAgICAgc2VydmVyTm90aWZpY2F0aW9uKGlvLCBub3RpZmljYXRpb24pO1xyXG4gICAgICAgIHJlcS5zZXNzaW9uLm1lc3NhZ2VDYW5jZWxCb29raW5nID1cclxuICAgICAgICAgIFwiQuG6oW4gxJHDoyDEkeG6t3QgaHXhu7cgbOG7i2NoIHRow6BuaCBjw7RuZyx0aeG7gW4gxJHDoyDEkcaw4bujYyBob8OgbiBs4bqhaSDEkeG7gyBraeG7g20gdHJhICFcIjtcclxuICAgICAgICByZXMucmVkaXJlY3QoXCJiYWNrXCIpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiY2FuY2VsIGVycm9yXCIpO1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gbmV3IFNjaGVkdWxlQ29udHJvbGxlcigpO1xyXG4iXX0=","map":{"version":3,"sources":["ScheduleController.js"],"names":["express","require","app","server","Server","io","moment","router","Router","uuidv4","v4","ScheduleController","req","res","next","defaultDate","query","date","session","userID","roleID","userSchedule","element","doctorID","doctor","doctorAvatar","image","doctorName","firstName","lastName","render","messageCancelBooking","params","appoinmentId","appointmentCanceled","id","transactionHistory","moneyRollBackForDoctor","balance","moneyRollBackForUser","rBDoctor","rBUser","titleNotificationForAppointment","contentNotificationForAppointment","notification","appointmentId","title","content","link","fromUserID","newNotification","console","log","redirect","module","exports"],"mappings":"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","sourceRoot":"/Users/mac/Desktop/Final_Project_DTU/src/app/controllers/","sourcesContent":["const express = require(\"express\");\r\nconst app = express();\r\nconst server = require(\"http\").Server(app);\r\nvar io = require(\"socket.io\")(server);\r\nconst moment = require(\"moment\");\r\nconst router = express.Router();\r\nconst { v4: uuidv4 } = require(\"uuid\");\r\n// const schedule = require(\"node-schedule\");\r\nimport { formatDate } from \"../../util/dateNow\";\r\nimport {\r\n  createNotification,\r\n  socketServerNotification,\r\n} from \"../service/NotificationService\";\r\nimport {\r\n  getAppointmentsOnDayByUserID,\r\n  cancelAppointment,\r\n} from \"../service/AppoinmentService\";\r\nimport { getUserById } from \"../service/UserService\";\r\nimport {\r\n  bookingNotification,\r\n  serverNotification,\r\n} from \"../../public/script/socketServer\";\r\nimport {\r\n  rollBackMoneyForDoctor,\r\n  rollBackMoneyForUser,\r\n  getTransactionHistoryByAppointmentId,\r\n} from \"../service/TransactionHistoryService\";\r\nclass ScheduleController {\r\n  async index(req, res, next) {\r\n    let defaultDate = req.query.date;\r\n\r\n    let userSchedule = await getAppointmentsOnDayByUserID(\r\n      req.session.userID,\r\n      req.session.roleID,\r\n      defaultDate\r\n    );\r\n\r\n    for (let element of userSchedule) {\r\n      let doctor = await getUserById(element.doctorID);\r\n      element.doctorAvatar = doctor.image;\r\n      element.doctorName = doctor.firstName + \" \" + doctor.lastName;\r\n    }\r\n\r\n    res.render(\"user/schedule\", {\r\n      userSchedule: userSchedule,\r\n      defaultDate,\r\n      messageCancelBooking: req.session.messageCancelBooking,\r\n    });\r\n    req.session.messageCancelBooking = null;\r\n  }\r\n\r\n  async cancelAppointment(req, res, next) {\r\n    try {\r\n      let appointmentCanceled = await cancelAppointment(\r\n        req.params.appoinmentId\r\n      );\r\n\r\n      if (appointmentCanceled) {\r\n        let transactionHistory = await getTransactionHistoryByAppointmentId(\r\n          appointmentCanceled.id\r\n        );\r\n\r\n        let moneyRollBackForDoctor = (transactionHistory.balance * 70) / 100;\r\n        let moneyRollBackForUser = transactionHistory.balance;\r\n\r\n        //rollback money\r\n        let rBDoctor = await rollBackMoneyForDoctor(\r\n          appointmentCanceled.doctorID,\r\n          moneyRollBackForDoctor\r\n        );\r\n        let rBUser = await rollBackMoneyForUser(\r\n          appointmentCanceled.userID,\r\n          moneyRollBackForUser\r\n        );\r\n        //save notification\r\n        const titleNotificationForAppointment = \"Thông Báo Lịch Hẹn Đã Huỷ\";\r\n        const contentNotificationForAppointment =\r\n          \"Vừa có lịch hẹn đã được huỷ, bạn có thể kiểm tra lịch !\";\r\n        const notification = {\r\n          appointmentId: appointmentCanceled.id,\r\n          title: titleNotificationForAppointment,\r\n          content: contentNotificationForAppointment,\r\n          link: \"/job?date=2022-05-04\",\r\n          fromUserID: appointmentCanceled.userID,\r\n          doctorID: appointmentCanceled.doctorID,\r\n        };\r\n        //create Notification in db\r\n        let newNotification = await createNotification(notification);\r\n        //create Notification in client side\r\n        console.log(\"after create\");\r\n        console.log(newNotification);\r\n        serverNotification(io, notification);\r\n        req.session.messageCancelBooking =\r\n          \"Bạn đã đặt huỷ lịch thành công,tiền đã được hoàn lại để kiểm tra !\";\r\n        res.redirect(\"back\");\r\n      } else {\r\n        console.log(\"cancel error\");\r\n      }\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  }\r\n}\r\n\r\nmodule.exports = new ScheduleController();\r\n"]}},"mtime":1679155053620},"{\"sourceRoot\":\"/Users/mac/Desktop/Final_Project_DTU/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/mac/Desktop/Final_Project_DTU\",\"filename\":\"/Users/mac/Desktop/Final_Project_DTU/src/routes/clinic.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/mac/Desktop/Final_Project_DTU\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar express = require('express');\n\nvar router = express.Router();\n\nvar multer = require('multer');\n\nvar upload = multer({\n  dest: 'src/public/uploads/'\n});\n\nvar clinicController = require('../app/controllers/ClinicController');\n\nrouter.get('/delete/:id', clinicController.deleteClinic);\nrouter.get('/:id', clinicController.pageUpdateClinic);\nrouter.get('/:id/info', clinicController.pageInfoClinic);\nrouter.post('/storeClinic', upload.single('image'), clinicController.storeClinic);\nrouter.post('/:id/edit', upload.single('image'), clinicController.changeClinic);\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNsaW5pYy5qcyJdLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInJvdXRlciIsIlJvdXRlciIsIm11bHRlciIsInVwbG9hZCIsImRlc3QiLCJjbGluaWNDb250cm9sbGVyIiwiZ2V0IiwiZGVsZXRlQ2xpbmljIiwicGFnZVVwZGF0ZUNsaW5pYyIsInBhZ2VJbmZvQ2xpbmljIiwicG9zdCIsInNpbmdsZSIsInN0b3JlQ2xpbmljIiwiY2hhbmdlQ2xpbmljIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFNQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQyxTQUFELENBQXZCOztBQUNBLElBQU1DLE1BQU0sR0FBR0YsT0FBTyxDQUFDRyxNQUFSLEVBQWY7O0FBQ0EsSUFBTUMsTUFBTSxHQUFHSCxPQUFPLENBQUMsUUFBRCxDQUF0Qjs7QUFDQSxJQUFNSSxNQUFNLEdBQUdELE1BQU0sQ0FBQztBQUNwQkUsRUFBQUEsSUFBSSxFQUFFO0FBRGMsQ0FBRCxDQUFyQjs7QUFJQSxJQUFNQyxnQkFBZ0IsR0FBR04sT0FBTyxDQUFDLHFDQUFELENBQWhDOztBQUVBQyxNQUFNLENBQUNNLEdBQVAsQ0FBVyxhQUFYLEVBQTBCRCxnQkFBZ0IsQ0FBQ0UsWUFBM0M7QUFDQVAsTUFBTSxDQUFDTSxHQUFQLENBQVcsTUFBWCxFQUFtQkQsZ0JBQWdCLENBQUNHLGdCQUFwQztBQUNBUixNQUFNLENBQUNNLEdBQVAsQ0FBVyxXQUFYLEVBQXdCRCxnQkFBZ0IsQ0FBQ0ksY0FBekM7QUFDQVQsTUFBTSxDQUFDVSxJQUFQLENBQVksY0FBWixFQUE0QlAsTUFBTSxDQUFDUSxNQUFQLENBQWMsT0FBZCxDQUE1QixFQUFvRE4sZ0JBQWdCLENBQUNPLFdBQXJFO0FBQ0FaLE1BQU0sQ0FBQ1UsSUFBUCxDQUFZLFdBQVosRUFBeUJQLE1BQU0sQ0FBQ1EsTUFBUCxDQUFjLE9BQWQsQ0FBekIsRUFBaUROLGdCQUFnQixDQUFDUSxZQUFsRTtBQUVBQyxNQUFNLENBQUNDLE9BQVAsR0FBaUJmLE1BQWpCIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9tYWMvRGVza3RvcC9GaW5hbF9Qcm9qZWN0X0RUVS9zcmMvcm91dGVzLyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKCdleHByZXNzJyk7XHJcbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XHJcbmNvbnN0IG11bHRlciA9IHJlcXVpcmUoJ211bHRlcicpO1xyXG5jb25zdCB1cGxvYWQgPSBtdWx0ZXIoe1xyXG4gIGRlc3Q6ICdzcmMvcHVibGljL3VwbG9hZHMvJyxcclxufSk7XHJcblxyXG5jb25zdCBjbGluaWNDb250cm9sbGVyID0gcmVxdWlyZSgnLi4vYXBwL2NvbnRyb2xsZXJzL0NsaW5pY0NvbnRyb2xsZXInKTtcclxuXHJcbnJvdXRlci5nZXQoJy9kZWxldGUvOmlkJywgY2xpbmljQ29udHJvbGxlci5kZWxldGVDbGluaWMpO1xyXG5yb3V0ZXIuZ2V0KCcvOmlkJywgY2xpbmljQ29udHJvbGxlci5wYWdlVXBkYXRlQ2xpbmljKTtcclxucm91dGVyLmdldCgnLzppZC9pbmZvJywgY2xpbmljQ29udHJvbGxlci5wYWdlSW5mb0NsaW5pYyk7XHJcbnJvdXRlci5wb3N0KCcvc3RvcmVDbGluaWMnLCB1cGxvYWQuc2luZ2xlKCdpbWFnZScpLCBjbGluaWNDb250cm9sbGVyLnN0b3JlQ2xpbmljKTtcclxucm91dGVyLnBvc3QoJy86aWQvZWRpdCcsIHVwbG9hZC5zaW5nbGUoJ2ltYWdlJyksIGNsaW5pY0NvbnRyb2xsZXIuY2hhbmdlQ2xpbmljKTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gcm91dGVyO1xyXG4iXX0=","map":{"version":3,"sources":["clinic.js"],"names":["express","require","router","Router","multer","upload","dest","clinicController","get","deleteClinic","pageUpdateClinic","pageInfoClinic","post","single","storeClinic","changeClinic","module","exports"],"mappings":";;AAAA,IAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,IAAMC,MAAM,GAAGF,OAAO,CAACG,MAAR,EAAf;;AACA,IAAMC,MAAM,GAAGH,OAAO,CAAC,QAAD,CAAtB;;AACA,IAAMI,MAAM,GAAGD,MAAM,CAAC;AACpBE,EAAAA,IAAI,EAAE;AADc,CAAD,CAArB;;AAIA,IAAMC,gBAAgB,GAAGN,OAAO,CAAC,qCAAD,CAAhC;;AAEAC,MAAM,CAACM,GAAP,CAAW,aAAX,EAA0BD,gBAAgB,CAACE,YAA3C;AACAP,MAAM,CAACM,GAAP,CAAW,MAAX,EAAmBD,gBAAgB,CAACG,gBAApC;AACAR,MAAM,CAACM,GAAP,CAAW,WAAX,EAAwBD,gBAAgB,CAACI,cAAzC;AACAT,MAAM,CAACU,IAAP,CAAY,cAAZ,EAA4BP,MAAM,CAACQ,MAAP,CAAc,OAAd,CAA5B,EAAoDN,gBAAgB,CAACO,WAArE;AACAZ,MAAM,CAACU,IAAP,CAAY,WAAZ,EAAyBP,MAAM,CAACQ,MAAP,CAAc,OAAd,CAAzB,EAAiDN,gBAAgB,CAACQ,YAAlE;AAEAC,MAAM,CAACC,OAAP,GAAiBf,MAAjB","sourceRoot":"/Users/mac/Desktop/Final_Project_DTU/src/routes/","sourcesContent":["const express = require('express');\r\nconst router = express.Router();\r\nconst multer = require('multer');\r\nconst upload = multer({\r\n  dest: 'src/public/uploads/',\r\n});\r\n\r\nconst clinicController = require('../app/controllers/ClinicController');\r\n\r\nrouter.get('/delete/:id', clinicController.deleteClinic);\r\nrouter.get('/:id', clinicController.pageUpdateClinic);\r\nrouter.get('/:id/info', clinicController.pageInfoClinic);\r\nrouter.post('/storeClinic', upload.single('image'), clinicController.storeClinic);\r\nrouter.post('/:id/edit', upload.single('image'), clinicController.changeClinic);\r\n\r\nmodule.exports = router;\r\n"]}},"mtime":1651628686000},"{\"sourceRoot\":\"/Users/mac/Desktop/Final_Project_DTU/src/app/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/mac/Desktop/Final_Project_DTU\",\"filename\":\"/Users/mac/Desktop/Final_Project_DTU/src/app/controllers/ClinicController.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/mac/Desktop/Final_Project_DTU\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar _ClinicService = require(\"../service/ClinicService\");\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nvar express = require('express');\n\nvar router = express.Router();\n\nvar ClinicController = /*#__PURE__*/function () {\n  function ClinicController() {\n    _classCallCheck(this, ClinicController);\n  }\n\n  _createClass(ClinicController, [{\n    key: \"pageUpdateClinic\",\n    value: //[GET];\n    function () {\n      var _pageUpdateClinic = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(req, res, next) {\n        var clinics, clinic;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return (0, _ClinicService.getClinicById)(req.params.id);\n\n              case 2:\n                clinics = _context.sent;\n                clinic = clinics[0];\n\n                if (!clinics) {\n                  _context.next = 6;\n                  break;\n                }\n\n                return _context.abrupt(\"return\", res.render('admin/clinic_update', {\n                  clinic: clinic\n                }));\n\n              case 6:\n                return _context.abrupt(\"return\", res.redirect('/back'));\n\n              case 7:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function pageUpdateClinic(_x, _x2, _x3) {\n        return _pageUpdateClinic.apply(this, arguments);\n      }\n\n      return pageUpdateClinic;\n    }() //[POST]\n\n  }, {\n    key: \"storeClinic\",\n    value: function () {\n      var _storeClinic = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(req, res, next) {\n        var formData, newClinic;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (!req.file) {\n                  req.body.image = '';\n                } else {\n                  req.body.image = req.file.filename;\n                }\n\n                formData = req.body;\n\n                if (!(formData === null)) {\n                  _context2.next = 4;\n                  break;\n                }\n\n                return _context2.abrupt(\"return\", res.redirect('back'));\n\n              case 4:\n                _context2.next = 6;\n                return (0, _ClinicService.createNewClinic)(formData);\n\n              case 6:\n                newClinic = _context2.sent;\n\n                if (newClinic) {\n                  _context2.next = 9;\n                  break;\n                }\n\n                return _context2.abrupt(\"return\", res.redirect('/error'));\n\n              case 9:\n                res.redirect('/admin/clinic');\n\n              case 10:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      function storeClinic(_x4, _x5, _x6) {\n        return _storeClinic.apply(this, arguments);\n      }\n\n      return storeClinic;\n    }() //[POST] UPDATE\n\n  }, {\n    key: \"changeClinic\",\n    value: function () {\n      var _changeClinic = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(req, res, next) {\n        var clinic;\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                req.body.id = req.params.id;\n\n                if (!req.file) {\n                  req.body.image = '';\n                } else {\n                  req.body.image = req.file.filename;\n                }\n\n                _context3.next = 4;\n                return (0, _ClinicService.updateClinic)(req.body);\n\n              case 4:\n                clinic = _context3.sent;\n\n                if (!clinic) {\n                  _context3.next = 7;\n                  break;\n                }\n\n                return _context3.abrupt(\"return\", res.redirect('/admin/clinic'));\n\n              case 7:\n                return _context3.abrupt(\"return\", console.log('update fail'));\n\n              case 8:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      function changeClinic(_x7, _x8, _x9) {\n        return _changeClinic.apply(this, arguments);\n      }\n\n      return changeClinic;\n    }()\n  }, {\n    key: \"deleteClinic\",\n    value: function () {\n      var _deleteClinic2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(req, res, next) {\n        var clinic;\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return (0, _ClinicService.deleteClinic)(req.params.id);\n\n              case 2:\n                clinic = _context4.sent;\n\n                if (!clinic) {\n                  _context4.next = 5;\n                  break;\n                }\n\n                return _context4.abrupt(\"return\", res.redirect('back'));\n\n              case 5:\n                return _context4.abrupt(\"return\", console.log('delete fail'));\n\n              case 6:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4);\n      }));\n\n      function deleteClinic(_x10, _x11, _x12) {\n        return _deleteClinic2.apply(this, arguments);\n      }\n\n      return deleteClinic;\n    }()\n  }, {\n    key: \"pageInfoClinic\",\n    value: function () {\n      var _pageInfoClinic = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5(req, res, next) {\n        var clinics, clinic, doctors;\n        return regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _context5.next = 2;\n                return (0, _ClinicService.getClinicById)(req.params.id);\n\n              case 2:\n                clinics = _context5.sent;\n                clinic = clinics[0];\n                doctors = clinics[1];\n\n                if (!clinics) {\n                  _context5.next = 7;\n                  break;\n                }\n\n                return _context5.abrupt(\"return\", res.render('admin/clinic_info', {\n                  clinic: clinic,\n                  doctors: doctors\n                }));\n\n              case 7:\n                return _context5.abrupt(\"return\", res.redirect('/back'));\n\n              case 8:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5);\n      }));\n\n      function pageInfoClinic(_x13, _x14, _x15) {\n        return _pageInfoClinic.apply(this, arguments);\n      }\n\n      return pageInfoClinic;\n    }()\n  }]);\n\n  return ClinicController;\n}();\n\nmodule.exports = new ClinicController();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkNsaW5pY0NvbnRyb2xsZXIuanMiXSwibmFtZXMiOlsiZXhwcmVzcyIsInJlcXVpcmUiLCJyb3V0ZXIiLCJSb3V0ZXIiLCJDbGluaWNDb250cm9sbGVyIiwicmVxIiwicmVzIiwibmV4dCIsInBhcmFtcyIsImlkIiwiY2xpbmljcyIsImNsaW5pYyIsInJlbmRlciIsInJlZGlyZWN0IiwiZmlsZSIsImJvZHkiLCJpbWFnZSIsImZpbGVuYW1lIiwiZm9ybURhdGEiLCJuZXdDbGluaWMiLCJjb25zb2xlIiwibG9nIiwiZG9jdG9ycyIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7O0FBR0E7Ozs7Ozs7Ozs7OztBQUhBLElBQU1BLE9BQU8sR0FBR0MsT0FBTyxDQUFDLFNBQUQsQ0FBdkI7O0FBQ0EsSUFBTUMsTUFBTSxHQUFHRixPQUFPLENBQUNHLE1BQVIsRUFBZjs7SUFTTUMsZ0I7Ozs7Ozs7V0FDSjs7c0ZBQ0EsaUJBQXVCQyxHQUF2QixFQUE0QkMsR0FBNUIsRUFBaUNDLElBQWpDO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsdUJBQ3NCLGtDQUFjRixHQUFHLENBQUNHLE1BQUosQ0FBV0MsRUFBekIsQ0FEdEI7O0FBQUE7QUFDTUMsZ0JBQUFBLE9BRE47QUFHTUMsZ0JBQUFBLE1BSE4sR0FHZUQsT0FBTyxDQUFDLENBQUQsQ0FIdEI7O0FBQUEscUJBSU1BLE9BSk47QUFBQTtBQUFBO0FBQUE7O0FBQUEsaURBSXNCSixHQUFHLENBQUNNLE1BQUosQ0FBVyxxQkFBWCxFQUFrQztBQUFFRCxrQkFBQUEsTUFBTSxFQUFOQTtBQUFGLGlCQUFsQyxDQUp0Qjs7QUFBQTtBQUFBLGlEQU1TTCxHQUFHLENBQUNPLFFBQUosQ0FBYSxPQUFiLENBTlQ7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsTzs7Ozs7OztRQVNBOzs7OztpRkFDQSxrQkFBa0JSLEdBQWxCLEVBQXVCQyxHQUF2QixFQUE0QkMsSUFBNUI7QUFBQTtB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LENBQVcsbUJBQVgsRUFBZ0M7QUFBRUQsa0JBQUFBLE1BQU0sRUFBTkEsTUFBRjtBQUFVVyxrQkFBQUEsT0FBTyxFQUFQQTtBQUFWLGlCQUFoQyxDQUx0Qjs7QUFBQTtBQUFBLGtEQU9TaEIsR0FBRyxDQUFDTyxRQUFKLENBQWEsT0FBYixDQVBUOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLE87Ozs7Ozs7Ozs7Ozs7QUFXRlUsTUFBTSxDQUFDQyxPQUFQLEdBQWlCLElBQUlwQixnQkFBSixFQUFqQiIsInNvdXJjZVJvb3QiOiIvVXNlcnMvbWFjL0Rlc2t0b3AvRmluYWxfUHJvamVjdF9EVFUvc3JjL2FwcC9jb250cm9sbGVycy8iLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBleHByZXNzID0gcmVxdWlyZSgnZXhwcmVzcycpO1xyXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xyXG5cclxuaW1wb3J0IHtcclxuICBjcmVhdGVOZXdDbGluaWMsXHJcbiAgdXBkYXRlQ2xpbmljLFxyXG4gIGdldENsaW5pY0J5SWQsXHJcbiAgZGVsZXRlQ2xpbmljLFxyXG59IGZyb20gJy4uL3NlcnZpY2UvQ2xpbmljU2VydmljZSc7XHJcblxyXG5jbGFzcyBDbGluaWNDb250cm9sbGVyIHtcclxuICAvL1tHRVRdO1xyXG4gIGFzeW5jIHBhZ2VVcGRhdGVDbGluaWMocmVxLCByZXMsIG5leHQpIHtcclxuICAgIGxldCBjbGluaWNzID0gYXdhaXQgZ2V0Q2xpbmljQnlJZChyZXEucGFyYW1zLmlkKTtcclxuXHJcbiAgICBsZXQgY2xpbmljID0gY2xpbmljc1swXTtcclxuICAgIGlmIChjbGluaWNzKSByZXR1cm4gcmVzLnJlbmRlcignYWRtaW4vY2xpbmljX3VwZGF0ZScsIHsgY2xpbmljIH0pO1xyXG5cclxuICAgIHJldHVybiByZXMucmVkaXJlY3QoJy9iYWNrJyk7XHJcbiAgfVxyXG5cclxuICAvL1tQT1NUXVxyXG4gIGFzeW5jIHN0b3JlQ2xpbmljKHJlcSwgcmVzLCBuZXh0KSB7XHJcbiAgICBpZiAoIXJlcS5maWxlKSB7XHJcbiAgICAgIHJlcS5ib2R5LmltYWdlID0gJyc7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXEuYm9keS5pbWFnZSA9IHJlcS5maWxlLmZpbGVuYW1lO1xyXG4gICAgfVxyXG4gICAgbGV0IGZvcm1EYXRhID0gcmVxLmJvZHk7XHJcbiAgICBpZiAoZm9ybURhdGEgPT09IG51bGwpIHJldHVybiByZXMucmVkaXJlY3QoJ2JhY2snKTtcclxuICAgIGxldCBuZXdDbGluaWMgPSBhd2FpdCBjcmVhdGVOZXdDbGluaWMoZm9ybURhdGEpO1xyXG4gICAgaWYgKCFuZXdDbGluaWMpIHJldHVybiByZXMucmVkaXJlY3QoJy9lcnJvcicpO1xyXG4gICAgcmVzLnJlZGlyZWN0KCcvYWRtaW4vY2xpbmljJyk7XHJcbiAgfVxyXG5cclxuICAvL1tQT1NUXSBVUERBVEVcclxuICBhc3luYyBjaGFuZ2VDbGluaWMocmVxLCByZXMsIG5leHQpIHtcclxuICAgIHJlcS5ib2R5LmlkID0gcmVxLnBhcmFtcy5pZDtcclxuXHJcbiAgICBpZiAoIXJlcS5maWxlKSB7XHJcbiAgICAgIHJlcS5ib2R5LmltYWdlID0gJyc7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXEuYm9keS5pbWFnZSA9IHJlcS5maWxlLmZpbGVuYW1lXHJcbiAgICB9XHJcblxyXG4gICAgbGV0IGNsaW5pYyA9IGF3YWl0IHVwZGF0ZUNsaW5pYyhyZXEuYm9keSk7XHJcblxyXG4gICAgaWYgKGNsaW5pYykgcmV0dXJuIHJlcy5yZWRpcmVjdCgnL2FkbWluL2NsaW5pYycpO1xyXG5cclxuICAgIHJldHVybiBjb25zb2xlLmxvZygndXBkYXRlIGZhaWwnKTtcclxuICB9XHJcblxyXG4gIGFzeW5jIGRlbGV0ZUNsaW5pYyhyZXEsIHJlcywgbmV4dCkge1xyXG4gICAgbGV0IGNsaW5pYyA9IGF3YWl0IGRlbGV0ZUNsaW5pYyhyZXEucGFyYW1zLmlkKTtcclxuXHJcbiAgICBpZiAoY2xpbmljKSByZXR1cm4gcmVzLnJlZGlyZWN0KCdiYWNrJyk7XHJcblxyXG4gICAgcmV0dXJuIGNvbnNvbGUubG9nKCdkZWxldGUgZmFpbCcpO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgcGFnZUluZm9DbGluaWMocmVxLCByZXMsIG5leHQpIHtcclxuICAgIGxldCBjbGluaWNzID0gYXdhaXQgZ2V0Q2xpbmljQnlJZChyZXEucGFyYW1zLmlkKTtcclxuXHJcbiAgICBsZXQgY2xpbmljID0gY2xpbmljc1swXTtcclxuICAgIGxldCBkb2N0b3JzID0gY2xpbmljc1sxXTtcclxuICAgIGlmIChjbGluaWNzKSByZXR1cm4gcmVzLnJlbmRlcignYWRtaW4vY2xpbmljX2luZm8nLCB7IGNsaW5pYywgZG9jdG9ycyB9KTtcclxuXHJcbiAgICByZXR1cm4gcmVzLnJlZGlyZWN0KCcvYmFjaycpO1xyXG4gIH1cclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBuZXcgQ2xpbmljQ29udHJvbGxlcigpO1xyXG4iXX0=","map":{"version":3,"sources":["ClinicController.js"],"names":["express","require","router","Router","ClinicController","req","res","next","params","id","clinics","clinic","render","redirect","file","body","image","filename","formData","newClinic","console","log","doctors","module","exports"],"mappings":"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","sourceRoot":"/Users/mac/Desktop/Final_Project_DTU/src/app/controllers/","sourcesContent":["const express = require('express');\r\nconst router = express.Router();\r\n\r\nimport {\r\n  createNewClinic,\r\n  updateClinic,\r\n  getClinicById,\r\n  deleteClinic,\r\n} from '../service/ClinicService';\r\n\r\nclass ClinicController {\r\n  //[GET];\r\n  async pageUpdateClinic(req, res, next) {\r\n    let clinics = await getClinicById(req.params.id);\r\n\r\n    let clinic = clinics[0];\r\n    if (clinics) return res.render('admin/clinic_update', { clinic });\r\n\r\n    return res.redirect('/back');\r\n  }\r\n\r\n  //[POST]\r\n  async storeClinic(req, res, next) {\r\n    if (!req.file) {\r\n      req.body.image = '';\r\n    } else {\r\n      req.body.image = req.file.filename;\r\n    }\r\n    let formData = req.body;\r\n    if (formData === null) return res.redirect('back');\r\n    let newClinic = await createNewClinic(formData);\r\n    if (!newClinic) return res.redirect('/error');\r\n    res.redirect('/admin/clinic');\r\n  }\r\n\r\n  //[POST] UPDATE\r\n  async changeClinic(req, res, next) {\r\n    req.body.id = req.params.id;\r\n\r\n    if (!req.file) {\r\n      req.body.image = '';\r\n    } else {\r\n      req.body.image = req.file.filename\r\n    }\r\n\r\n    let clinic = await updateClinic(req.body);\r\n\r\n    if (clinic) return res.redirect('/admin/clinic');\r\n\r\n    return console.log('update fail');\r\n  }\r\n\r\n  async deleteClinic(req, res, next) {\r\n    let clinic = await deleteClinic(req.params.id);\r\n\r\n    if (clinic) return res.redirect('back');\r\n\r\n    return console.log('delete fail');\r\n  }\r\n\r\n  async pageInfoClinic(req, res, next) {\r\n    let clinics = await getClinicById(req.params.id);\r\n\r\n    let clinic = clinics[0];\r\n    let doctors = clinics[1];\r\n    if (clinics) return res.render('admin/clinic_info', { clinic, doctors });\r\n\r\n    return res.redirect('/back');\r\n  }\r\n}\r\n\r\nmodule.exports = new ClinicController();\r\n"]}},"mtime":1679126743014},"{\"sourceRoot\":\"/Users/mac/Desktop/Final_Project_DTU/src/helpers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/mac/Desktop/Final_Project_DTU\",\"filename\":\"/Users/mac/Desktop/Final_Project_DTU/src/helpers/hbs.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/mac/Desktop/Final_Project_DTU\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10:development":{"value":{"code":"\"use strict\";\n\nvar _module$exports;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar moment = require(\"moment\");\n\nmodule.exports = (_module$exports = {\n  displayPayment: function displayPayment(a) {\n    return (parseInt(a) * 30 / 100).toString();\n  },\n  mergeName: function mergeName(a, b) {\n    return a + \" \" + b;\n  },\n  convertDate: function convertDate(a) {\n    return moment(a).format(\"YYYY-MM-DD\");\n  },\n  nonImage: function nonImage(a) {\n    return a == \"undefined\" ? \"nonimage.png\" : a;\n  },\n  hidden: function hidden(a) {\n    if (a == 1) return \"hidden\";\n  },\n  deleteSpace: function deleteSpace(a) {\n    return a.trim();\n  },\n  emotionReact: function emotionReact(a) {\n    if (a == 3) {\n      return \"haha-react.png\";\n    } else if (a == 1) {\n      return \"red-heart_2764-fe0f.png\";\n    } else if (a == 2) {\n      return \"like-react.png\";\n    } else if (a == 3) {\n      return \"haha-react.png\";\n    } else if (a == 4) {\n      return \"angry-icon.png\";\n    } else if (a == 5) {\n      return \"lovelove-icon.png\";\n    } else if (a == 6) {\n      return \"cry-icon.png\";\n    } else {\n      return \"white-heart.png\";\n    }\n  },\n  clinic: function clinic(a) {\n    if (a == null) return 'Khoa';\n    return a;\n  },\n  styleStatus: function styleStatus(a) {\n    if (a == 1) return \"check text-green-600\";\n    if (a == 0) return \"close text-red-500\";\n    if (a == 2) return \"remove text-yellow-500\";\n  },\n  converDateNewsfeed: function converDateNewsfeed(a) {\n    return moment(a).format(\"LLL\");\n  },\n  iconRulePost: function iconRulePost(a) {\n    return a == 1 ? \"world-icon.png\" : \"locked-icon.png\";\n  },\n  sum: function sum(a) {\n    return a == a ? a + 1 : a;\n  },\n  //create helpers\n  convertGender: function convertGender(a) {\n    return a == 1 ? \"Nam\" : \"Nữ\";\n  },\n  status: function status(a) {\n    if (a == 1) return \"Hoạt động\";\n    if (a == 0) return \"Khóa\";\n    if (a == 2) return \"Bận\";\n  },\n  followCustomer: function followCustomer(a) {\n    return a == 1 ? \"unfollow\" : \"follow\";\n  },\n  followGroup: function followGroup(a) {\n    return a == 1 ? \"leave\" : \"join\";\n  },\n  btnStatus: function btnStatus(a) {\n    if (a == 1) return \"check\";\n    if (a == 0) return \"close\";\n    if (a == 2) return \"remove\";\n  },\n  checked: function checked(a, b) {\n    if (a == b) return \"checked\";\n  },\n  gender: function gender(a, b) {\n    if (a == b) return \"checked\";\n    if (a == null) return \"\";\n  },\n  convertGenderToText: function convertGenderToText(a) {\n    if (a === 0) return \"Nam\";\n    if (a === 1) return \"Nữ\";\n    if (a === null) return \"Không Xác Định\";\n  },\n  btnStatusHidden: function btnStatusHidden(a) {\n    return a == 1 ? \"btn-status--hidden\" : \"\";\n  },\n  accType: function accType(a) {\n    if (a == 1) return \"Quản trị viên\";else if (a == 2) return \"Bác sĩ\";else if (a == 3) return \"Người dùng\";\n  },\n  statusIsCancel: function statusIsCancel(a) {\n    if (a === 0) return \"Hoàn thành\";else if (a === 1) return \"Đã huỷ\";else return \"Đang diễn ra\";\n  },\n  sortable: function sortable(field, sort) {\n    var sortType = field == sort.column ? sort.type : \"default\";\n    var icons = {\n      \"default\": \"fas fa-sort\",\n      desc: \"fas fa-sort-amount-down\",\n      asc: \"fas fa-sort-amount-up\"\n    };\n    var types = {\n      \"default\": \"desc\",\n      asc: \"desc\",\n      desc: \"asc\"\n    };\n    var icon = icons[sortType];\n    var type = types[sortType];\n    return \"<a href=\\\"?_sort&column=\".concat(field, \"&type=\").concat(type, \"\\\">\\n          <i class=\\\"\").concat(icon, \"\\\"></i>\\n        </a>\");\n  },\n  formatCurrency: function formatCurrency(price) {\n    return new Intl.NumberFormat(\"vi-VN\", {\n      style: \"currency\",\n      currency: \"VND\"\n    }).format(Number(price));\n  },\n  formatLongString: function formatLongString(str) {\n    return str.length > 10 ? str.slice(0, 9).concat(\"...\") : str;\n  },\n  emitCardTitle: function emitCardTitle(str) {\n    return str.length > 40 ? str.slice(0, 40).concat(\"...\") : str;\n  },\n  displayPromotion: function displayPromotion(per) {\n    return per != 0 ? per + \"% off\" : \"\";\n  },\n  displayStarNo: function displayStarNo(starNo) {\n    var stars = \"\";\n\n    for (var i = 0; i < starNo; i++) {\n      stars += \"star \";\n    }\n\n    return stars;\n  },\n  trueSelected: function trueSelected(value) {\n    return value === 1 ? \"selected\" : \"\";\n  },\n  falseSelected: function falseSelected(value) {\n    return value === 0 ? \"selected\" : \"\";\n  },\n  checkedFollowStatus: function checkedFollowStatus(a) {\n    return a === 1 ? \"checked\" : \"\";\n  },\n  activeColorFollowStatus: function activeColorFollowStatus(a) {\n    return a === 1 ? \"green\" : \"red\";\n  }\n}, _defineProperty(_module$exports, \"displayStarNo\", function displayStarNo(starNo) {\n  var stars = \"\";\n\n  for (var i = 0; i < starNo; i++) {\n    stars += \"\\u2B50\";\n  }\n\n  return stars;\n}), _defineProperty(_module$exports, \"formatTime\", function formatTime(time) {\n  var times = time.split(\":\");\n  return \"\".concat(times[0], \":\").concat(times[1]);\n}), _defineProperty(_module$exports, \"formatDateTime\", function formatDateTime(date) {\n  var event = new Date(date);\n  var options = {\n    weekday: \"long\",\n    year: \"numeric\",\n    month: \"long\",\n    day: \"numeric\",\n    hour: \"2-digit\",\n    minute: \"2-digit\"\n  };\n  return event.toLocaleDateString(\"vi-VN\", options);\n}), _defineProperty(_module$exports, \"getCurrentDate\", function getCurrentDate() {\n  var date = new Date();\n  var newMonth = date.getMonth() / 9 <= 1 ? \"0\".concat(date.getMonth()) : date.getMonth();\n  return \"\".concat(date.getFullYear(), \"-\").concat(newMonth, \"-\").concat(date.getDate());\n}), _module$exports);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImhicy5qcyJdLCJuYW1lcyI6WyJtb21lbnQiLCJyZXF1aXJlIiwibW9kdWxlIiwiZXhwb3J0cyIsImRpc3BsYXlQYXltZW50IiwiYSIsInBhcnNlSW50IiwidG9TdHJpbmciLCJtZXJnZU5hbWUiLCJiIiwiY29udmVydERhdGUiLCJmb3JtYXQiLCJub25JbWFnZSIsImhpZGRlbiIsImRlbGV0ZVNwYWNlIiwidHJpbSIsImVtb3Rpb25SZWFjdCIsImNsaW5pYyIsInN0eWxlU3RhdHVzIiwiY29udmVyRGF0ZU5ld3NmZWVkIiwiaWNvblJ1bGVQb3N0Iiwic3VtIiwiY29udmVydEdlbmRlciIsInN0YXR1cyIsImZvbGxvd0N1c3RvbWVyIiwiZm9sbG93R3JvdXAiLCJidG5TdGF0dXMiLCJjaGVja2VkIiwiZ2VuZGVyIiwiY29udmVydEdlbmRlclRvVGV4dCIsImJ0blN0YXR1c0hpZGRlbiIsImFjY1R5cGUiLCJzdGF0dXNJc0NhbmNlbCIsInNvcnRhYmxlIiwiZmllbGQiLCJzb3J0Iiwic29ydFR5cGUiLCJjb2x1bW4iLCJ0eXBlIiwiaWNvbnMiLCJkZXNjIiwiYXNjIiwidHlwZXMiLCJpY29uIiwiZm9ybWF0Q3VycmVuY3kiLCJwcmljZSIsIkludGwiLCJOdW1iZXJGb3JtYXQiLCJzdHlsZSIsImN1cnJlbmN5IiwiTnVtYmVyIiwiZm9ybWF0TG9uZ1N0cmluZyIsInN0ciIsImxlbmd0aCIsInNsaWNlIiwiY29uY2F0IiwiZW1pdENhcmRUaXRsZSIsImRpc3BsYXlQcm9tb3Rpb24iLCJwZXIiLCJkaXNwbGF5U3Rhck5vIiwic3Rhck5vIiwic3RhcnMiLCJpIiwidHJ1ZVNlbGVjdGVkIiwidmFsdWUiLCJmYWxzZVNlbGVjdGVkIiwiY2hlY2tlZEZvbGxvd1N0YXR1cyIsImFjdGl2ZUNvbG9yRm9sbG93U3RhdHVzIiwidGltZSIsInRpbWVzIiwic3BsaXQiLCJkYXRlIiwiZXZlbnQiLCJEYXRlIiwib3B0aW9ucyIsIndlZWtkYXkiLCJ5ZWFyIiwibW9udGgiLCJkYXkiLCJob3VyIiwibWludXRlIiwidG9Mb2NhbGVEYXRlU3RyaW5nIiwibmV3TW9udGgiLCJnZXRNb250aCIsImdldEZ1bGxZZWFyIiwiZ2V0RGF0ZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBSUEsTUFBTSxHQUFHQyxPQUFPLENBQUMsUUFBRCxDQUFwQjs7QUFFQUMsTUFBTSxDQUFDQyxPQUFQO0FBQ0VDLEVBQUFBLGNBQWMsRUFBRSx3QkFBQ0MsQ0FBRDtBQUFBLFdBQU8sQ0FBRUMsUUFBUSxDQUFDRCxDQUFELENBQVIsR0FBWSxFQUFiLEdBQWlCLEdBQWxCLEVBQXVCRSxRQUF2QixFQUFQO0FBQUEsR0FEbEI7QUFFRUMsRUFBQUEsU0FBUyxFQUFFLG1CQUFDSCxDQUFELEVBQUlJLENBQUo7QUFBQSxXQUFVSixDQUFDLEdBQUcsR0FBSixHQUFVSSxDQUFwQjtBQUFBLEdBRmI7QUFHRUMsRUFBQUEsV0FBVyxFQUFFLHFCQUFDTCxDQUFEO0FBQUEsV0FBT0wsTUFBTSxDQUFDSyxDQUFELENBQU4sQ0FBVU0sTUFBVixDQUFpQixZQUFqQixDQUFQO0FBQUEsR0FIZjtBQUlFQyxFQUFBQSxRQUFRLEVBQUUsa0JBQUNQLENBQUQ7QUFBQSxXQUFRQSxDQUFDLElBQUksV0FBTCxHQUFtQixjQUFuQixHQUFvQ0EsQ0FBNUM7QUFBQSxHQUpaO0FBS0VRLEVBQUFBLE1BQU0sRUFBRSxnQkFBQ1IsQ0FBRCxFQUFPO0FBQ2IsUUFBSUEsQ0FBQyxJQUFJLENBQVQsRUFBWSxPQUFPLFFBQVA7QUFDYixHQVBIO0FBUUVTLEVBQUFBLFdBQVcsRUFBRSxxQkFBQ1QsQ0FBRDtBQUFBLFdBQU9BLENBQUMsQ0FBQ1UsSUFBRixFQUFQO0FBQUEsR0FSZjtBQVNFQyxFQUFBQSxZQUFZLEVBQUUsc0JBQUNYLENBQUQsRUFBTztBQUNuQixRQUFJQSxDQUFDLElBQUksQ0FBVCxFQUFZO0FBQ1YsYUFBTyxnQkFBUDtBQUNELEtBRkQsTUFFTyxJQUFJQSxDQUFDLElBQUksQ0FBVCxFQUFZO0FBQ2pCLGFBQU8seUJBQVA7QUFDRCxLQUZNLE1BRUEsSUFBSUEsQ0FBQyxJQUFJLENBQVQsRUFBWTtBQUNqQixhQUFPLGdCQUFQO0FBQ0QsS0FGTSxNQUVBLElBQUlBLENBQUMsSUFBSSxDQUFULEVBQVk7QUFDakIsYUFBTyxnQkFBUDtBQUNELEtBRk0sTUFFQSxJQUFJQSxDQUFDLElBQUksQ0FBVCxFQUFZO0FBQ2pCLGFBQU8sZ0JBQVA7QUFDRCxLQUZNLE1BRUEsSUFBSUEsQ0FBQyxJQUFJLENBQVQsRUFBWTtBQUNqQixhQUFPLG1CQUFQO0FBQ0QsS0FGTSxNQUVBLElBQUlBLENBQUMsSUFBSSxDQUFULEVBQVk7QUFDakIsYUFBTyxjQUFQO0FBQ0QsS0FGTSxNQUVBO0FBQ0wsYUFBTyxpQkFBUDtBQUNEO0FBQ0YsR0EzQkg7QUE0QkVZLEVBQUFBLE1BQU0sRUFBRSxnQkFBQ1osQ0FBRCxFQUFPO0FBQ2IsUUFBSUEsQ0FBQyxJQUFJLElBQVQsRUFBZSxPQUFPLE1BQVA7QUFDZixXQUFPQSxDQUFQO0FBQ0QsR0EvQkg7QUFnQ0VhLEVBQUFBLFdBQVcsRUFBRSxxQkFBQ2IsQ0FBRCxFQUFPO0FBQ2xCLFFBQUlBLENBQUMsSUFBSSxDQUFULEVBQVksT0FBTyxzQkFBUDtBQUNaLFFBQUlBLENBQUMsSUFBSSxDQUFULEVBQVksT0FBTyxvQkFBUDtBQUNaLFFBQUlBLENBQUMsSUFBSSxDQUFULEVBQVksT0FBTyx3QkFBUDtBQUNiLEdBcENIO0FBc0NFYyxFQUFBQSxrQkFBa0IsRUFBRSw0QkFBQ2QsQ0FBRDtBQUFBLFdBQU9MLE1BQU0sQ0FBQ0ssQ0FBRCxDQUFOLENBQVVNLE1BQVYsQ0FBaUIsS0FBakIsQ0FBUDtBQUFBLEdBdEN0QjtBQXVDRVMsRUFBQUEsWUFBWSxFQUFFLHNCQUFDZixDQUFEO0FBQUEsV0FBUUEsQ0FBQyxJQUFJLENBQUwsR0FBUyxnQkFBVCxHQUE0QixpQkFBcEM7QUFBQSxHQXZDaEI7QUF3Q0VnQixFQUFBQSxHQUFHLEVBQUUsYUFBQ2hCLENBQUQ7QUFBQSxXQUFRQSxDQUFDLElBQUlBLENBQUwsR0FBU0EsQ0FBQyxHQUFHLENBQWIsR0FBaUJBLENBQXpCO0FBQUEsR0F4Q1A7QUF3Q29DO0FBQ2xDaUIsRUFBQUEsYUFBYSxFQUFFLHVCQUFDakIsQ0FBRDtBQUFBLFdBQVFBLENBQUMsSUFBSSxDQUFMLEdBQVMsS0FBVCxHQUFpQixJQUF6QjtBQUFBLEdBekNqQjtBQTBDRWtCLEVBQUFBLE1BQU0sRUFBRSxnQkFBQ2xCLENBQUQsRUFBTztBQUNiLFFBQUlBLENBQUMsSUFBSSxDQUFULEVBQVksT0FBTyxXQUFQO0FBQ1osUUFBSUEsQ0FBQyxJQUFJLENBQVQsRUFBWSxPQUFPLE1BQVA7QUFDWixRQUFJQSxDQUFDLElBQUksQ0FBVCxFQUFZLE9BQU8sS0FBUDtBQUNiLEdBOUNIO0FBK0NFbUIsRUFBQUEsY0FBYyxFQUFFLHdCQUFDbkIsQ0FBRDtBQUFBLFdBQVFBLENBQUMsSUFBSSxDQUFMLEdBQVMsVUFBVCxHQUFzQixRQUE5QjtBQUFBLEdBL0NsQjtBQWdERW9CLEVBQUFBLFdBQVcsRUFBRSxxQkFBQ3BCLENBQUQ7QUFBQSxXQUFRQSxDQUFDLElBQUksQ0FBTCxHQUFTLE9BQVQsR0FBbUIsTUFBM0I7QUFBQSxHQWhEZjtBQWlERXFCLEVBQUFBLFNBQVMsRUFBRSxtQkFBQ3JCLENBQUQsRUFBTztBQUNoQixRQUFJQSxDQUFDLElBQUksQ0FBVCxFQUFZLE9BQU8sT0FBUDtBQUNaLFFBQUlBLENBQUMsSUFBSSxDQUFULEVBQVksT0FBTyxPQUFQO0FBQ1osUUFBSUEsQ0FBQyxJQUFJLENBQVQsRUFBWSxPQUFPLFFBQVA7QUFDYixHQXJESDtBQXNERXNCLEVBQUFBLE9BQU8sRUFBRSxpQkFBQ3RCLENBQUQsRUFBSUksQ0FBSixFQUFVO0FBQ2pCLFFBQUlKLENBQUMsSUFBSUksQ0FBVCxFQUFZLE9BQU8sU0FBUDtBQUNiLEdBeERIO0FBeURFbUIsRUFBQUEsTUFBTSxFQUFFLGdCQUFDdkIsQ0FBRCxFQUFJSSxDQUFKLEVBQVU7QUFDaEIsUUFBSUosQ0FBQyxJQUFJSSxDQUFULEVBQVksT0FBTyxTQUFQO0FBQ1osUUFBSUosQ0FBQyxJQUFJLElBQVQsRUFBZSxPQUFPLEVBQVA7QUFDaEIsR0E1REg7QUE2REV3QixFQUFBQSxtQkFBbUIsRUFBRSw2QkFBQ3hCLENBQUQsRUFBTztBQUMxQixRQUFJQSxDQUFDLEtBQUssQ0FBVixFQUFhLE9BQU8sS0FBUDtBQUNiLFFBQUlBLENBQUMsS0FBSyxDQUFWLEVBQWEsT0FBTyxJQUFQO0FBQ2IsUUFBSUEsQ0FBQyxLQUFLLElBQVYsRUFBZ0IsT0FBTyxnQkFBUDtBQUNqQixHQWpFSDtBQWtFRXlCLEVBQUFBLGVBQWUsRUFBRSx5QkFBQ3pCLENBQUQ7QUFBQSxXQUFRQSxDQUFDLElBQUksQ0FBTCxHQUFTLG9CQUFULEdBQWdDLEVBQXhDO0FBQUEsR0FsRW5CO0FBbUVFMEIsRUFBQUEsT0FBTyxFQUFFLGlCQUFDMUIsQ0FBRCxFQUFPO0FBQ2QsUUFBSUEsQ0FBQyxJQUFJLENBQVQsRUFBWSxPQUFPLGVBQVAsQ0FBWixLQUNLLElBQUlBLENBQUMsSUFBSSxDQUFULEVBQVksT0FBTyxRQUFQLENBQVosS0FDQSxJQUFJQSxDQUFDLElBQUksQ0FBVCxFQUFZLE9BQU8sWUFBUDtBQUNsQixHQXZFSDtBQXdFRTJCLEVBQUFBLGNBQWMsRUFBRSx3QkFBQzNCLENBQUQsRUFBTztBQUNyQixRQUFJQSxDQUFDLEtBQUssQ0FBVixFQUFhLE9BQU8sWUFBUCxDQUFiLEtBQ0ssSUFBSUEsQ0FBQyxLQUFLLENBQVYsRUFBYSxPQUFPLFFBQVAsQ0FBYixLQUNBLE9BQU8sY0FBUDtBQUNOLEdBNUVIO0FBNkVFNEIsRUFBQUEsUUFBUSxFQUFFLGtCQUFDQyxLQUFELEVBQVFDLElBQVIsRUFBaUI7QUFDekIsUUFBTUMsUUFBUSxHQUFHRixLQUFLLElBQUlDLElBQUksQ0FBQ0UsTUFBZCxHQUF1QkYsSUFBSSxDQUFDRyxJQUE1QixHQUFtQyxTQUFwRDtBQUNBLFFBQU1DLEtBQUssR0FBRztBQUNaLGlCQUFTLGFBREc7QUFFWkMsTUFBQUEsSUFBSSxFQUFFLHlCQUZNO0FBR1pDLE1BQUFBLEdBQUcsRUFBRTtBQUhPLEtBQWQ7QUFNQSxRQUFNQyxLQUFLLEdBQUc7QUFDWixpQkFBUyxNQURHO0FBRVpELE1BQUFBLEdBQUcsRUFBRSxNQUZPO0FBR1pELE1BQUFBLElBQUksRUFBRTtBQUhNLEtBQWQ7QUFLQSxRQUFNRyxJQUFJLEdBQUdKLEtBQUssQ0FBQ0gsUUFBRCxDQUFsQjtBQUNBLFFBQU1FLElBQUksR0FBR0ksS0FBSyxDQUFDTixRQUFELENBQWxCO0FBQ0EsNkNBQWlDRixLQUFqQyxtQkFBK0NJLElBQS9DLHVDQUNrQkssSUFEbEI7QUFHRCxHQS9GSDtBQWdHRUMsRUFBQUEsY0FBYyxFQUFFLHdCQUFDQyxLQUFELEVBQVc7QUFDekIsV0FBTyxJQUFJQyxJQUFJLENBQUNDLFlBQVQsQ0FBc0IsT0FBdEIsRUFBK0I7QUFDcENDLE1BQUFBLEtBQUssRUFBRSxVQUQ2QjtBQUVwQ0MsTUFBQUEsUUFBUSxFQUFFO0FBRjBCLEtBQS9CLEVBR0p0QyxNQUhJLENBR0d1QyxNQUFNLENBQUNMLEtBQUQsQ0FIVCxDQUFQO0FBSUQsR0FyR0g7QUF1R0VNLEVBQUFBLGdCQUFnQixFQUFFLDBCQUFDQyxHQUFELEVBQVM7QUFDekIsV0FBT0EsR0FBRyxDQUFDQyxNQUFKLEdBQWEsRUFBYixHQUFrQkQsR0FBRyxDQUFDRSxLQUFKLENBQVUsQ0FBVixFQUFhLENBQWIsRUFBZ0JDLE1BQWhCLENBQXVCLEtBQXZCLENBQWxCLEdBQWtESCxHQUF6RDtBQUNELEdBekdIO0FBMkdFSSxFQUFBQSxhQUFhLEVBQUUsdUJBQUNKLEdBQUQsRUFBUztBQUN0QixXQUFPQSxHQUFHLENBQUNDLE1BQUosR0FBYSxFQUFiLEdBQWtCRCxHQUFHLENBQUNFLEtBQUosQ0FBVSxDQUFWLEVBQWEsRUFBYixFQUFpQkMsTUFBakIsQ0FBd0IsS0FBeEIsQ0FBbEIsR0FBbURILEdBQTFEO0FBQ0QsR0E3R0g7QUErR0VLLEVBQUFBLGdCQUFnQixFQUFFLDBCQUFDQyxHQUFELEVBQVM7QUFDekIsV0FBT0EsR0FBRyxJQUFJLENBQVAsR0FBV0EsR0FBRyxHQUFHLE9BQWpCLEdBQTJCLEVBQWxDO0FBQ0QsR0FqSEg7QUFtSEVDLEVBQUFBLGFBQWEsRUFBRSx1QkFBQ0MsTUFBRCxFQUFZO0FBQ3pCLFFBQUlDLEtBQUssR0FBRyxFQUFaOztBQUNBLFNBQUssSUFBSUMsQ0FBQyxHQUFHLENBQWIsRUFBZ0JBLENBQUMsR0FBR0YsTUFBcEIsRUFBNEJFLENBQUMsRUFBN0I7QUFBaUNELE1BQUFBLEtBQUssSUFBSSxPQUFUO0FBQWpDOztBQUNBLFdBQU9BLEtBQVA7QUFDRCxHQXZISDtBQXdIRUUsRUFBQUEsWUFBWSxFQUFFLHNCQUFDQyxLQUFELEVBQVc7QUFDdkIsV0FBT0EsS0FBSyxLQUFLLENBQVYsR0FBYyxVQUFkLEdBQTJCLEVBQWxDO0FBQ0QsR0ExSEg7QUEySEVDLEVBQUFBLGFBQWEsRUFBRSx1QkFBQ0QsS0FBRCxFQUFXO0FBQ3hCLFdBQU9BLEtBQUssS0FBSyxDQUFWLEdBQWMsVUFBZCxHQUEyQixFQUFsQztBQUNELEdBN0hIO0FBOEhFRSxFQUFBQSxtQkFBbUIsRUFBRSw2QkFBQzdELENBQUQsRUFBTztBQUMxQixXQUFPQSxDQUFDLEtBQUssQ0FBTixHQUFVLFNBQVYsR0FBc0IsRUFBN0I7QUFDRCxHQWhJSDtBQWlJRThELEVBQUFBLHVCQUF1QixFQUFFLGlDQUFDOUQsQ0FBRCxFQUFPO0FBQzlCLFdBQU9BLENBQUMsS0FBSyxDQUFOLEdBQVUsT0FBVixHQUFvQixLQUEzQjtBQUNEO0FBbklILHFEQW9JaUIsdUJBQUN1RCxNQUFELEVBQVk7QUFDekIsTUFBSUMsS0FBSyxLQUFUOztBQUNBLE9BQUssSUFBSUMsQ0FBQyxHQUFHLENBQWIsRUFBZ0JBLENBQUMsR0FBR0YsTUFBcEIsRUFBNEJFLENBQUMsRUFBN0I7QUFBaUNELElBQUFBLEtBQUssWUFBTDtBQUFqQzs7QUFDQSxTQUFPQSxLQUFQO0FBQ0QsQ0F4SUgsa0RBMEljLG9CQUFDTyxJQUFELEVBQVU7QUFDcEIsTUFBTUMsS0FBSyxHQUFHRCxJQUFJLENBQUNFLEtBQUwsQ0FBVyxHQUFYLENBQWQ7QUFDQSxtQkFBVUQsS0FBSyxDQUFDLENBQUQsQ0FBZixjQUFzQkEsS0FBSyxDQUFDLENBQUQsQ0FBM0I7QUFDRCxDQTdJSCxzREErSWtCLHdCQUFDRSxJQUFELEVBQVU7QUFDeEIsTUFBTUMsS0FBSyxHQUFHLElBQUlDLElBQUosQ0FBU0YsSUFBVCxDQUFkO0FBQ0EsTUFBTUcsT0FBTyxHQUFHO0FBQ2RDLElBQUFBLE9BQU8sRUFBRSxNQURLO0FBRWRDLElBQUFBLElBQUksRUFBRSxTQUZRO0FBR2RDLElBQUFBLEtBQUssRUFBRSxNQUhPO0FBSWRDLElBQUFBLEdBQUcsRUFBRSxTQUpTO0FBS2RDLElBQUFBLElBQUksRUFBRSxTQUxRO0FBTWRDLElBQUFBLE1BQU0sRUFBRTtBQU5NLEdBQWhCO0FBUUEsU0FBT1IsS0FBSyxDQUFDUyxrQkFBTixDQUF5QixPQUF6QixFQUFrQ1AsT0FBbEMsQ0FBUDtBQUNELENBMUpILHNEQTJKa0IsMEJBQU07QUFDcEIsTUFBTUgsSUFBSSxHQUFHLElBQUlFLElBQUosRUFBYjtBQUNBLE1BQU1TLFFBQVEsR0FDWlgsSUFBSSxDQUFDWSxRQUFMLEtBQWtCLENBQWxCLElBQXVCLENBQXZCLGNBQStCWixJQUFJLENBQUNZLFFBQUwsRUFBL0IsSUFBbURaLElBQUksQ0FBQ1ksUUFBTCxFQURyRDtBQUVBLG1CQUFVWixJQUFJLENBQUNhLFdBQUwsRUFBVixjQUFnQ0YsUUFBaEMsY0FBNENYLElBQUksQ0FBQ2MsT0FBTCxFQUE1QztBQUNELENBaEtIIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9tYWMvRGVza3RvcC9GaW5hbF9Qcm9qZWN0X0RUVS9zcmMvaGVscGVycy8iLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgbW9tZW50ID0gcmVxdWlyZShcIm1vbWVudFwiKTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG4gIGRpc3BsYXlQYXltZW50OiAoYSkgPT4gKChwYXJzZUludChhKSozMCkvMTAwKS50b1N0cmluZygpICxcclxuICBtZXJnZU5hbWU6IChhLCBiKSA9PiBhICsgXCIgXCIgKyBiLFxyXG4gIGNvbnZlcnREYXRlOiAoYSkgPT4gbW9tZW50KGEpLmZvcm1hdChcIllZWVktTU0tRERcIiksXHJcbiAgbm9uSW1hZ2U6IChhKSA9PiAoYSA9PSBcInVuZGVmaW5lZFwiID8gXCJub25pbWFnZS5wbmdcIiA6IGEpLFxyXG4gIGhpZGRlbjogKGEpID0+IHtcclxuICAgIGlmIChhID09IDEpIHJldHVybiBcImhpZGRlblwiO1xyXG4gIH0sXHJcbiAgZGVsZXRlU3BhY2U6IChhKSA9PiBhLnRyaW0oKSxcclxuICBlbW90aW9uUmVhY3Q6IChhKSA9PiB7XHJcbiAgICBpZiAoYSA9PSAzKSB7XHJcbiAgICAgIHJldHVybiBcImhhaGEtcmVhY3QucG5nXCI7XHJcbiAgICB9IGVsc2UgaWYgKGEgPT0gMSkge1xyXG4gICAgICByZXR1cm4gXCJyZWQtaGVhcnRfMjc2NC1mZTBmLnBuZ1wiO1xyXG4gICAgfSBlbHNlIGlmIChhID09IDIpIHtcclxuICAgICAgcmV0dXJuIFwibGlrZS1yZWFjdC5wbmdcIjtcclxuICAgIH0gZWxzZSBpZiAoYSA9PSAzKSB7XHJcbiAgICAgIHJldHVybiBcImhhaGEtcmVhY3QucG5nXCI7XHJcbiAgICB9IGVsc2UgaWYgKGEgPT0gNCkge1xyXG4gICAgICByZXR1cm4gXCJhbmdyeS1pY29uLnBuZ1wiO1xyXG4gICAgfSBlbHNlIGlmIChhID09IDUpIHtcclxuICAgICAgcmV0dXJuIFwibG92ZWxvdmUtaWNvbi5wbmdcIjtcclxuICAgIH0gZWxzZSBpZiAoYSA9PSA2KSB7XHJcbiAgICAgIHJldHVybiBcImNyeS1pY29uLnBuZ1wiO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIFwid2hpdGUtaGVhcnQucG5nXCI7XHJcbiAgICB9XHJcbiAgfSxcclxuICBjbGluaWM6IChhKSA9PiB7XHJcbiAgICBpZiAoYSA9PSBudWxsKSByZXR1cm4gJ0tob2EnO1xyXG4gICAgcmV0dXJuIGE7XHJcbiAgfSxcclxuICBzdHlsZVN0YXR1czogKGEpID0+IHtcclxuICAgIGlmIChhID09IDEpIHJldHVybiBcImNoZWNrIHRleHQtZ3JlZW4tNjAwXCI7XHJcbiAgICBpZiAoYSA9PSAwKSByZXR1cm4gXCJjbG9zZSB0ZXh0LXJlZC01MDBcIjtcclxuICAgIGlmIChhID09IDIpIHJldHVybiBcInJlbW92ZSB0ZXh0LXllbGxvdy01MDBcIjtcclxuICB9LFxyXG5cclxuICBjb252ZXJEYXRlTmV3c2ZlZWQ6IChhKSA9PiBtb21lbnQoYSkuZm9ybWF0KFwiTExMXCIpLFxyXG4gIGljb25SdWxlUG9zdDogKGEpID0+IChhID09IDEgPyBcIndvcmxkLWljb24ucG5nXCIgOiBcImxvY2tlZC1pY29uLnBuZ1wiKSxcclxuICBzdW06IChhKSA9PiAoYSA9PSBhID8gYSArIDEgOiBhKSwgLy9jcmVhdGUgaGVscGVyc1xyXG4gIGNvbnZlcnRHZW5kZXI6IChhKSA9PiAoYSA9PSAxID8gXCJOYW1cIiA6IFwiTuG7r1wiKSxcclxuICBzdGF0dXM6IChhKSA9PiB7XHJcbiAgICBpZiAoYSA9PSAxKSByZXR1cm4gXCJIb+G6oXQgxJHhu5luZ1wiO1xyXG4gICAgaWYgKGEgPT0gMCkgcmV0dXJuIFwiS2jDs2FcIjtcclxuICAgIGlmIChhID09IDIpIHJldHVybiBcIkLhuq1uXCI7XHJcbiAgfSxcclxuICBmb2xsb3dDdXN0b21lcjogKGEpID0+IChhID09IDEgPyBcInVuZm9sbG93XCIgOiBcImZvbGxvd1wiKSxcclxuICBmb2xsb3dHcm91cDogKGEpID0+IChhID09IDEgPyBcImxlYXZlXCIgOiBcImpvaW5cIiksXHJcbiAgYnRuU3RhdHVzOiAoYSkgPT4ge1xyXG4gICAgaWYgKGEgPT0gMSkgcmV0dXJuIFwiY2hlY2tcIjtcclxuICAgIGlmIChhID09IDApIHJldHVybiBcImNsb3NlXCI7XHJcbiAgICBpZiAoYSA9PSAyKSByZXR1cm4gXCJyZW1vdmVcIjtcclxuICB9LFxyXG4gIGNoZWNrZWQ6IChhLCBiKSA9PiB7XHJcbiAgICBpZiAoYSA9PSBiKSByZXR1cm4gXCJjaGVja2VkXCI7XHJcbiAgfSxcclxuICBnZW5kZXI6IChhLCBiKSA9PiB7XHJcbiAgICBpZiAoYSA9PSBiKSByZXR1cm4gXCJjaGVja2VkXCI7XHJcbiAgICBpZiAoYSA9PSBudWxsKSByZXR1cm4gXCJcIjtcclxuICB9LFxyXG4gIGNvbnZlcnRHZW5kZXJUb1RleHQ6IChhKSA9PiB7XHJcbiAgICBpZiAoYSA9PT0gMCkgcmV0dXJuIFwiTmFtXCI7XHJcbiAgICBpZiAoYSA9PT0gMSkgcmV0dXJuIFwiTuG7r1wiO1xyXG4gICAgaWYgKGEgPT09IG51bGwpIHJldHVybiBcIktow7RuZyBYw6FjIMSQ4buLbmhcIjtcclxuICB9LFxyXG4gIGJ0blN0YXR1c0hpZGRlbjogKGEpID0+IChhID09IDEgPyBcImJ0bi1zdGF0dXMtLWhpZGRlblwiIDogXCJcIiksXHJcbiAgYWNjVHlwZTogKGEpID0+IHtcclxuICAgIGlmIChhID09IDEpIHJldHVybiBcIlF14bqjbiB0cuG7iyB2acOqblwiO1xyXG4gICAgZWxzZSBpZiAoYSA9PSAyKSByZXR1cm4gXCJCw6FjIHPEqVwiO1xyXG4gICAgZWxzZSBpZiAoYSA9PSAzKSByZXR1cm4gXCJOZ8aw4budaSBkw7luZ1wiO1xyXG4gIH0sXHJcbiAgc3RhdHVzSXNDYW5jZWw6IChhKSA9PiB7XHJcbiAgICBpZiAoYSA9PT0gMCkgcmV0dXJuIFwiSG/DoG4gdGjDoG5oXCI7XHJcbiAgICBlbHNlIGlmIChhID09PSAxKSByZXR1cm4gXCLEkMOjIGh14bu3XCI7XHJcbiAgICBlbHNlIHJldHVybiBcIsSQYW5nIGRp4buFbiByYVwiO1xyXG4gIH0sXHJcbiAgc29ydGFibGU6IChmaWVsZCwgc29ydCkgPT4ge1xyXG4gICAgY29uc3Qgc29ydFR5cGUgPSBmaWVsZCA9PSBzb3J0LmNvbHVtbiA/IHNvcnQudHlwZSA6IFwiZGVmYXVsdFwiO1xyXG4gICAgY29uc3QgaWNvbnMgPSB7XHJcbiAgICAgIGRlZmF1bHQ6IFwiZmFzIGZhLXNvcnRcIixcclxuICAgICAgZGVzYzogXCJmYXMgZmEtc29ydC1hbW91bnQtZG93blwiLFxyXG4gICAgICBhc2M6IFwiZmFzIGZhLXNvcnQtYW1vdW50LXVwXCIsXHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IHR5cGVzID0ge1xyXG4gICAgICBkZWZhdWx0OiBcImRlc2NcIixcclxuICAgICAgYXNjOiBcImRlc2NcIixcclxuICAgICAgZGVzYzogXCJhc2NcIixcclxuICAgIH07XHJcbiAgICBjb25zdCBpY29uID0gaWNvbnNbc29ydFR5cGVdO1xyXG4gICAgY29uc3QgdHlwZSA9IHR5cGVzW3NvcnRUeXBlXTtcclxuICAgIHJldHVybiBgPGEgaHJlZj1cIj9fc29ydCZjb2x1bW49JHtmaWVsZH0mdHlwZT0ke3R5cGV9XCI+XHJcbiAgICAgICAgICA8aSBjbGFzcz1cIiR7aWNvbn1cIj48L2k+XHJcbiAgICAgICAgPC9hPmA7XHJcbiAgfSxcclxuICBmb3JtYXRDdXJyZW5jeTogKHByaWNlKSA9PiB7XHJcbiAgICByZXR1cm4gbmV3IEludGwuTnVtYmVyRm9ybWF0KFwidmktVk5cIiwge1xyXG4gICAgICBzdHlsZTogXCJjdXJyZW5jeVwiLFxyXG4gICAgICBjdXJyZW5jeTogXCJWTkRcIixcclxuICAgIH0pLmZvcm1hdChOdW1iZXIocHJpY2UpKTtcclxuICB9LFxyXG5cclxuICBmb3JtYXRMb25nU3RyaW5nOiAoc3RyKSA9PiB7XHJcbiAgICByZXR1cm4gc3RyLmxlbmd0aCA+IDEwID8gc3RyLnNsaWNlKDAsIDkpLmNvbmNhdChcIi4uLlwiKSA6IHN0cjtcclxuICB9LFxyXG5cclxuICBlbWl0Q2FyZFRpdGxlOiAoc3RyKSA9PiB7XHJcbiAgICByZXR1cm4gc3RyLmxlbmd0aCA+IDQwID8gc3RyLnNsaWNlKDAsIDQwKS5jb25jYXQoXCIuLi5cIikgOiBzdHI7XHJcbiAgfSxcclxuXHJcbiAgZGlzcGxheVByb21vdGlvbjogKHBlcikgPT4ge1xyXG4gICAgcmV0dXJuIHBlciAhPSAwID8gcGVyICsgXCIlIG9mZlwiIDogXCJcIjtcclxuICB9LFxyXG5cclxuICBkaXNwbGF5U3Rhck5vOiAoc3Rhck5vKSA9PiB7XHJcbiAgICBsZXQgc3RhcnMgPSBcIlwiO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdGFyTm87IGkrKykgc3RhcnMgKz0gXCJzdGFyIFwiO1xyXG4gICAgcmV0dXJuIHN0YXJzO1xyXG4gIH0sXHJcbiAgdHJ1ZVNlbGVjdGVkOiAodmFsdWUpID0+IHtcclxuICAgIHJldHVybiB2YWx1ZSA9PT0gMSA/IFwic2VsZWN0ZWRcIiA6IFwiXCI7XHJcbiAgfSxcclxuICBmYWxzZVNlbGVjdGVkOiAodmFsdWUpID0+IHtcclxuICAgIHJldHVybiB2YWx1ZSA9PT0gMCA/IFwic2VsZWN0ZWRcIiA6IFwiXCI7XHJcbiAgfSxcclxuICBjaGVja2VkRm9sbG93U3RhdHVzOiAoYSkgPT4ge1xyXG4gICAgcmV0dXJuIGEgPT09IDEgPyBcImNoZWNrZWRcIiA6IFwiXCI7XHJcbiAgfSxcclxuICBhY3RpdmVDb2xvckZvbGxvd1N0YXR1czogKGEpID0+IHtcclxuICAgIHJldHVybiBhID09PSAxID8gXCJncmVlblwiIDogXCJyZWRcIjtcclxuICB9LFxyXG4gIGRpc3BsYXlTdGFyTm86IChzdGFyTm8pID0+IHtcclxuICAgIGxldCBzdGFycyA9IGBgO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdGFyTm87IGkrKykgc3RhcnMgKz0gYOKtkGA7XHJcbiAgICByZXR1cm4gc3RhcnM7XHJcbiAgfSxcclxuXHJcbiAgZm9ybWF0VGltZTogKHRpbWUpID0+IHtcclxuICAgIGNvbnN0IHRpbWVzID0gdGltZS5zcGxpdChcIjpcIik7XHJcbiAgICByZXR1cm4gYCR7dGltZXNbMF19OiR7dGltZXNbMV19YDtcclxuICB9LFxyXG5cclxuICBmb3JtYXREYXRlVGltZTogKGRhdGUpID0+IHtcclxuICAgIGNvbnN0IGV2ZW50ID0gbmV3IERhdGUoZGF0ZSk7XHJcbiAgICBjb25zdCBvcHRpb25zID0ge1xyXG4gICAgICB3ZWVrZGF5OiBcImxvbmdcIixcclxuICAgICAgeWVhcjogXCJudW1lcmljXCIsXHJcbiAgICAgIG1vbnRoOiBcImxvbmdcIixcclxuICAgICAgZGF5OiBcIm51bWVyaWNcIixcclxuICAgICAgaG91cjogXCIyLWRpZ2l0XCIsXHJcbiAgICAgIG1pbnV0ZTogXCIyLWRpZ2l0XCIsXHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIGV2ZW50LnRvTG9jYWxlRGF0ZVN0cmluZyhcInZpLVZOXCIsIG9wdGlvbnMpO1xyXG4gIH0sXHJcbiAgZ2V0Q3VycmVudERhdGU6ICgpID0+IHtcclxuICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSgpO1xyXG4gICAgY29uc3QgbmV3TW9udGggPVxyXG4gICAgICBkYXRlLmdldE1vbnRoKCkgLyA5IDw9IDEgPyBgMCR7ZGF0ZS5nZXRNb250aCgpfWAgOiBkYXRlLmdldE1vbnRoKCk7XHJcbiAgICByZXR1cm4gYCR7ZGF0ZS5nZXRGdWxsWWVhcigpfS0ke25ld01vbnRofS0ke2RhdGUuZ2V0RGF0ZSgpfWA7XHJcbiAgfSxcclxufTtcclxuIl19","map":{"version":3,"sources":["hbs.js"],"names":["moment","require","module","exports","displayPayment","a","parseInt","toString","mergeName","b","convertDate","format","nonImage","hidden","deleteSpace","trim","emotionReact","clinic","styleStatus","converDateNewsfeed","iconRulePost","sum","convertGender","status","followCustomer","followGroup","btnStatus","checked","gender","convertGenderToText","btnStatusHidden","accType","statusIsCancel","sortable","field","sort","sortType","column","type","icons","desc","asc","types","icon","formatCurrency","price","Intl","NumberFormat","style","currency","Number","formatLongString","str","length","slice","concat","emitCardTitle","displayPromotion","per","displayStarNo","starNo","stars","i","trueSelected","value","falseSelected","checkedFollowStatus","activeColorFollowStatus","time","times","split","date","event","Date","options","weekday","year","month","day","hour","minute","toLocaleDateString","newMonth","getMonth","getFullYear","getDate"],"mappings":"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","sourceRoot":"/Users/mac/Desktop/Final_Project_DTU/src/helpers/","sourcesContent":["var moment = require(\"moment\");\r\n\r\nmodule.exports = {\r\n  displayPayment: (a) => ((parseInt(a)*30)/100).toString() ,\r\n  mergeName: (a, b) => a + \" \" + b,\r\n  convertDate: (a) => moment(a).format(\"YYYY-MM-DD\"),\r\n  nonImage: (a) => (a == \"undefined\" ? \"nonimage.png\" : a),\r\n  hidden: (a) => {\r\n    if (a == 1) return \"hidden\";\r\n  },\r\n  deleteSpace: (a) => a.trim(),\r\n  emotionReact: (a) => {\r\n    if (a == 3) {\r\n      return \"haha-react.png\";\r\n    } else if (a == 1) {\r\n      return \"red-heart_2764-fe0f.png\";\r\n    } else if (a == 2) {\r\n      return \"like-react.png\";\r\n    } else if (a == 3) {\r\n      return \"haha-react.png\";\r\n    } else if (a == 4) {\r\n      return \"angry-icon.png\";\r\n    } else if (a == 5) {\r\n      return \"lovelove-icon.png\";\r\n    } else if (a == 6) {\r\n      return \"cry-icon.png\";\r\n    } else {\r\n      return \"white-heart.png\";\r\n    }\r\n  },\r\n  clinic: (a) => {\r\n    if (a == null) return 'Khoa';\r\n    return a;\r\n  },\r\n  styleStatus: (a) => {\r\n    if (a == 1) return \"check text-green-600\";\r\n    if (a == 0) return \"close text-red-500\";\r\n    if (a == 2) return \"remove text-yellow-500\";\r\n  },\r\n\r\n  converDateNewsfeed: (a) => moment(a).format(\"LLL\"),\r\n  iconRulePost: (a) => (a == 1 ? \"world-icon.png\" : \"locked-icon.png\"),\r\n  sum: (a) => (a == a ? a + 1 : a), //create helpers\r\n  convertGender: (a) => (a == 1 ? \"Nam\" : \"Nữ\"),\r\n  status: (a) => {\r\n    if (a == 1) return \"Hoạt động\";\r\n    if (a == 0) return \"Khóa\";\r\n    if (a == 2) return \"Bận\";\r\n  },\r\n  followCustomer: (a) => (a == 1 ? \"unfollow\" : \"follow\"),\r\n  followGroup: (a) => (a == 1 ? \"leave\" : \"join\"),\r\n  btnStatus: (a) => {\r\n    if (a == 1) return \"check\";\r\n    if (a == 0) return \"close\";\r\n    if (a == 2) return \"remove\";\r\n  },\r\n  checked: (a, b) => {\r\n    if (a == b) return \"checked\";\r\n  },\r\n  gender: (a, b) => {\r\n    if (a == b) return \"checked\";\r\n    if (a == null) return \"\";\r\n  },\r\n  convertGenderToText: (a) => {\r\n    if (a === 0) return \"Nam\";\r\n    if (a === 1) return \"Nữ\";\r\n    if (a === null) return \"Không Xác Định\";\r\n  },\r\n  btnStatusHidden: (a) => (a == 1 ? \"btn-status--hidden\" : \"\"),\r\n  accType: (a) => {\r\n    if (a == 1) return \"Quản trị viên\";\r\n    else if (a == 2) return \"Bác sĩ\";\r\n    else if (a == 3) return \"Người dùng\";\r\n  },\r\n  statusIsCancel: (a) => {\r\n    if (a === 0) return \"Hoàn thành\";\r\n    else if (a === 1) return \"Đã huỷ\";\r\n    else return \"Đang diễn ra\";\r\n  },\r\n  sortable: (field, sort) => {\r\n    const sortType = field == sort.column ? sort.type : \"default\";\r\n    const icons = {\r\n      default: \"fas fa-sort\",\r\n      desc: \"fas fa-sort-amount-down\",\r\n      asc: \"fas fa-sort-amount-up\",\r\n    };\r\n\r\n    const types = {\r\n      default: \"desc\",\r\n      asc: \"desc\",\r\n      desc: \"asc\",\r\n    };\r\n    const icon = icons[sortType];\r\n    const type = types[sortType];\r\n    return `<a href=\"?_sort&column=${field}&type=${type}\">\r\n          <i class=\"${icon}\"></i>\r\n        </a>`;\r\n  },\r\n  formatCurrency: (price) => {\r\n    return new Intl.NumberFormat(\"vi-VN\", {\r\n      style: \"currency\",\r\n      currency: \"VND\",\r\n    }).format(Number(price));\r\n  },\r\n\r\n  formatLongString: (str) => {\r\n    return str.length > 10 ? str.slice(0, 9).concat(\"...\") : str;\r\n  },\r\n\r\n  emitCardTitle: (str) => {\r\n    return str.length > 40 ? str.slice(0, 40).concat(\"...\") : str;\r\n  },\r\n\r\n  displayPromotion: (per) => {\r\n    return per != 0 ? per + \"% off\" : \"\";\r\n  },\r\n\r\n  displayStarNo: (starNo) => {\r\n    let stars = \"\";\r\n    for (let i = 0; i < starNo; i++) stars += \"star \";\r\n    return stars;\r\n  },\r\n  trueSelected: (value) => {\r\n    return value === 1 ? \"selected\" : \"\";\r\n  },\r\n  falseSelected: (value) => {\r\n    return value === 0 ? \"selected\" : \"\";\r\n  },\r\n  checkedFollowStatus: (a) => {\r\n    return a === 1 ? \"checked\" : \"\";\r\n  },\r\n  activeColorFollowStatus: (a) => {\r\n    return a === 1 ? \"green\" : \"red\";\r\n  },\r\n  displayStarNo: (starNo) => {\r\n    let stars = ``;\r\n    for (let i = 0; i < starNo; i++) stars += `⭐`;\r\n    return stars;\r\n  },\r\n\r\n  formatTime: (time) => {\r\n    const times = time.split(\":\");\r\n    return `${times[0]}:${times[1]}`;\r\n  },\r\n\r\n  formatDateTime: (date) => {\r\n    const event = new Date(date);\r\n    const options = {\r\n      weekday: \"long\",\r\n      year: \"numeric\",\r\n      month: \"long\",\r\n      day: \"numeric\",\r\n      hour: \"2-digit\",\r\n      minute: \"2-digit\",\r\n    };\r\n    return event.toLocaleDateString(\"vi-VN\", options);\r\n  },\r\n  getCurrentDate: () => {\r\n    const date = new Date();\r\n    const newMonth =\r\n      date.getMonth() / 9 <= 1 ? `0${date.getMonth()}` : date.getMonth();\r\n    return `${date.getFullYear()}-${newMonth}-${date.getDate()}`;\r\n  },\r\n};\r\n"]}},"mtime":1679188858960}}